(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Af={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function qE(){if(ry)return Pl;ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var sy;function HE(){return sy||(sy=1,Af.exports=qE()),Af.exports}var nt=HE(),Sf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function GE(){if(ly)return Ct;ly=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,at={};function $(C,K,it){this.props=C,this.context=K,this.refs=at,this.updater=it||q}$.prototype.isReactComponent={},$.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function wt(){}wt.prototype=$.prototype;function mt(C,K,it){this.props=C,this.context=K,this.refs=at,this.updater=it||q}var gt=mt.prototype=new wt;gt.constructor=mt,Z(gt,$.prototype),gt.isPureReactComponent=!0;var Ut=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function x(C,K,it,J,ft,Dt){return it=Dt.ref,{$$typeof:s,type:C,key:K,ref:it!==void 0?it:null,props:Dt}}function S(C,K){return x(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return K[it]})}var O=/\/+/g;function M(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function R(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function se(C,K,it,J,ft){var Dt=typeof C;(Dt==="undefined"||Dt==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case s:case e:Tt=!0;break;case A:return Tt=C._init,se(Tt(C._payload),K,it,J,ft)}}if(Tt)return ft=ft(C),Tt=J===""?"."+M(C,0):J,Ut(ft)?(it="",Tt!=null&&(it=Tt.replace(O,"$&/")+"/"),se(ft,K,it,"",function(wn){return wn})):ft!=null&&(w(ft)&&(ft=S(ft,it+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(O,"$&/")+"/")+Tt)),K.push(ft)),1;Tt=0;var Ee=J===""?".":J+":";if(Ut(C))for(var Yt=0;Yt<C.length;Yt++)J=C[Yt],Dt=Ee+M(J,Yt),Tt+=se(J,K,it,Dt,ft);else if(Yt=V(C),typeof Yt=="function")for(C=Yt.call(C),Yt=0;!(J=C.next()).done;)J=J.value,Dt=Ee+M(J,Yt++),Tt+=se(J,K,it,Dt,ft);else if(Dt==="object"){if(typeof C.then=="function")return se(ge(C),K,it,J,ft);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function H(C,K,it){if(C==null)return C;var J=[],ft=0;return se(C,J,"","",function(Dt){return K.call(it,Dt,ft++)}),J}function et(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ht=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Ct.Children={map:H,forEach:function(C,K,it){H(C,function(){K.apply(this,arguments)},it)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ct.Component=$,Ct.Fragment=i,Ct.Profiler=u,Ct.PureComponent=mt,Ct.StrictMode=r,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Rt.H.useMemoCache(C)}},Ct.cache=function(C){return function(){return C.apply(null,arguments)}},Ct.cloneElement=function(C,K,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Z({},C.props),ft=C.key,Dt=void 0;if(K!=null)for(Tt in K.ref!==void 0&&(Dt=void 0),K.key!==void 0&&(ft=""+K.key),K)!qt.call(K,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&K.ref===void 0||(J[Tt]=K[Tt]);var Tt=arguments.length-2;if(Tt===1)J.children=it;else if(1<Tt){for(var Ee=Array(Tt),Yt=0;Yt<Tt;Yt++)Ee[Yt]=arguments[Yt+2];J.children=Ee}return x(C.type,ft,void 0,void 0,Dt,J)},Ct.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Ct.createElement=function(C,K,it){var J,ft={},Dt=null;if(K!=null)for(J in K.key!==void 0&&(Dt=""+K.key),K)qt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=K[J]);var Tt=arguments.length-2;if(Tt===1)ft.children=it;else if(1<Tt){for(var Ee=Array(Tt),Yt=0;Yt<Tt;Yt++)Ee[Yt]=arguments[Yt+2];ft.children=Ee}if(C&&C.defaultProps)for(J in Tt=C.defaultProps,Tt)ft[J]===void 0&&(ft[J]=Tt[J]);return x(C,Dt,void 0,void 0,null,ft)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(C){return{$$typeof:p,render:C}},Ct.isValidElement=w,Ct.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Ct.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Ct.startTransition=function(C){var K=Rt.T,it={};Rt.T=it;try{var J=C(),ft=Rt.S;ft!==null&&ft(it,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,ht)}catch(Dt){ht(Dt)}finally{Rt.T=K}},Ct.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Ct.use=function(C){return Rt.H.use(C)},Ct.useActionState=function(C,K,it){return Rt.H.useActionState(C,K,it)},Ct.useCallback=function(C,K){return Rt.H.useCallback(C,K)},Ct.useContext=function(C){return Rt.H.useContext(C)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(C,K){return Rt.H.useDeferredValue(C,K)},Ct.useEffect=function(C,K,it){var J=Rt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,K)},Ct.useId=function(){return Rt.H.useId()},Ct.useImperativeHandle=function(C,K,it){return Rt.H.useImperativeHandle(C,K,it)},Ct.useInsertionEffect=function(C,K){return Rt.H.useInsertionEffect(C,K)},Ct.useLayoutEffect=function(C,K){return Rt.H.useLayoutEffect(C,K)},Ct.useMemo=function(C,K){return Rt.H.useMemo(C,K)},Ct.useOptimistic=function(C,K){return Rt.H.useOptimistic(C,K)},Ct.useReducer=function(C,K,it){return Rt.H.useReducer(C,K,it)},Ct.useRef=function(C){return Rt.H.useRef(C)},Ct.useState=function(C){return Rt.H.useState(C)},Ct.useSyncExternalStore=function(C,K,it){return Rt.H.useSyncExternalStore(C,K,it)},Ct.useTransition=function(){return Rt.H.useTransition()},Ct.version="19.1.0",Ct}var uy;function ld(){return uy||(uy=1,Sf.exports=GE()),Sf.exports}var re=ld(),bf={exports:{}},Bl={},Rf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function QE(){return oy||(oy=1,function(s){function e(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var Lt=ht-1>>>1,C=H[Lt];if(0<u(C,et))H[Lt]=et,H[ht]=C,ht=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var Lt=0,C=H.length,K=C>>>1;Lt<K;){var it=2*(Lt+1)-1,J=H[it],ft=it+1,Dt=H[ft];if(0>u(J,ht))ft<C&&0>u(Dt,J)?(H[Lt]=Dt,H[ft]=ht,Lt=ft):(H[Lt]=J,H[it]=ht,Lt=it);else if(ft<C&&0>u(Dt,ht))H[Lt]=Dt,H[ft]=ht,Lt=ft;else break t}}return et}function u(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,D=null,V=3,q=!1,Z=!1,at=!1,$=!1,wt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Rt(H){if(at=!1,Ut(H),!Z)if(i(v)!==null)Z=!0,qt||(qt=!0,M());else{var et=i(_);et!==null&&se(Rt,et.startTime-H)}}var qt=!1,x=-1,S=5,w=-1;function N(){return $?!0:!(s.unstable_now()-w<S)}function O(){if($=!1,qt){var H=s.unstable_now();w=H;var et=!0;try{t:{Z=!1,at&&(at=!1,mt(x),x=-1),q=!0;var ht=V;try{e:{for(Ut(H),D=i(v);D!==null&&!(D.expirationTime>H&&N());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,V=D.priorityLevel;var C=Lt(D.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){D.callback=C,Ut(H),et=!0;break e}D===i(v)&&r(v),Ut(H)}else r(v);D=i(v)}if(D!==null)et=!0;else{var K=i(_);K!==null&&se(Rt,K.startTime-H),et=!1}}break t}finally{D=null,V=ht,q=!1}et=void 0}}finally{et?M():qt=!1}}}var M;if(typeof gt=="function")M=function(){gt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ge=R.port2;R.port1.onmessage=O,M=function(){ge.postMessage(null)}}else M=function(){wt(O,0)};function se(H,et){x=wt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ht=V;V=et;try{return H()}finally{V=ht}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=V;V=H;try{return et()}finally{V=ht}},s.unstable_scheduleCallback=function(H,et,ht){var Lt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ht+C,H={id:A++,callback:et,priorityLevel:H,startTime:ht,expirationTime:C,sortIndex:-1},ht>Lt?(H.sortIndex=ht,e(_,H),i(v)===null&&H===i(_)&&(at?(mt(x),x=-1):at=!0,se(Rt,ht-Lt))):(H.sortIndex=C,e(v,H),Z||q||(Z=!0,qt||(qt=!0,M()))),H},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(H){var et=V;return function(){var ht=V;V=et;try{return H.apply(this,arguments)}finally{V=ht}}}}(wf)),wf}var cy;function YE(){return cy||(cy=1,Rf.exports=QE()),Rf.exports}var Cf={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function FE(){if(hy)return Je;hy=1;var s=ld();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Je.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Je.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:q}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:V,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Je.requestFormReset=function(v){r.d.r(v)},Je.unstable_batchedUpdates=function(v,_){return v(_)},Je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var fy;function KE(){if(fy)return Cf.exports;fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=FE(),Cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function XE(){if(dy)return Bl;dy=1;var s=YE(),e=ld(),i=KE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),wt=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case at:return"StrictMode";case Rt:return"Suspense";case qt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ge(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ge(t(n))}catch{}}return null}var se=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function K(t){return{current:t}}function it(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function J(t,n){C++,Lt[C]=t.current,t.current=n}var ft=K(null),Dt=K(null),Tt=K(null),Ee=K(null);function Yt(t,n){switch(J(Tt,n),J(Dt,t),J(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Op(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Op(n),t=Mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ft),J(ft,t)}function wn(){it(ft),it(Dt),it(Tt)}function Jn(t){t.memoizedState!==null&&J(Ee,t);var n=ft.current,a=Mp(n,t.type);n!==a&&(J(Dt,t),J(ft,a))}function W(t){Dt.current===t&&(it(ft),it(Dt)),Ee.current===t&&(it(Ee),Ol._currentValue=ht)}var yt=Object.prototype.hasOwnProperty,dt=s.unstable_scheduleCallback,lt=s.unstable_cancelCallback,ut=s.unstable_shouldYield,Xt=s.unstable_requestPaint,fe=s.unstable_now,Cn=s.unstable_getCurrentPriorityLevel,jn=s.unstable_ImmediatePriority,qn=s.unstable_UserBlockingPriority,Wn=s.unstable_NormalPriority,Hn=s.unstable_LowPriority,je=s.unstable_IdlePriority,Ze=s.log,Dn=s.unstable_setDisableYieldValue,ae=null,Ht=null;function un(t){if(typeof Ze=="function"&&Dn(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,t)}catch{}}var we=Math.clz32?Math.clz32:Si,Gn=Math.log,Ai=Math.LN2;function Si(t){return t>>>=0,t===0?32:31-(Gn(t)/Ai|0)|0}var ja=256,qa=4194304;function Qn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Qn(l):(y&=E,y!==0?c=Qn(y):a||(a=E&~t,a!==0&&(c=Qn(a))))):(E=l&~f,E!==0?c=Qn(E):y!==0?c=Qn(y):a||(a=l&~t,a!==0&&(c=Qn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ha(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=ja;return ja<<=1,(ja&4194048)===0&&(ja=256),t}function Us(){var t=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),t}function bi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-we(a),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&ti(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ti(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-we(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-we(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ta(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Wp(t.type))}function hu(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var le=Math.random().toString(36).slice(2),Ce="__reactFiber$"+le,Te="__reactProps$"+le,Vn="__reactContainer$"+le,Ps="__reactEvents$"+le,bc="__reactListeners$"+le,ea="__reactHandles$"+le,fu="__reactResources$"+le,Ga="__reactMarker$"+le;function na(t){delete t[Ce],delete t[Te],delete t[Ps],delete t[bc],delete t[ea]}function wi(t){var n=t[Ce];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Vn]||a[Ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Pp(t);t!==null;){if(a=t[Ce])return a;t=Pp(t)}return n}t=a,a=t.parentNode}return null}function ei(t){if(t=t[Ce]||t[Vn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ni(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function nn(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[Ga]=!0}var Bs=new Set,Cr={};function Yn(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Cr[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},Qa={};function gu(t){return yt.call(Qa,t)?!0:yt.call(mu,t)?!1:du.test(t)?Qa[t]=!0:(mu[t]=!0,!1)}function ia(t,n,a){if(gu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ii(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function qe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ya,pu;function Di(t){if(Ya===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ya=n&&n[1]||"",pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+t+pu}var Dr=!1;function Vr(t,n){if(!t||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function ks(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Vr(t.type,!1);case 11:return Vr(t.type.render,!1);case 1:return Vr(t.type,!0);case 31:return Di("Activity");default:return""}}function Ir(t){try{var n="";do n+=ks(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rc(t){var n=js(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Nr(t){t._valueTracker||(t._valueTracker=Rc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wc=/[\n"\\]/g;function Ae(t){return t.replace(wc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?aa(t,y,an(n)):a!=null?aa(t,y,an(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+an(E):t.removeAttribute("name")}function Ka(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+an(a):"",n=n!=null?""+an(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function aa(t,n,a){n==="number"&&Fa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jt(t,n,a){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+an(a):""}function Xa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(se(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=an(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Za.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Hs(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&yu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&yu(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(t){return Dc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,xi=null;function Qs(t){var n=ei(t);if(n&&(t=n.stateNode)){var a=t[Te]||null;t:switch(t=n.stateNode,n.type){case"input":if(gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Te]||null;if(!c)throw Error(r(90));gn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qs(l)}break t;case"textarea":Jt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Vi(t,!!a.multiple,n,!1)}}}var ai=!1;function _u(t,n,a){if(ai)return t(n,a);ai=!0;try{var l=t(n);return l}finally{if(ai=!1,(Ni!==null||xi!==null)&&(ho(),Ni&&(n=Ni,t=xi,xi=Ni=null,Qs(n),t)))for(n=0;n<t.length;n++)Qs(t[n])}}function $a(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Fn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{xn=!1}var ri=null,ra=null,Oi=null;function Ys(){if(Oi)return Oi;var t,n=ra,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return Oi=c.slice(t,1<l?1-l:void 0)}function si(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Fs(){return!1}function Ue(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?li:Fs,this.isPropagationStopped=Fs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),n}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=Ue(Ft),Wa=A({},Ft,{view:0,detail:0}),vu=Ue(Wa),Mr,Ur,ui,tr=A({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Mr=t.screenX-ui.screenX,Ur=t.screenY-ui.screenY):Ur=Mr=0,ui=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),On=Ue(tr),Eu=A({},tr,{dataTransfer:0}),Vc=Ue(Eu),er=A({},Wa,{relatedTarget:0}),Lr=Ue(er),Ks=A({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Ue(Ks),Tu=A({},Ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pr=Ue(Tu),Ic=A({},Ft,{data:0}),Xs=Ue(Ic),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function ir(){return Zs}var bu=A({},Wa,{key:function(t){if(t.key){var n=nr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Br=Ue(bu),Ru=A({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Ue(Ru),Mi=A({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),wu=Ue(Mi),Cu=A({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Ue(Cu),Vu=A({},tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kr=Ue(Vu),rn=A({},Ft,{newState:0,oldState:0}),Iu=Ue(rn),Nu=[9,13,27,32],oi=Fn&&"CompositionEvent"in window,o=null;Fn&&"documentMode"in document&&(o=document.documentMode);var m=Fn&&"TextEvent"in window&&!o,g=Fn&&(!oi||o&&8<o&&11>=o),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zt=!1;function De(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Pt(t,n){if(zt)return t==="compositionend"||!oi&&j(t,n)?(t=Ys(),Oi=ra=ri=null,zt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Le[t.type]:n==="textarea"}function Ui(t,n,a,l){Ni?xi?xi.push(l):xi=[l]:Ni=l,n=_o(n,"onChange"),0<n.length&&(a=new Or("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var He=null,ci=null;function Js(t){Dp(t,0)}function xu(t){var n=ni(t);if(qs(n))return t}function Xd(t,n){if(t==="change")return n}var Zd=!1;if(Fn){var Nc;if(Fn){var xc="oninput"in document;if(!xc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),xc=typeof $d.oninput=="function"}Nc=xc}else Nc=!1;Zd=Nc&&(!document.documentMode||9<document.documentMode)}function Jd(){He&&(He.detachEvent("onpropertychange",Wd),ci=He=null)}function Wd(t){if(t.propertyName==="value"&&xu(ci)){var n=[];Ui(n,ci,t,Nn(t)),_u(Js,n)}}function _0(t,n,a){t==="focusin"?(Jd(),He=n,ci=a,He.attachEvent("onpropertychange",Wd)):t==="focusout"&&Jd()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(ci)}function E0(t,n){if(t==="click")return xu(n)}function T0(t,n){if(t==="input"||t==="change")return xu(n)}function A0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:A0;function Ws(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!yt.call(n,c)||!pn(t[c],n[c]))return!1}return!0}function tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function em(t,n){var a=tm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tm(a)}}function nm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?nm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Fa(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var S0=Fn&&"documentMode"in document&&11>=document.documentMode,jr=null,Mc=null,tl=null,Uc=!1;function am(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||jr==null||jr!==Fa(l)||(l=jr,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=_o(Mc,"onSelect"),0<l.length&&(n=new Or("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=jr)))}function ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},Lc={},rm={};Fn&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function rr(t){if(Lc[t])return Lc[t];if(!qr[t])return t;var n=qr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in rm)return Lc[t]=n[a];return t}var sm=rr("animationend"),lm=rr("animationiteration"),um=rr("animationstart"),b0=rr("transitionrun"),R0=rr("transitionstart"),w0=rr("transitioncancel"),om=rr("transitionend"),cm=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function Kn(t,n){cm.set(t,n),Yn(n,[t])}var hm=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var a=hm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ir(n)},hm.set(t,n),n)}return{value:t,source:n,stack:Ir(n)}}var Un=[],Hr=0,Pc=0;function Ou(){for(var t=Hr,n=Pc=Hr=0;n<t;){var a=Un[n];Un[n++]=null;var l=Un[n];Un[n++]=null;var c=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&fm(a,c,f)}}function Mu(t,n,a,l){Un[Hr++]=t,Un[Hr++]=n,Un[Hr++]=a,Un[Hr++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,a,l){return Mu(t,n,a,l),Uu(t)}function Gr(t,n){return Mu(t,null,null,n),Uu(t)}function fm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-we(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Uu(t){if(50<Rl)throw Rl=0,Qh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qr={};function C0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new C0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")kc(t)&&(y=1);else if(typeof t=="string")y=VE(t,a,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=yn(31,a,n,c),t.elementType=w,t.lanes=f,t;case Z:return sr(a.children,c,f,n);case at:y=8,c|=24;break;case $:return t=yn(12,a,n,c|2),t.elementType=$,t.lanes=f,t;case Rt:return t=yn(13,a,n,c),t.elementType=Rt,t.lanes=f,t;case qt:return t=yn(19,a,n,c),t.elementType=qt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wt:case gt:y=10;break t;case mt:y=9;break t;case Ut:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=yn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function sr(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function jc(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function qc(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yr=[],Fr=0,zu=null,Pu=0,Ln=[],zn=0,lr=null,zi=1,Pi="";function ur(t,n){Yr[Fr++]=Pu,Yr[Fr++]=zu,zu=t,Pu=n}function mm(t,n,a){Ln[zn++]=zi,Ln[zn++]=Pi,Ln[zn++]=lr,lr=t;var l=zi;t=Pi;var c=32-we(l)-1;l&=~(1<<c),a+=1;var f=32-we(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,zi=1<<32-we(n)+c|a<<c|l,Pi=f+t}else zi=1<<f|a<<c|l,Pi=t}function Hc(t){t.return!==null&&(ur(t,1),mm(t,1,0))}function Gc(t){for(;t===zu;)zu=Yr[--Fr],Yr[Fr]=null,Pu=Yr[--Fr],Yr[Fr]=null;for(;t===lr;)lr=Ln[--zn],Ln[zn]=null,Pi=Ln[--zn],Ln[zn]=null,zi=Ln[--zn],Ln[zn]=null}var sn=null,de=null,Qt=!1,or=null,hi=!1,Qc=Error(r(519));function cr(t){var n=Error(r(418,""));throw il(Mn(n,t)),Qc}function gm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ce]=t,n[Te]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ot(Cl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Nr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Xa(n,l.value,l.defaultValue,l.children),Nr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||xp(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=vo),n=!0):n=!1,n||cr(t)}function pm(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:sn=sn.return}}function el(t){if(t!==sn)return!1;if(!Qt)return pm(t),Qt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||uf(t.type,t.memoizedProps)),a=!a),a&&de&&cr(t),pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){de=Zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}de=null}}else n===27?(n=de,Ta(t.type)?(t=ff,ff=null,de=t):de=n):de=sn?Zn(t.stateNode.nextSibling):null;return!0}function nl(){de=sn=null,Qt=!1}function ym(){var t=or;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),or=null),t}function il(t){or===null?or=[t]:or.push(t)}var Yc=K(null),hr=null,Bi=null;function sa(t,n,a){J(Yc,n._currentValue),n._currentValue=a}function ki(t){t._currentValue=Yc.current,it(Yc)}function Fc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Kc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Fc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Fc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;pn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ee.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Kc(n,t,a,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fr(t){hr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return _m(hr,t)}function ku(t,n){return hr===null&&fr(t),_m(t,n)}function _m(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return a}var D0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},V0=s.unstable_scheduleCallback,I0=s.unstable_NormalPriority,Ie={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new D0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&V0(I0,function(){t.controller.abort()})}var sl=null,Zc=0,Kr=0,Xr=null;function N0(t,n){if(sl===null){var a=sl=[];Zc=0,Kr=Jh(),Xr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zc++,n.then(vm,vm),n}function vm(){if(--Zc===0&&sl!==null){Xr!==null&&(Xr.status="fulfilled");var t=sl;sl=null,Kr=0,Xr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function x0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Em=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&N0(t,n),Em!==null&&Em(t,n)};var dr=K(null);function $c(){var t=dr.current;return t!==null?t:ie.pooledCache}function ju(t,n){n===null?J(dr,dr.current):J(dr,n.pool)}function Tm(){var t=$c();return t===null?null:{parent:Ie._currentValue,pool:t}}var ll=Error(r(460)),Am=Error(r(474)),qu=Error(r(542)),Jc={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function bm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hu,Hu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t;default:if(typeof n.status=="string")n.then(Hu,Hu);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t}throw ul=n,ll}}var ul=null;function Rm(){if(ul===null)throw Error(r(459));var t=ul;return ul=null,t}function wm(t){if(t===ll||t===qu)throw Error(r(483))}var la=!1;function Wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uu(t),fm(t,null,a),n}return Mu(t,l,n,a),Uu(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}function eh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var nh=!1;function cl(){if(nh){var t=Xr;if(t!==null)throw t}}function hl(t,n,a,l){nh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Bt&B)===B:(l&B)===B){B!==0&&B===Kr&&(nh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=t,_t=E;B=n;var ee=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){Y=At.call(ee,Y,B);break t}Y=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,B=typeof At=="function"?At.call(ee,Y,B):At,B==null)break t;Y=A({},Y,B);break t;case 2:la=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=Y):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ya|=y,t.lanes=y,t.memoizedState=Y}}function Cm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Dm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cm(a[t],n)}var Zr=K(null),Gu=K(0);function Vm(t,n){t=Fi,J(Gu,t),J(Zr,n),Fi=t|n.baseLanes}function ih(){J(Gu,Fi),J(Zr,Zr.current)}function ah(){Fi=Gu.current,it(Zr),it(Gu)}var ca=0,Vt=null,Wt=null,Se=null,Qu=!1,$r=!1,mr=!1,Yu=0,fl=0,Jr=null,O0=0;function ye(){throw Error(r(321))}function rh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function sh(t,n,a,l,c,f){return ca=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?fg:dg,mr=!1,f=a(l,c),mr=!1,$r&&(f=Nm(n,a,l,c)),Im(t),f}function Im(t){H.H=Ju;var n=Wt!==null&&Wt.next!==null;if(ca=0,Se=Wt=Vt=null,Qu=!1,fl=0,Jr=null,n)throw Error(r(300));t===null||ze||(t=t.dependencies,t!==null&&Bu(t)&&(ze=!0))}function Nm(t,n,a,l){Vt=t;var c=0;do{if($r&&(Jr=null),fl=0,$r=!1,25<=c)throw Error(r(301));if(c+=1,Se=Wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=k0,f=n(a,l)}while($r);return f}function M0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(Vt.flags|=1024),n}function lh(){var t=Yu!==0;return Yu=0,t}function uh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function oh(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}ca=0,Se=Wt=Vt=null,$r=!1,fl=Yu=0,Jr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Vt.memoizedState=Se=t:Se=Se.next=t,Se}function be(){if(Wt===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Se===null?Vt.memoizedState:Se.next;if(n!==null)Se=n,Wt=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Vt.memoizedState=Se=t:Se=Se.next=t}return Se}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Jr===null&&(Jr=[]),t=bm(Jr,t,n),n=Vt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?fg:dg),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===gt)return $e(t)}throw Error(r(438,String(t)))}function hh(t){var n=null,a=Vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ch(),Vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function ji(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=be();return fh(n,Wt,t)}function fh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Bt&Y)===Y:(ca&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Kr&&(G=!0);else if((ca&B)===B){P=P.next,B===Kr&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Vt.lanes|=B,ya|=B;Y=P.action,mr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Vt.lanes|=Y,ya|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!pn(f,t.memoizedState)&&(ze=!0,G&&(a=Xr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dh(t){var n=be(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);pn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function xm(t,n,a){var l=Vt,c=be(),f=Qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!pn((Wt||c).memoizedState,a);y&&(c.memoizedState=a,ze=!0),c=c.queue;var E=Um.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Wr(9,Xu(),Mm.bind(null,l,c,a,n),null),ie===null)throw Error(r(349));f||(ca&124)!==0||Om(l,n,a)}return a}function Om(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Vt.updateQueue,n===null?(n=ch(),Vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Mm(t,n,a,l){n.value=a,n.getSnapshot=l,Lm(n)&&zm(t)}function Um(t,n,a){return a(function(){Lm(n)&&zm(t)})}function Lm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function zm(t){var n=Gr(t,2);n!==null&&An(n,t,2)}function mh(t){var n=on();if(typeof t=="function"){var a=t;if(t=a(),mr){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n}function Pm(t,n,a,l){return t.baseState=a,fh(t,Wt,typeof l=="function"?l:ji)}function U0(t,n,a,l,c){if($u(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Bm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Bm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),km(t,n,E)}catch(P){gh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),km(t,n,f)}catch(P){gh(t,n,P)}}function km(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jm(t,n,l)},function(l){return gh(t,n,l)}):jm(t,n,a)}function jm(t,n,a){n.status="fulfilled",n.value=a,qm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Bm(t,a)))}function gh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,qm(n),n=n.next;while(n!==l)}t.action=null}function qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hm(t,n){return n}function Gm(t,n){if(Qt){var a=ie.formState;if(a!==null){t:{var l=Vt;if(Qt){if(de){e:{for(var c=de,f=hi;c.nodeType!==8;){if(!f){c=null;break e}if(c=Zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){de=Zn(c.nextSibling),l=c.data==="F!";break t}}cr(l)}l=!1}l&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:n},a.queue=l,a=og.bind(null,Vt,l),l.dispatch=a,l=mh(!1),f=Eh.bind(null,Vt,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=U0.bind(null,Vt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Qm(t){var n=be();return Ym(n,Wt,t)}function Ym(t,n,a){if(n=fh(t,n,Hm)[0],t=Ku(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?qu:y}else l=n;n=be();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Vt.flags|=2048,Wr(9,Xu(),L0.bind(null,c,a),null)),[l,f,t]}function L0(t,n){t.action=n}function Fm(t){var n=be(),a=Wt;if(a!==null)return Ym(n,a,t);be(),n=n.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=ch(),Vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Km(){return be().memoizedState}function Zu(t,n,a,l){var c=on();l=l===void 0?null:l,Vt.flags|=t,c.memoizedState=Wr(1|n,Xu(),a,l)}function ml(t,n,a,l){var c=be();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&rh(l,Wt.memoizedState.deps)?c.memoizedState=Wr(n,f,a,l):(Vt.flags|=t,c.memoizedState=Wr(1|n,f,a,l))}function Xm(t,n){Zu(8390656,8,t,n)}function Zm(t,n){ml(2048,8,t,n)}function $m(t,n){return ml(4,2,t,n)}function Jm(t,n){return ml(4,4,t,n)}function Wm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tg(t,n,a){a=a!=null?a.concat([t]):null,ml(4,4,Wm.bind(null,n,t),a)}function ph(){}function eg(t,n){var a=be();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&rh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ng(t,n){var a=be();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&rh(n,l[1]))return l[0];if(l=t(),mr){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,n],l}function yh(t,n,a){return a===void 0||(ca&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=rp(),Vt.lanes|=t,ya|=t,a)}function ig(t,n,a,l){return pn(a,n)?a:Zr.current!==null?(t=yh(t,a,l),pn(t,n)||(ze=!0),t):(ca&42)===0?(ze=!0,t.memoizedState=a):(t=rp(),Vt.lanes|=t,ya|=t,n)}function ag(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Eh(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=x0(b,l);gl(t,n,G,Tn(t))}else gl(t,n,l,Tn(t))}catch(Y){gl(t,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{et.p=f,H.T=y}}function z0(){}function _h(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=rg(t).queue;ag(t,c,n,ht,a===null?z0:function(){return sg(t),a(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=rg(t).next.queue;gl(t,n,{},Tn())}function vh(){return $e(Ol)}function lg(){return be().memoizedState}function ug(){return be().memoizedState}function P0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=ua(a);var l=oa(n,t,a);l!==null&&(An(l,n,a),ol(l,n,a)),n={cache:Xc()},t.payload=n;return}n=n.return}}function B0(t,n,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?cg(n,a):(a=Bc(t,n,a,l),a!==null&&(An(a,t,l),hg(a,n,l)))}function og(t,n,a){var l=Tn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,pn(E,y))return Mu(t,n,c,0),ie===null&&Ou(),!1}catch{}finally{}if(a=Bc(t,n,c,l),a!==null)return An(a,t,l),hg(a,n,l),!0}return!1}function Eh(t,n,a,l){if(l={lane:2,revertLane:Jh(),action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(r(479))}else n=Bc(t,a,l,2),n!==null&&An(n,t,2)}function $u(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function cg(t,n){$r=Qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function hg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}var Ju={readContext:$e,use:Fu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},fg={readContext:$e,use:Fu,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:$e,useEffect:Xm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,Wm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var a=on();n=n===void 0?null:n;var l=t();if(mr){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=on();if(a!==void 0){var c=a(n);if(mr){un(!0);try{a(n)}finally{un(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=B0.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=mh(t);var n=t.queue,a=og.bind(null,Vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ph,useDeferredValue:function(t,n){var a=on();return yh(a,t,n)},useTransition:function(){var t=mh(!1);return t=ag.bind(null,Vt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Vt,c=on();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ie===null)throw Error(r(349));(Bt&124)!==0||Om(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Xm(Um.bind(null,l,f,t),[t]),l.flags|=2048,Wr(9,Xu(),Mm.bind(null,l,f,a,n),null),a},useId:function(){var t=on(),n=ie.identifierPrefix;if(Qt){var a=Pi,l=zi;a=(l&~(1<<32-we(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Yu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=O0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:vh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Eh.bind(null,Vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:hh,useCacheRefresh:function(){return on().memoizedState=P0.bind(null,Vt)}},dg={readContext:$e,use:Fu,useCallback:eg,useContext:$e,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:Ku,useRef:Km,useState:function(){return Ku(ji)},useDebugValue:ph,useDeferredValue:function(t,n){var a=be();return ig(a,Wt.memoizedState,t,n)},useTransition:function(){var t=Ku(ji)[0],n=be().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:xm,useId:lg,useHostTransitionStatus:vh,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,n){var a=be();return Pm(a,Wt,t,n)},useMemoCache:hh,useCacheRefresh:ug},k0={readContext:$e,use:Fu,useCallback:eg,useContext:$e,useEffect:Zm,useImperativeHandle:tg,useInsertionEffect:$m,useLayoutEffect:Jm,useMemo:ng,useReducer:dh,useRef:Km,useState:function(){return dh(ji)},useDebugValue:ph,useDeferredValue:function(t,n){var a=be();return Wt===null?yh(a,t,n):ig(a,Wt.memoizedState,t,n)},useTransition:function(){var t=dh(ji)[0],n=be().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:xm,useId:lg,useHostTransitionStatus:vh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var a=be();return Wt!==null?Pm(a,Wt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hh,useCacheRefresh:ug},ts=null,pl=0;function Wu(t){var n=pl;return pl+=1,ts===null&&(ts=[]),bm(ts,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function to(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function gg(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=Li(U,I),U.index=0,U.sibling=null,U}function f(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=67108866,I):z):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,z,Q){return I===null||I.tag!==6?(I=jc(z,U.mode,Q),I.return=U,I):(I=c(I,z),I.return=U,I)}function b(U,I,z,Q){var st=z.type;return st===Z?G(U,I,z.props.children,Q,z.key):I!==null&&(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&mg(st)===I.type)?(I=c(I,z.props),yl(I,z),I.return=U,I):(I=Lu(z.type,z.key,z.props,null,U.mode,Q),yl(I,z),I.return=U,I)}function P(U,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=qc(z,U.mode,Q),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function G(U,I,z,Q,st){return I===null||I.tag!==7?(I=sr(z,U.mode,Q,st),I.return=U,I):(I=c(I,z),I.return=U,I)}function Y(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=jc(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case V:return z=Lu(I.type,I.key,I.props,null,U.mode,z),yl(z,I),z.return=U,z;case q:return I=qc(I,U.mode,z),I.return=U,I;case S:var Q=I._init;return I=Q(I._payload),Y(U,I,z)}if(se(I)||M(I))return I=sr(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Wu(I),z);if(I.$$typeof===gt)return Y(U,ku(U,I),z);to(U,I)}return null}function B(U,I,z,Q){var st=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(U,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===st?b(U,I,z,Q):null;case q:return z.key===st?P(U,I,z,Q):null;case S:return st=z._init,z=st(z._payload),B(U,I,z,Q)}if(se(z)||M(z))return st!==null?null:G(U,I,z,Q,null);if(typeof z.then=="function")return B(U,I,Wu(z),Q);if(z.$$typeof===gt)return B(U,I,ku(U,z),Q);to(U,z)}return null}function k(U,I,z,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(I,U,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return U=U.get(Q.key===null?z:Q.key)||null,b(I,U,Q,st);case q:return U=U.get(Q.key===null?z:Q.key)||null,P(I,U,Q,st);case S:var Nt=Q._init;return Q=Nt(Q._payload),k(U,I,z,Q,st)}if(se(Q)||M(Q))return U=U.get(z)||null,G(I,U,Q,st,null);if(typeof Q.then=="function")return k(U,I,z,Wu(Q),st);if(Q.$$typeof===gt)return k(U,I,z,ku(I,Q),st);to(I,Q)}return null}function At(U,I,z,Q){for(var st=null,Nt=null,ct=I,vt=I=0,Be=null;ct!==null&&vt<z.length;vt++){ct.index>vt?(Be=ct,ct=null):Be=ct.sibling;var Gt=B(U,ct,z[vt],Q);if(Gt===null){ct===null&&(ct=Be);break}t&&ct&&Gt.alternate===null&&n(U,ct),I=f(Gt,I,vt),Nt===null?st=Gt:Nt.sibling=Gt,Nt=Gt,ct=Be}if(vt===z.length)return a(U,ct),Qt&&ur(U,vt),st;if(ct===null){for(;vt<z.length;vt++)ct=Y(U,z[vt],Q),ct!==null&&(I=f(ct,I,vt),Nt===null?st=ct:Nt.sibling=ct,Nt=ct);return Qt&&ur(U,vt),st}for(ct=l(ct);vt<z.length;vt++)Be=k(ct,U,vt,z[vt],Q),Be!==null&&(t&&Be.alternate!==null&&ct.delete(Be.key===null?vt:Be.key),I=f(Be,I,vt),Nt===null?st=Be:Nt.sibling=Be,Nt=Be);return t&&ct.forEach(function(wa){return n(U,wa)}),Qt&&ur(U,vt),st}function _t(U,I,z,Q){if(z==null)throw Error(r(151));for(var st=null,Nt=null,ct=I,vt=I=0,Be=null,Gt=z.next();ct!==null&&!Gt.done;vt++,Gt=z.next()){ct.index>vt?(Be=ct,ct=null):Be=ct.sibling;var wa=B(U,ct,Gt.value,Q);if(wa===null){ct===null&&(ct=Be);break}t&&ct&&wa.alternate===null&&n(U,ct),I=f(wa,I,vt),Nt===null?st=wa:Nt.sibling=wa,Nt=wa,ct=Be}if(Gt.done)return a(U,ct),Qt&&ur(U,vt),st;if(ct===null){for(;!Gt.done;vt++,Gt=z.next())Gt=Y(U,Gt.value,Q),Gt!==null&&(I=f(Gt,I,vt),Nt===null?st=Gt:Nt.sibling=Gt,Nt=Gt);return Qt&&ur(U,vt),st}for(ct=l(ct);!Gt.done;vt++,Gt=z.next())Gt=k(ct,U,vt,Gt.value,Q),Gt!==null&&(t&&Gt.alternate!==null&&ct.delete(Gt.key===null?vt:Gt.key),I=f(Gt,I,vt),Nt===null?st=Gt:Nt.sibling=Gt,Nt=Gt);return t&&ct.forEach(function(jE){return n(U,jE)}),Qt&&ur(U,vt),st}function ee(U,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var st=z.key;I!==null;){if(I.key===st){if(st=z.type,st===Z){if(I.tag===7){a(U,I.sibling),Q=c(I,z.props.children),Q.return=U,U=Q;break t}}else if(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&mg(st)===I.type){a(U,I.sibling),Q=c(I,z.props),yl(Q,z),Q.return=U,U=Q;break t}a(U,I);break}else n(U,I);I=I.sibling}z.type===Z?(Q=sr(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=Lu(z.type,z.key,z.props,null,U.mode,Q),yl(Q,z),Q.return=U,U=Q)}return y(U);case q:t:{for(st=z.key;I!==null;){if(I.key===st)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(U,I.sibling),Q=c(I,z.children||[]),Q.return=U,U=Q;break t}else{a(U,I);break}else n(U,I);I=I.sibling}Q=qc(z,U.mode,Q),Q.return=U,U=Q}return y(U);case S:return st=z._init,z=st(z._payload),ee(U,I,z,Q)}if(se(z))return At(U,I,z,Q);if(M(z)){if(st=M(z),typeof st!="function")throw Error(r(150));return z=st.call(z),_t(U,I,z,Q)}if(typeof z.then=="function")return ee(U,I,Wu(z),Q);if(z.$$typeof===gt)return ee(U,I,ku(U,z),Q);to(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(U,I.sibling),Q=c(I,z),Q.return=U,U=Q):(a(U,I),Q=jc(z,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,I)}return function(U,I,z,Q){try{pl=0;var st=ee(U,I,z,Q);return ts=null,st}catch(ct){if(ct===ll||ct===qu)throw ct;var Nt=yn(29,ct,null,U.mode);return Nt.lanes=Q,Nt.return=U,Nt}finally{}}}var es=gg(!0),pg=gg(!1),Pn=K(null),fi=null;function ha(t){var n=t.alternate;J(Ne,Ne.current&1),J(Pn,t),fi===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(fi=t)}function yg(t){if(t.tag===22){if(J(Ne,Ne.current),J(Pn,t),fi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(fi=t)}}else fa()}function fa(){J(Ne,Ne.current),J(Pn,Pn.current)}function qi(t){it(Pn),fi===t&&(fi=null),it(Ne)}var Ne=K(0);function eo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Th(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ah={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Tn(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(An(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Tn(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(An(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=oa(t,l,a),n!==null&&(An(n,t,a),ol(n,t,a))}};function _g(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,l)||!Ws(c,f):!0}function vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ah.enqueueReplaceState(n,n.state,null)}function gr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var no=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){no(t)}function Tg(t){console.error(t)}function Ag(t){no(t)}function io(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Sh(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){io(t,n)},a}function bg(t){return t=ua(t),t.tag=3,t}function Rg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function j0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&al(n,a,c,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return fi===null?Fh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Jc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return a.flags|=65536,l===Jc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Xh(t,l,c)),!1}throw Error(r(435,a.tag))}return Xh(t,l,c),Fh(),!1}if(Qt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Qc&&(t=Error(r(422),{cause:l}),il(Mn(t,a)))):(l!==Qc&&(n=Error(r(423),{cause:l}),il(Mn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Mn(l,a),c=Sh(t.stateNode,l,c),eh(t,c),me!==4&&(me=2)),!1;var f=Error(r(520),{cause:l});if(f=Mn(f,a),bl===null?bl=[f]:bl.push(f),me!==4&&(me=2),n===null)return!0;l=Mn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Sh(a.stateNode,l,t),eh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=bg(c),Rg(c,t,a,l),eh(a,c),!1}a=a.return}while(a!==null);return!1}var wg=Error(r(461)),ze=!1;function Ge(t,n,a,l){n.child=t===null?pg(n,null,a,l):es(n,t.child,a,l)}function Cg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return fr(n),l=sh(t,n,a,y,f,c),E=lh(),t!==null&&!ze?(uh(t,n,c),Hi(t,n,c)):(Qt&&E&&Hc(n),n.flags|=1,Ge(t,n,l,c),n.child)}function Dg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=Lu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,l)&&t.ref===n.ref)return Hi(t,n,c)}return n.flags|=1,t=Li(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=f,Nh(t,c))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,Hi(t,n,c)}return bh(t,n,a,l,c)}function Ig(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ng(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?Vm(n,f):ih(),yg(n);else return n.lanes=n.childLanes=536870912,Ng(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(ju(n,f.cachePool),Vm(n,f),fa(),n.memoizedState=null):(t!==null&&ju(n,null),ih(),fa());return Ge(t,n,c,a),n.child}function Ng(t,n,a,l){var c=$c();return c=c===null?null:{parent:Ie._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&ju(n,null),ih(),yg(n),t!==null&&al(t,n,l,!0),null}function ao(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function bh(t,n,a,l,c){return fr(n),a=sh(t,n,a,l,void 0,c),l=lh(),t!==null&&!ze?(uh(t,n,c),Hi(t,n,c)):(Qt&&l&&Hc(n),n.flags|=1,Ge(t,n,a,c),n.child)}function xg(t,n,a,l,c,f){return fr(n),n.updateQueue=null,a=Nm(n,l,a,c),Im(t),l=lh(),t!==null&&!ze?(uh(t,n,f),Hi(t,n,f)):(Qt&&l&&Hc(n),n.flags|=1,Ge(t,n,a,f),n.child)}function Og(t,n,a,l,c){if(fr(n),n.stateNode===null){var f=Qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=$e(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Wc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?$e(y):Qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Th(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ah.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=gr(a,E);f.props=b;var P=f.context,G=a.contextType;y=Qr,typeof G=="object"&&G!==null&&(y=$e(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&vg(n,f,l,y),la=!1;var B=n.memoizedState;f.state=B,hl(n,l,f,c),cl(),P=n.memoizedState,E||B!==P||la?(typeof Y=="function"&&(Th(n,a,Y,l),P=n.memoizedState),(b=la||_g(n,a,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,th(t,n),y=n.memoizedProps,G=gr(a,y),f.props=G,Y=n.pendingProps,B=f.context,P=a.contextType,b=Qr,typeof P=="object"&&P!==null&&(b=$e(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&vg(n,f,l,b),la=!1,B=n.memoizedState,f.state=B,hl(n,l,f,c),cl();var k=n.memoizedState;y!==Y||B!==k||la||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Th(n,a,E,l),k=n.memoizedState),(G=la||_g(n,a,G,l,B,k,b)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ao(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,c),n.child=es(n,null,a,c)):Ge(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Hi(t,n,c),t}function Mg(t,n,a,l){return nl(),n.flags|=256,Ge(t,n,a,l),n.child}var Rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(t){return{baseLanes:t,cachePool:Tm()}}function Ch(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function Ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(c?ha(n):fa(),Qt){var E=de,b;if(b=E){t:{for(b=E,E=hi;b.nodeType!==8;){if(!E){E=null;break t}if(b=Zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:lr!==null?{id:zi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},b=yn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,sn=n,de=null,b=!0):b=!1}b||cr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hf(E)?n.lanes=32:n.lanes=536870912,null;qi(n)}return E=l.children,l=l.fallback,c?(fa(),c=n.mode,E=ro({mode:"hidden",children:E},c),l=sr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=wh(a),c.childLanes=Ch(t,y,a),n.memoizedState=Rh,l):(ha(n),Dh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=Vh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),c=l.fallback,E=n.mode,l=ro({mode:"visible",children:l.children},E),c=sr(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,es(n,t.child,null,a),l=n.child,l.memoizedState=wh(a),l.childLanes=Ch(t,y,a),n.memoizedState=Rh,n=c);else if(ha(n),hf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=Vh(t,n,a)}else if(ze||al(t,n,a,!1),y=(a&t.childLanes)!==0,ze||y){if(y=ie,y!==null&&(l=a&-a,l=(l&42)!==0?1:Wi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Gr(t,l),An(y,t,l),wg;E.data==="$?"||Fh(),n=Vh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,de=Zn(E.nextSibling),sn=n,Qt=!0,or=null,hi=!1,t!==null&&(Ln[zn++]=zi,Ln[zn++]=Pi,Ln[zn++]=lr,zi=t.id,Pi=t.overflow,lr=n),n=Dh(n,l.children),n.flags|=4096);return n}return c?(fa(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Li(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Li(P,c):(c=sr(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=wh(a):(b=E.cachePool,b!==null?(P=Ie._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Tm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Ch(t,y,a),n.memoizedState=Rh,l):(ha(n),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Dh(t,n){return n=ro({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ro(t,n){return t=yn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vh(t,n,a){return es(n,t.child,null,a),t=Dh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,a)}function Ih(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function zg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ge(t,n,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ne,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&eo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ih(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ih(n,!0,a,null,f);break;case"together":Ih(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(al(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Li(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Nh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function q0(t,n,a){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),sa(n,Ie,t.memoizedState.cache),nl();break;case 27:case 5:Jn(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(ha(n),t=Hi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(al(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return zg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Ig(t,n,a);case 24:sa(n,Ie,t.memoizedState.cache)}return Hi(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!Nh(t,a)&&(n.flags&128)===0)return ze=!1,q0(t,n,a);ze=(t.flags&131072)!==0}else ze=!1,Qt&&(n.flags&1048576)!==0&&mm(n,Pu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")kc(l)?(t=gr(l,t),n.tag=1,n=Og(null,n,l,t,a)):(n.tag=0,n=bh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=Cg(null,n,l,t,a);break t}else if(c===x){n.tag=14,n=Dg(null,n,l,t,a);break t}}throw n=ge(l)||l,Error(r(306,n,""))}}return n;case 0:return bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gr(l,n.pendingProps),Og(t,n,l,c,a);case 3:t:{if(Yt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,th(t,n),hl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,sa(n,Ie,l),l!==f.cache&&Kc(n,[Ie],a,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mg(t,n,l,a);break t}else if(l!==c){c=Mn(Error(r(424)),n),il(c),n=Mg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(de=Zn(t.firstChild),sn=n,Qt=!0,or=null,hi=!0,a=pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===c){n=Hi(t,n,a);break t}Ge(t,n,l,a)}n=n.child}return n;case 26:return ao(t,n),t===null?(a=qp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,t=n.pendingProps,l=Eo(Tt.current).createElement(a),l[Ce]=n,l[Te]=t,Ye(l,a,t),pe(l),n.stateNode=l):n.memoizedState=qp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Jn(n),t===null&&Qt&&(l=n.stateNode=Bp(n.type,n.pendingProps,Tt.current),sn=n,hi=!0,c=de,Ta(n.type)?(ff=c,de=Zn(l.firstChild)):de=c),Ge(t,n,n.pendingProps.children,a),ao(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((c=l=de)&&(l=pE(l,n.type,n.pendingProps,hi),l!==null?(n.stateNode=l,sn=n,de=Zn(l.firstChild),hi=!1,c=!0):c=!1),c||cr(n)),Jn(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,uf(c,f)?l=null:y!==null&&uf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=sh(t,n,M0,null,null,a),Ol._currentValue=c),ao(t,n),Ge(t,n,l,a),n.child;case 6:return t===null&&Qt&&((t=a=de)&&(a=yE(a,n.pendingProps,hi),a!==null?(n.stateNode=a,sn=n,de=null,t=!0):t=!1),t||cr(n)),null;case 13:return Ug(t,n,a);case 4:return Yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,a):Ge(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Ge(t,n,n.pendingProps,a),n.child;case 8:return Ge(t,n,n.pendingProps.children,a),n.child;case 12:return Ge(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),Ge(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,fr(n),c=$e(c),l=l(c),n.flags|=1,Ge(t,n,l,a),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,a);case 15:return Vg(t,n,n.type,n.pendingProps,a);case 19:return zg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=ro(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Li(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ig(t,n,a);case 24:return fr(n),l=$e(Ie),t===null?(c=$c(),c===null&&(c=ie,f=Xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Wc(n),sa(n,Ie,c)):((t.lanes&a)!==0&&(th(t,n),hl(n,null,null,a),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ie,l)):(l=f.cache,sa(n,Ie,l),l!==c.cache&&Kc(n,[Ie],a,!0))),Ge(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fp(n)){if(n=Pn.current,n!==null&&((Bt&4194048)===Bt?fi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==fi))throw ul=Jc,Am;t.flags|=8192}}function so(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Us():536870912,t.lanes|=n,rs|=n)}function _l(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function H0(t,n,a){var l=n.pendingProps;switch(Gc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Ie),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ym())),ce(n),null;case 26:return a=n.memoizedState,t===null?(Gi(n),a!==null?(ce(n),Bg(n,a)):(ce(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Gi(n),ce(n),Bg(n,a)):(ce(n),n.flags&=-16777217):(t.memoizedProps!==l&&Gi(n),ce(n),n.flags&=-16777217),null;case 27:W(n),a=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ce(n),null}t=ft.current,el(n)?gm(n):(t=Bp(c,l,a),n.stateNode=t,Gi(n))}return ce(n),null;case 5:if(W(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ce(n),null}if(t=ft.current,el(n))gm(n);else{switch(c=Eo(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Ce]=n,t[Te]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ye(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Gi(n)}}return ce(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Tt.current,el(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ce]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xp(t.nodeValue,a)),t||cr(n)}else t=Eo(t).createTextNode(l),t[Ce]=n,n.stateNode=t}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ce]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),c=!1}else c=ym(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(qi(n),n):(qi(n),null)}if(qi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),so(n,n.updateQueue),ce(n),null;case 4:return wn(),t===null&&nf(n.stateNode.containerInfo),ce(n),null;case 10:return ki(n.type),ce(n),null;case 19:if(it(Ne),c=n.memoizedState,c===null)return ce(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eo(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,so(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dm(a,t),a=a.sibling;return J(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&fe()>oo&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=eo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,so(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Qt)return ce(n),null}else 2*fe()-c.renderingStartTime>oo&&a!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fe(),n.sibling=null,t=Ne.current,J(Ne,l?t&1|2:t&1),n):(ce(n),null);case 22:case 23:return qi(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),a=n.updateQueue,a!==null&&so(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&it(dr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ki(Ie),ce(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function G0(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Ie),wn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return W(n),null;case 13:if(qi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ne),null;case 4:return wn(),null;case 10:return ki(n.type),null;case 22:case 23:return qi(n),ah(),t!==null&&it(dr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Ie),null;case 25:return null;default:return null}}function kg(t,n){switch(Gc(n),n.tag){case 3:ki(Ie),wn();break;case 26:case 27:case 5:W(n);break;case 4:wn();break;case 13:qi(n);break;case 19:it(Ne);break;case 10:ki(n.type);break;case 22:case 23:qi(n),ah(),t!==null&&it(dr);break;case 24:ki(Ie)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){ne(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){ne(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){ne(n,n.return,G)}}function jg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Dm(n,a)}catch(l){ne(t,t.return,l)}}}function qg(t,n,a){a.props=gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ne(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ne(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ne(t,n,c)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ne(t,t.return,c)}}function xh(t,n,a){try{var l=t.stateNode;hE(l,t.type,a,n),l[Te]=n}catch(c){ne(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Oh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=vo));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,a),t=t.sibling;t!==null;)Mh(t,n,a),t=t.sibling}function lo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lo(t,n,a),t=t.sibling;t!==null;)lo(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ye(n,l,a),n[Ce]=t,n[Te]=a}catch(f){ne(t,t.return,f)}}var Qi=!1,_e=!1,Uh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Q0(t,n){if(t=t.containerInfo,sf=wo,t=im(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(lf={focusedElem:t,selectionRange:a},wo=!1,Pe=n;Pe!==null;)if(n=Pe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Pe=t;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var At=gr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(At,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){ne(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Pe=t;break}Pe=n.return}}function Fg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ma(t,a),l&4&&vl(5,a);break;case 1:if(ma(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ne(a,a.return,y)}else{var c=gr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ne(a,a.return,y)}}l&64&&jg(a),l&512&&El(a,a.return);break;case 3:if(ma(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Dm(t,n)}catch(y){ne(a,a.return,y)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:ma(t,a),n===null&&l&4&&Hg(a),l&512&&El(a,a.return);break;case 12:ma(t,a);break;case 13:ma(t,a),l&4&&Zg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tE.bind(null,a),_E(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||_e,c=Qi;var f=_e;Qi=l,(_e=n)&&!f?ga(t,a,(a.subtreeFlags&8772)!==0):ma(t,a),Qi=c,_e=f}break;case 30:break;default:ma(t,a)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,cn=!1;function Yi(t,n,a){for(a=a.child;a!==null;)Xg(t,n,a),a=a.sibling}function Xg(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:_e||di(a,n),Yi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||di(a,n);var l=ue,c=cn;Ta(a.type)&&(ue=a.stateNode,cn=!1),Yi(t,n,a),Vl(a.stateNode),ue=l,cn=c;break;case 5:_e||di(a,n);case 6:if(l=ue,c=cn,ue=null,Yi(t,n,a),ue=l,cn=c,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){ne(a,n,f)}else try{ue.removeChild(a.stateNode)}catch(f){ne(a,n,f)}break;case 18:ue!==null&&(cn?(t=ue,zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):zp(ue,a.stateNode));break;case 4:l=ue,c=cn,ue=a.stateNode.containerInfo,cn=!0,Yi(t,n,a),ue=l,cn=c;break;case 0:case 11:case 14:case 15:_e||da(2,a,n),_e||da(4,a,n),Yi(t,n,a);break;case 1:_e||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qg(a,n,l)),Yi(t,n,a);break;case 21:Yi(t,n,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,Yi(t,n,a),_e=l;break;default:Yi(t,n,a)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){ne(n,n.return,a)}}function Y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(r(435,t.tag))}}function Lh(t,n){var a=Y0(t);n.forEach(function(l){var c=eE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function _n(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){ue=E.stateNode,cn=!1;break t}break;case 5:ue=E.stateNode,cn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ue===null)throw Error(r(160));Xg(f,y,c),ue=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var Xn=null;function $g(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),l&4&&(da(3,t,t.return),vl(3,t),da(5,t,t.return));break;case 1:_n(n,t),vn(t),l&512&&(_e||a===null||di(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Xn;if(_n(n,t),vn(t),l&512&&(_e||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ga]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ye(f,l,a),f[Ce]=t,pe(f),l=f;break t;case"link":var y=Qp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Qp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ce]=t,pe(f),l=f}t.stateNode=l}else Yp(c,t.type,t.stateNode);else t.stateNode=Gp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Yp(c,t.type,t.stateNode):Gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xh(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(n,t),vn(t),l&512&&(_e||a===null||di(a,a.return)),a!==null&&l&4&&xh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,t),vn(t),l&512&&(_e||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{In(c,"")}catch(k){ne(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,xh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Uh=!0);break;case 6:if(_n(n,t),vn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){ne(t,t.return,k)}}break;case 3:if(So=null,c=Xn,Xn=To(n.containerInfo),_n(n,t),Xn=c,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(k){ne(t,t.return,k)}Uh&&(Uh=!1,Jg(t));break;case 4:l=Xn,Xn=To(t.stateNode.containerInfo),_n(n,t),vn(t),Xn=l;break;case 12:_n(n,t),vn(t);break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qh=fe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Qi,G=_e;if(Qi=P||c,_e=G||b,_n(n,t),_e=G,Qi=P,vn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Qi||_e||pr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){ne(b,b.return,k)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){ne(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lh(t,a))));break;case 19:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Gg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Oh(t);lo(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(In(y,""),a.flags&=-33);var E=Oh(t);lo(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=Oh(t);Mh(t,P,b);break;default:throw Error(r(161))}}catch(G){ne(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ma(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),pr(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qg(n,n.return,a),pr(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),pr(n);break;case 22:n.memoizedState===null&&pr(n);break;case 30:pr(n);break;default:pr(n)}t=t.sibling}}function ga(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ga(c,f,a),vl(4,f);break;case 1:if(ga(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ne(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Cm(b[c],E)}catch(P){ne(l,l.return,P)}}a&&y&64&&jg(f),El(f,f.return);break;case 27:Qg(f);case 26:case 5:ga(c,f,a),a&&l===null&&y&4&&Hg(f),El(f,f.return);break;case 12:ga(c,f,a);break;case 13:ga(c,f,a),a&&y&4&&Zg(c,f);break;case 22:f.memoizedState===null&&ga(c,f,a),El(f,f.return);break;case 30:break;default:ga(c,f,a)}n=n.sibling}}function zh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function mi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,a,l),n=n.sibling}function Wg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,l),c&2048&&vl(9,n);break;case 1:mi(t,n,a,l);break;case 3:mi(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){mi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ne(n,n.return,b)}}else mi(t,n,a,l);break;case 13:mi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,l):Tl(t,n):f._visibility&2?mi(t,n,a,l):(f._visibility|=2,ns(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&zh(y,n);break;case 24:mi(t,n,a,l),c&2048&&Ph(n.alternate,n);break;default:mi(t,n,a,l)}}function ns(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ns(f,y,E,b,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ns(f,y,E,b,c):Tl(f,y):(G._visibility|=2,ns(f,y,E,b,c)),c&&P&2048&&zh(y.alternate,y);break;case 24:ns(f,y,E,b,c),c&&P&2048&&Ph(y.alternate,y);break;default:ns(f,y,E,b,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&zh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Ph(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function is(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:is(t),t.flags&Al&&t.memoizedState!==null&&NE(Xn,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=Xn;Xn=To(t.stateNode.containerInfo),is(t),Xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,is(t),Al=n):is(t));break;default:is(t)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Pe=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&da(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uo(t)):Sl(t);break;default:Sl(t)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Pe=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),uo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uo(n));break;default:uo(n)}t=t.sibling}}function ip(t,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=t;Pe!==null;){l=Pe;var c=l.sibling,f=l.return;if(Kg(l),l===a){Pe=null;break t}if(c!==null){c.return=f,Pe=c;break t}Pe=f}}}var F0={getCacheForType:function(t){var n=$e(Ie),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},K0=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ie=null,xt=null,Bt=0,$t=0,En=null,pa=!1,as=!1,Bh=!1,Fi=0,me=0,ya=0,yr=0,kh=0,Bn=0,rs=0,bl=null,hn=null,jh=!1,qh=0,oo=1/0,co=null,_a=null,Qe=0,va=null,ss=null,ls=0,Hh=0,Gh=null,ap=null,Rl=0,Qh=null;function Tn(){if((Zt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var t=Kr;return t!==0?t:Jh()}return ta()}function rp(){Bn===0&&(Bn=(Bt&536870912)===0||Qt?Ms():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Bn}function An(t,n,a){(t===ie&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(us(t,0),Ea(t,Bt,Bn,!1)),Ri(t,a),((Zt&2)===0||t!==ie)&&(t===ie&&((Zt&2)===0&&(yr|=a),me===4&&Ea(t,Bt,Bn,!1)),gi(t))}function sp(t,n,a){if((Zt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ha(t,n),c=l?$0(t,n):Kh(t,n,!0),f=l;do{if(c===0){as&&!l&&Ea(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!X0(a)){c=Kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var b=E.current.memoizedState.isDehydrated;if(b&&(us(E,y).flags|=256),y=Kh(E,y,!1),y!==2){if(Bh&&!b){E.errorRecoveryDisabledLanes|=f,yr|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){us(t,0),Ea(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ea(l,n,Bn,!pa);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=qh+300-fe(),10<c)){if(Ea(l,n,Bn,!pa),Rr(l,0,!0)!==0)break t;l.timeoutHandle=Up(lp.bind(null,l,a,hn,co,jh,n,Bn,yr,rs,pa,f,2,-0,0),c);break t}lp(l,a,hn,co,jh,n,Bn,yr,rs,pa,f,0,-0,0)}}break}while(!0);gi(t)}function lp(t,n,a,l,c,f,y,E,b,P,G,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:IE},tp(n),Y=xE(),Y!==null)){t.cancelPendingCommit=Y(mp.bind(null,t,n,f,a,l,c,y,E,b,G,1,B,k)),Ea(t,f,y,!P);return}mp(t,n,f,a,l,c,y,E,b)}function X0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(t,n,a,l){n&=~kh,n&=~yr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-we(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&ti(t,a,n)}function ho(){return(Zt&6)===0?(wl(0),!1):!0}function Yh(){if(xt!==null){if($t===0)var t=xt.return;else t=xt,Bi=hr=null,oh(t),ts=null,pl=0,t=xt;for(;t!==null;)kg(t.alternate,t),t=t.return;xt=null}}function us(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yh(),ie=t,xt=a=Li(t.current,null),Bt=n,$t=0,En=null,pa=!1,as=Ha(t,n),Bh=!1,rs=Bn=kh=yr=ya=me=0,hn=bl=null,jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-we(l),f=1<<c;n|=t[c],l&=~f}return Fi=n,Ou(),a}function up(t,n){Vt=null,H.H=Ju,n===ll||n===qu?(n=Rm(),$t=3):n===Am?(n=Rm(),$t=4):$t=n===wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,xt===null&&(me=1,io(t,Mn(n,t.current)))}function op(){var t=H.H;return H.H=Ju,t===null?Ju:t}function cp(){var t=H.A;return H.A=F0,t}function Fh(){me=4,pa||(Bt&4194048)!==Bt&&Pn.current!==null||(as=!0),(ya&134217727)===0&&(yr&134217727)===0||ie===null||Ea(ie,Bt,Bn,!1)}function Kh(t,n,a){var l=Zt;Zt|=2;var c=op(),f=cp();(ie!==t||Bt!==n)&&(co=null,us(t,n)),n=!1;var y=me;t:do try{if($t!==0&&xt!==null){var E=xt,b=En;switch($t){case 8:Yh(),y=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var P=$t;if($t=0,En=null,os(t,E,b,P),a&&as){y=0;break t}break;default:P=$t,$t=0,En=null,os(t,E,b,P)}}Z0(),y=me;break}catch(G){up(t,G)}while(!0);return n&&t.shellSuspendCounter++,Bi=hr=null,Zt=l,H.H=c,H.A=f,xt===null&&(ie=null,Bt=0,Ou()),y}function Z0(){for(;xt!==null;)hp(xt)}function $0(t,n){var a=Zt;Zt|=2;var l=op(),c=cp();ie!==t||Bt!==n?(co=null,oo=fe()+500,us(t,n)):as=Ha(t,n);t:do try{if($t!==0&&xt!==null){n=xt;var f=En;e:switch($t){case 1:$t=0,En=null,os(t,n,f,1);break;case 2:case 9:if(Sm(f)){$t=0,En=null,fp(n);break}n=function(){$t!==2&&$t!==9||ie!==t||($t=7),gi(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Sm(f)?($t=0,En=null,fp(n)):($t=0,En=null,os(t,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(!y||Fp(y)){$t=0,En=null;var b=E.sibling;if(b!==null)xt=b;else{var P=E.return;P!==null?(xt=P,fo(P)):xt=null}break e}}$t=0,En=null,os(t,n,f,5);break;case 6:$t=0,En=null,os(t,n,f,6);break;case 8:Yh(),me=6;break t;default:throw Error(r(462))}}J0();break}catch(G){up(t,G)}while(!0);return Bi=hr=null,H.H=l,H.A=c,Zt=a,xt!==null?0:(ie=null,Bt=0,Ou(),me)}function J0(){for(;xt!==null&&!ut();)hp(xt)}function hp(t){var n=Pg(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,n===null?fo(t):xt=n}function fp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xg(a,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=xg(a,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:oh(n);default:kg(a,n),n=xt=dm(n,Fi),n=Pg(a,n,Fi)}t.memoizedProps=t.pendingProps,n===null?fo(t):xt=n}function os(t,n,a,l){Bi=hr=null,oh(n),ts=null,pl=0;var c=n.return;try{if(j0(t,c,n,a,Bt)){me=1,io(t,Mn(a,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;me=1,io(t,Mn(a,t.current)),xt=null;return}n.flags&32768?(Qt||l===1?t=!0:as||(Bt&536870912)!==0?t=!1:(pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dp(n,t)):fo(n)}function fo(t){var n=t;do{if((n.flags&32768)!==0){dp(n,pa);return}t=n.return;var a=H0(n.alternate,n,Fi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);me===0&&(me=5)}function dp(t,n){do{var a=G0(t.alternate,t);if(a!==null){a.flags&=32767,xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=a}while(t!==null);me=6,xt=null}function mp(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do mo();while(Qe!==0);if((Zt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Pc,Ls(t,a,f,y,E,b),t===ie&&(xt=ie=null,Bt=0),ss=n,va=t,ls=a,Hh=f,Gh=c,ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nE(Wn,function(){return vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Zt,Zt|=4;try{Q0(t,n,a)}finally{Zt=y,et.p=c,H.T=l}}Qe=1,gp(),pp(),yp()}}function gp(){if(Qe===1){Qe=0;var t=va,n=ss,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Zt;Zt|=4;try{$g(n,t);var f=lf,y=im(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&nm(E.ownerDocument.documentElement,E)){if(b!==null&&Oc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),At=E.textContent.length,_t=Math.min(b.start,At),ee=b.end===void 0?_t:Math.min(b.end,At);!k.extend&&_t>ee&&(y=ee,ee=_t,_t=y);var U=em(E,_t),I=em(E,ee);if(U&&I&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),k.removeAllRanges(),_t>ee?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wo=!!sf,lf=sf=null}finally{Zt=c,et.p=l,H.T=a}}t.current=n,Qe=2}}function pp(){if(Qe===2){Qe=0;var t=va,n=ss,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Zt;Zt|=4;try{Fg(t,n.alternate,n)}finally{Zt=c,et.p=l,H.T=a}}Qe=3}}function yp(){if(Qe===4||Qe===3){Qe=0,Xt();var t=va,n=ss,a=ls,l=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,ss=va=null,_p(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_a=null),wr(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ls&3)!==0&&mo(),gi(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Qh?Rl++:(Rl=0,Qh=t):Rl=0,wl(0)}}function _p(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function mo(t){return gp(),pp(),yp(),vp()}function vp(){if(Qe!==5)return!1;var t=va,n=Hh;Hh=0;var a=wr(ls),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Gh,Gh=null;var f=va,y=ls;if(Qe=0,ss=va=null,ls=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,np(f.current),Wg(f,f.current,y,a),Zt=E,wl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,H.T=l,_p(t,n)}}function Ep(t,n,a){n=Mn(a,n),n=Sh(t.stateNode,n,2),t=oa(t,n,2),t!==null&&(Ri(t,2),gi(t))}function ne(t,n,a){if(t.tag===3)Ep(t,t,a);else for(;n!==null;){if(n.tag===3){Ep(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_a===null||!_a.has(l))){t=Mn(a,t),a=bg(2),l=oa(n,a,2),l!==null&&(Rg(a,l,n,t),Ri(l,2),gi(l));break}}n=n.return}}function Xh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new K0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Bh=!0,c.add(a),t=W0.bind(null,t,n,a),n.then(t,t))}function W0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ie===t&&(Bt&a)===a&&(me===4||me===3&&(Bt&62914560)===Bt&&300>fe()-qh?(Zt&2)===0&&us(t,0):kh|=a,rs===Bt&&(rs=0)),gi(t)}function Tp(t,n){n===0&&(n=Us()),t=Gr(t,n),t!==null&&(Ri(t,n),gi(t))}function tE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Tp(t,a)}function eE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Tp(t,a)}function nE(t,n){return dt(t,n)}var go=null,cs=null,Zh=!1,po=!1,$h=!1,_r=0;function gi(t){t!==cs&&t.next===null&&(cs===null?go=cs=t:cs=cs.next=t),po=!0,Zh||(Zh=!0,aE())}function wl(t,n){if(!$h&&po){$h=!0;do for(var a=!1,l=go;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-we(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Rp(l,f))}else f=Bt,f=Rr(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ha(l,f)||(a=!0,Rp(l,f));l=l.next}while(a);$h=!1}}function iE(){Ap()}function Ap(){po=Zh=!1;var t=0;_r!==0&&(fE()&&(t=_r),_r=0);for(var n=fe(),a=null,l=go;l!==null;){var c=l.next,f=Sp(l,n);f===0?(l.next=null,a===null?go=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||(f&3)!==0)&&(po=!0)),l=c}wl(t)}function Sp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-we(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Os(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=ie,a=Bt,a=Rr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&lt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ha(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&lt(l),wr(a)){case 2:case 8:a=qn;break;case 32:a=Wn;break;case 268435456:a=je;break;default:a=Wn}return l=bp.bind(null,t),a=dt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&lt(l),t.callbackPriority=2,t.callbackNode=null,2}function bp(t,n){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mo()&&t.callbackNode!==a)return null;var l=Bt;return l=Rr(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),Sp(t,fe()),t.callbackNode!=null&&t.callbackNode===a?bp.bind(null,t):null)}function Rp(t,n){if(mo())return null;sp(t,n,!0)}function aE(){mE(function(){(Zt&6)!==0?dt(jn,iE):Ap()})}function Jh(){return _r===0&&(_r=Ms()),_r}function wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xr(""+t)}function Cp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function rE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=wp((c[Te]||null).action),y=l.submitter;y&&(n=(n=y[Te]||null)?wp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Or("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_r!==0){var b=y?Cp(c,y):new FormData(c);_h(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Cp(c,y):new FormData(c),_h(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Wh=0;Wh<zc.length;Wh++){var tf=zc[Wh],sE=tf.toLowerCase(),lE=tf[0].toUpperCase()+tf.slice(1);Kn(sE,"on"+lE)}Kn(sm,"onAnimationEnd"),Kn(lm,"onAnimationIteration"),Kn(um,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(b0,"onTransitionRun"),Kn(R0,"onTransitionStart"),Kn(w0,"onTransitionCancel"),Kn(om,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Dp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){no(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){no(G)}c.currentTarget=null,f=b}}}}function Ot(t,n){var a=n[Ps];a===void 0&&(a=n[Ps]=new Set);var l=t+"__bubble";a.has(l)||(Vp(n,t,2,!1),a.add(l))}function ef(t,n,a){var l=0;n&&(l|=4),Vp(a,t,l,n)}var yo="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[yo]){t[yo]=!0,Bs.forEach(function(a){a!=="selectionchange"&&(uE.has(a)||ef(a,!1,t),ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yo]||(n[yo]=!0,ef("selectionchange",!1,n))}}function Vp(t,n,a,l){switch(Wp(n)){case 2:var c=UE;break;case 8:c=LE;break;default:c=yf}a=c.bind(null,n,a,t),c=void 0,!xn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function af(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=wi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}_u(function(){var P=f,G=Nn(a),Y=[];t:{var B=cm.get(t);if(B!==void 0){var k=Or,At=t;switch(t){case"keypress":if(si(a)===0)break t;case"keydown":case"keyup":k=Br;break;case"focusin":At="focus",k=Lr;break;case"focusout":At="blur",k=Lr;break;case"beforeblur":case"afterblur":k=Lr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=wu;break;case sm:case lm:case um:k=zr;break;case om:k=Du;break;case"scroll":case"scrollend":k=vu;break;case"wheel":k=kr;break;case"copy":case"cut":case"paste":k=Pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$s;break;case"toggle":case"beforetoggle":k=Iu}var _t=(n&4)!==0,ee=!_t&&(t==="scroll"||t==="scrollend"),U=_t?B!==null?B+"Capture":null:B;_t=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=$a(I,U),Q!=null&&_t.push(Dl(I,Q,z))),ee)break;I=I.return}0<_t.length&&(B=new k(B,At,null,a,G),Y.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==Ii&&(At=a.relatedTarget||a.fromElement)&&(wi(At)||At[Vn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(At=a.relatedTarget||a.toElement,k=P,At=At?wi(At):null,At!==null&&(ee=h(At),_t=At.tag,At!==ee||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(k=null,At=P),k!==At)){if(_t=On,Q="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(_t=$s,Q="onPointerLeave",U="onPointerEnter",I="pointer"),ee=k==null?B:ni(k),z=At==null?B:ni(At),B=new _t(Q,I+"leave",k,a,G),B.target=ee,B.relatedTarget=z,Q=null,wi(G)===P&&(_t=new _t(U,I+"enter",At,a,G),_t.target=z,_t.relatedTarget=ee,Q=_t),ee=Q,k&&At)e:{for(_t=k,U=At,I=0,z=_t;z;z=hs(z))I++;for(z=0,Q=U;Q;Q=hs(Q))z++;for(;0<I-z;)_t=hs(_t),I--;for(;0<z-I;)U=hs(U),z--;for(;I--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=hs(_t),U=hs(U)}_t=null}else _t=null;k!==null&&Ip(Y,B,k,_t,!1),At!==null&&ee!==null&&Ip(Y,ee,At,_t,!0)}}t:{if(B=P?ni(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var st=Xd;else if(Ve(B))if(Zd)st=T0;else{st=v0;var Nt=_0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Gs(P.elementType)&&(st=Xd):st=E0;if(st&&(st=st(t,P))){Ui(Y,st,a,G);break t}Nt&&Nt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&aa(B,"number",B.value)}switch(Nt=P?ni(P):window,t){case"focusin":(Ve(Nt)||Nt.contentEditable==="true")&&(jr=Nt,Mc=P,tl=null);break;case"focusout":tl=Mc=jr=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,am(Y,a,G);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":am(Y,a,G)}var ct;if(oi)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else zt?j(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(g&&a.locale!=="ko"&&(zt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&zt&&(ct=Ys()):(ri=G,ra="value"in ri?ri.value:ri.textContent,zt=!0)),Nt=_o(P,vt),0<Nt.length&&(vt=new Xs(vt,t,null,a,G),Y.push({event:vt,listeners:Nt}),ct?vt.data=ct:(ct=tt(a),ct!==null&&(vt.data=ct)))),(ct=m?De(t,a):Pt(t,a))&&(vt=_o(P,"onBeforeInput"),0<vt.length&&(Nt=new Xs("onBeforeInput","beforeinput",null,a,G),Y.push({event:Nt,listeners:vt}),Nt.data=ct)),rE(Y,t,P,a,G)}Dp(Y,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function _o(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$a(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=$a(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=$a(a,f),P!=null&&y.unshift(Dl(a,P,b))):c||(P=$a(a,f),P!=null&&y.push(Dl(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var oE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(cE,"")}function xp(t,n){return n=Np(n),Np(t)===n}function vo(){}function te(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=vo);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),ia(t,"popover",l);break;case"xlinkActuate":qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,ia(t,a,l))}}function rf(t,n,a,l,c,f){switch(a){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Te]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ia(t,a,l)}}}function Ye(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,f,y,a,null)}}c&&te(t,n,"srcSet",a.srcSet,a,null),l&&te(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:te(t,n,l,G,a,null)}}Ka(t,f,E,b,P,y,c,!1),Nr(t);return;case"select":Ot("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:te(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Vi(t,!!l,n,!1):a!=null&&Vi(t,!!l,a,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:te(t,n,y,E,a,null)}Xa(t,l,c,f),Nr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,b,l,a,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ot(Cl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,P,l,a,null)}return;default:if(Gs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&rf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&te(t,n,E,l,a,null))}function hE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||te(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Y&&te(t,n,B,k,l,Y)}}gn(t,y,E,b,P,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||te(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&te(t,n,c,f,l,b)}n=E,a=y,l=k,B!=null?Vi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Vi(t,!!a,n,!0):Vi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&te(t,n,y,c,l,f)}Jt(t,B,k);return;case"option":for(var At in a)if(B=a[At],a.hasOwnProperty(At)&&B!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:te(t,n,At,null,l,B)}for(b in l)if(B=l[b],k=a[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&te(t,n,_t,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:te(t,n,P,B,l,k)}return;default:if(Gs(n)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&rf(t,n,ee,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||rf(t,n,G,B,l,k);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&te(t,n,U,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||te(t,n,Y,B,l,k)}var sf=null,lf=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function Op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(t){return Lp.resolve(null).then(t).catch(gE)}:Up;function gE(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function zp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Vl(y.documentElement),a&2&&Vl(y.body),a&4)for(a=y.head,Vl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ga]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);zl(n)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ga])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function yE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _E(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var ff=null;function Pp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Bp(t,n,a){switch(n=Eo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var kn=new Map,kp=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=et.d;et.d={f:vE,r:EE,D:TE,C:AE,L:SE,m:bE,X:wE,S:RE,M:CE};function vE(){var t=Ki.f(),n=ho();return t||n}function EE(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):Ki.r(t)}var fs=typeof document>"u"?null:document;function jp(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var c=Ae(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),kp.has(c)||(kp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ye(n,"link",t),pe(n),l.head.appendChild(n)))}}function TE(t){Ki.D(t),jp("dns-prefetch",t,null)}function AE(t,n){Ki.C(t,n),jp("preconnect",t,n)}function SE(t,n,a){Ki.L(t,n,a);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+Ae(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ae(a.imageSizes)+'"]')):c+='[href="'+Ae(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}kn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Ye(n,"link",t),pe(n),l.head.appendChild(n)))}}function bE(t,n){Ki.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!kn.has(f)&&(t=A({rel:"modulepreload",href:t},n),kn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}l=a.createElement("link"),Ye(l,"link",t),pe(l),a.head.appendChild(l)}}}function RE(t,n,a){Ki.S(t,n,a);var l=fs;if(l&&t){var c=nn(l).hoistableStyles,f=ds(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Il(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(f))&&df(t,a);var b=y=l.createElement("link");pe(b),Ye(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ao(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function wE(t,n){Ki.X(t,n);var a=fs;if(a&&t){var l=nn(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=kn.get(c))&&mf(t,n),f=a.createElement("script"),pe(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function CE(t,n){Ki.M(t,n);var a=fs;if(a&&t){var l=nn(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=kn.get(c))&&mf(t,n),f=a.createElement("script"),pe(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function qp(t,n,a,l){var c=(c=Tt.current)?To(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=nn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ds(a.href);var f=nn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Il(t)))&&!f._p&&(y.instance=f,y.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),f||DE(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=nn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ds(t){return'href="'+Ae(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Hp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function DE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",a),pe(n),t.head.appendChild(n))}function ms(t){return'[src="'+Ae(t)+'"]'}function Nl(t){return"script[async]"+t}function Gp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return n.instance=l,pe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),Ye(l,"style",c),Ao(l,a.precedence,t),n.instance=l;case"stylesheet":c=ds(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=Hp(a),(c=kn.get(c))&&df(l,c),f=(t.ownerDocument||t).createElement("link"),pe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ye(f,"link",l),n.state.loading|=4,Ao(f,a.precedence,t),n.instance=f;case"script":return f=ms(a.src),(c=t.querySelector(Nl(f)))?(n.instance=c,pe(c),c):(l=a,(c=kn.get(f))&&(l=A({},a),mf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),Ye(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,a.precedence,t));return n.instance}function Ao(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var So=null;function Qp(t,n,a){if(So===null){var l=new Map,c=So=new Map;c.set(a,l)}else c=So,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ga]||f[Ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Yp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function VE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function IE(){}function NE(t,n,a){if(xl===null)throw Error(r(475));var l=xl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(a.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,pe(f);return}f=t.ownerDocument||t,a=Hp(a),(c=kn.get(c))&&df(a,c),f=f.createElement("link"),pe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ye(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function xE(){if(xl===null)throw Error(r(475));var t=xl;return t.stylesheets&&t.count===0&&gf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&gf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ro=null;function gf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ro=new Map,n.forEach(OE,t),Ro=null,bo.call(t))}function OE(t,n){if(!(n.state.loading&4)){var a=Ro.get(t);if(a)var l=a.get(null);else{a=new Map,Ro.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ME(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kp(t,n,a,l,c,f,y,E,b,P,G,Y){return t=new ME(t,n,a,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Wc(f),t}function Xp(t){return t?(t=Qr,t):Qr}function Zp(t,n,a,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=oa(t,l,n),a!==null&&(An(a,t,n),ol(a,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function pf(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Jp(t){if(t.tag===13){var n=Gr(t,67108864);n!==null&&An(n,t,67108864),pf(t,67108864)}}var wo=!0;function UE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,yf(t,n,a,l)}finally{et.p=f,H.T=c}}function LE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,yf(t,n,a,l)}finally{et.p=f,H.T=c}}function yf(t,n,a,l){if(wo){var c=_f(l);if(c===null)af(t,n,l,Co,a),ty(t,l);else if(PE(c,t,n,a,l))l.stopPropagation();else if(ty(t,l),n&4&&-1<zE.indexOf(t)){for(;c!==null;){var f=ei(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Qn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-we(y);E.entanglements[1]|=b,y&=~b}gi(f),(Zt&6)===0&&(oo=fe()+500,wl(0))}}break;case 13:E=Gr(f,2),E!==null&&An(E,f,2),ho(),pf(f,2)}if(f=_f(l),f===null&&af(t,n,l,Co,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,a)}}function _f(t){return t=Nn(t),vf(t)}var Co=null;function vf(t){if(Co=null,t=wi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Co=t,null}function Wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case jn:return 2;case qn:return 8;case Wn:case Hn:return 32;case je:return 268435456;default:return 32}default:return 32}}var Ef=!1,Aa=null,Sa=null,ba=null,Ml=new Map,Ul=new Map,Ra=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(t,n){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ei(n),n!==null&&Jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function PE(t,n,a,l,c){switch(n){case"focusin":return Aa=Ll(Aa,t,n,a,l,c),!0;case"dragenter":return Sa=Ll(Sa,t,n,a,l,c),!0;case"mouseover":return ba=Ll(ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ll(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,a,l,c)),!0}return!1}function ey(t){var n=wi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,hu(t.priority,function(){if(a.tag===13){var l=Tn();l=Wi(l);var c=Gr(a,l);c!==null&&An(c,a,l),pf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Do(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=_f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return n=ei(a),n!==null&&Jp(n),t.blockedOn=a,!1;n.shift()}return!0}function ny(t,n,a){Do(t)&&a.delete(n)}function BE(){Ef=!1,Aa!==null&&Do(Aa)&&(Aa=null),Sa!==null&&Do(Sa)&&(Sa=null),ba!==null&&Do(ba)&&(ba=null),Ml.forEach(ny),Ul.forEach(ny)}function Vo(t,n){t.blockedOn===n&&(t.blockedOn=null,Ef||(Ef=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BE)))}var Io=null;function iy(t){Io!==t&&(Io=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(vf(l||a)===null)continue;break}var f=ei(a);f!==null&&(t.splice(n,3),n-=3,_h(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function zl(t){function n(b){return Vo(b,t)}Aa!==null&&Vo(Aa,t),Sa!==null&&Vo(Sa,t),ba!==null&&Vo(ba,t),Ml.forEach(n),Ul.forEach(n);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)ey(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[Te]||null;if(typeof f=="function")y||iy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Te]||null)E=y.formAction;else if(vf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),iy(a)}}}function Tf(t){this._internalRoot=t}No.prototype.render=Tf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Tn();Zp(a,l,t,n,null,null)},No.prototype.unmount=Tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zp(t.current,2,null,t,null,null),ho(),n[Vn]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var n=ta();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ra.length&&n!==0&&n<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&ey(t)}};var ay=e.version;if(ay!=="19.1.0")throw Error(r(527,ay,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{ae=xo.inject(kE),Ht=xo}catch{}}return Bl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=Eg,f=Tg,y=Ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,a,l,c,f,y,E,null),t[Vn]=n.current,nf(t),new Tf(n)},Bl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=Eg,y=Tg,E=Ag,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=Kp(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=Xp(null),a=n.current,l=Tn(),l=Wi(l),c=ua(l),c.callback=null,oa(a,c,l),a=l,n.current.lanes=a,Ri(n,a),gi(n),t[Vn]=n.current,nf(t),new No(n)},Bl.version="19.1.0",Bl}var my;function ZE(){if(my)return bf.exports;my=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bf.exports=XE(),bf.exports}var $E=ZE();const JE=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},WE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,D=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,q=_&63;v||(q=64,d||(V=64)),r.push(i[A],i[D],i[V],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(D_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||D==null)throw new tT;const V=h<<2|p>>4;if(r.push(V),_!==64){const q=p<<4&240|_>>2;if(r.push(q),D!==64){const Z=_<<6&192|D;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eT=function(s){const e=D_(s);return V_.encodeByteArray(e,!0)},Qo=function(s){return eT(s).replace(/\./g,"")},nT=function(s){try{return V_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=()=>iT().__FIREBASE_DEFAULTS__,rT=()=>{if(typeof process>"u"||typeof gy>"u")return;const s=gy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nT(s[1]);return e&&JSON.parse(e)},ud=()=>{try{return JE()||aT()||rT()||sT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lT=s=>{var e,i;return(i=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},uT=s=>{const e=lT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},I_=()=>{var s;return(s=ud())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(s){return s.endsWith(".cloudworkstations.dev")}async function cT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Qo(JSON.stringify(i)),Qo(JSON.stringify(d)),""].join(".")}const Gl={};function fT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function dT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let py=!1;function mT(s,e){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||Gl[s]===e||Gl[s]||py)return;Gl[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",h=fT().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{py=!0,d()},V}function A(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=dT(r),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),at=i("learnmore"),$=document.getElementById(at)||document.createElement("a"),wt=i("preprendIcon"),mt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const gt=V.element;p(gt),A($,at);const Ut=_();v(mt,wt),gt.append(mt,Z,$,Ut),document.body.appendChild(gt)}h?(Z.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){var s;const e=(s=ud())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yT(){return!pT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="FirebaseError";class Ds extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=ET,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?TT(h,r):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Ds(u,p,r)}}function TT(s,e){return s.replace(AT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const AT=/\{\$([^}]+)}/g;function Yo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(yy(h)&&yy(d)){if(!Yo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function yy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(s){return s&&s._delegate?s._delegate:s}class Xl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new oT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RT(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bT(s){return s===vr?void 0:s}function RT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ST(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const CT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},DT=jt.INFO,VT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},IT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=VT[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=DT,this._logHandler=IT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const NT=(s,e)=>e.some(i=>s instanceof i);let _y,vy;function xT(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OT(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O_=new WeakMap,Bf=new WeakMap,M_=new WeakMap,Df=new WeakMap,cd=new WeakMap;function MT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Da(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&O_.set(i,s)}).catch(()=>{}),cd.set(e,s),e}function UT(s){if(Bf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,e)}let kf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||M_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function LT(s){kf=s(kf)}function zT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Vf(this),e,...i);return M_.set(r,e.sort?e.sort():[e]),Da(r)}:OT().includes(s)?function(...e){return s.apply(Vf(this),e),Da(O_.get(this))}:function(...e){return Da(s.apply(Vf(this),e))}}function PT(s){return typeof s=="function"?zT(s):(s instanceof IDBTransaction&&UT(s),NT(s,xT())?new Proxy(s,kf):s)}function Da(s){if(s instanceof IDBRequest)return MT(s);if(Df.has(s))return Df.get(s);const e=PT(s);return e!==s&&(Df.set(s,e),cd.set(e,s)),e}const Vf=s=>cd.get(s);function BT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=Da(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Da(d.result),v.oldVersion,v.newVersion,Da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],If=new Map;function Ey(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=jT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||kT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return If.set(e,h),h}LT(s=>({...s,get:(e,i,r)=>Ey(e,i)||s.get(e,i,r),has:(e,i)=>!!Ey(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function HT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",Ty="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new x_("@firebase/app"),GT="@firebase/app-compat",QT="@firebase/analytics-compat",YT="@firebase/analytics",FT="@firebase/app-check-compat",KT="@firebase/app-check",XT="@firebase/auth",ZT="@firebase/auth-compat",$T="@firebase/database",JT="@firebase/data-connect",WT="@firebase/database-compat",t1="@firebase/functions",e1="@firebase/functions-compat",n1="@firebase/installations",i1="@firebase/installations-compat",a1="@firebase/messaging",r1="@firebase/messaging-compat",s1="@firebase/performance",l1="@firebase/performance-compat",u1="@firebase/remote-config",o1="@firebase/remote-config-compat",c1="@firebase/storage",h1="@firebase/storage-compat",f1="@firebase/firestore",d1="@firebase/ai",m1="@firebase/firestore-compat",g1="firebase",p1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",y1={[jf]:"fire-core",[GT]:"fire-core-compat",[YT]:"fire-analytics",[QT]:"fire-analytics-compat",[KT]:"fire-app-check",[FT]:"fire-app-check-compat",[XT]:"fire-auth",[ZT]:"fire-auth-compat",[$T]:"fire-rtdb",[JT]:"fire-data-connect",[WT]:"fire-rtdb-compat",[t1]:"fire-fn",[e1]:"fire-fn-compat",[n1]:"fire-iid",[i1]:"fire-iid-compat",[a1]:"fire-fcm",[r1]:"fire-fcm-compat",[s1]:"fire-perf",[l1]:"fire-perf-compat",[u1]:"fire-rc",[o1]:"fire-rc-compat",[c1]:"fire-gcs",[h1]:"fire-gcs-compat",[f1]:"fire-fst",[m1]:"fire-fst-compat",[d1]:"fire-vertex","fire-js":"fire-js",[g1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Map,_1=new Map,Hf=new Map;function Ay(s,e){try{s.container.addComponent(e)}catch(i){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ko(s){const e=s.name;if(Hf.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,s);for(const i of Fo.values())Ay(i,s);for(const i of _1.values())Ay(i,s);return!0}function v1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function E1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new N_("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=p1;function U_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qf,automaticDataCollectionEnabled:!0},e),u=r.name;if(typeof u!="string"||!u)throw Va.create("bad-app-name",{appName:String(u)});if(i||(i=I_()),!i)throw Va.create("no-options");const h=Fo.get(u);if(h){if(Yo(i,h.options)&&Yo(r,h.config))return h;throw Va.create("duplicate-app",{appName:u})}const d=new wT(u);for(const v of Hf.values())d.addComponent(v);const p=new A1(i,r,d);return Fo.set(u,p),p}function b1(s=qf){const e=Fo.get(s);if(!e&&s===qf&&I_())return U_();if(!e)throw Va.create("no-app",{appName:s});return e}function vs(s,e,i){var r;let u=(r=y1[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(p.join(" "));return}Ko(new Xl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebase-heartbeat-database",w1=1,Zl="firebase-heartbeat-store";let Nf=null;function L_(){return Nf||(Nf=BT(R1,w1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Va.create("idb-open",{originalErrorMessage:s.message})})),Nf}async function C1(s){try{const i=(await L_()).transaction(Zl),r=await i.objectStore(Zl).get(z_(s));return await i.done,r}catch(e){if(e instanceof Ds)Zi.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(i.message)}}}async function Sy(s,e){try{const r=(await L_()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,z_(s)),await r.done}catch(i){if(i instanceof Ds)Zi.warn(i.message);else{const r=Va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Zi.warn(r.message)}}}function z_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1024,V1=30;class I1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new x1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=by();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>V1){const d=O1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=by(),{heartbeatsToSend:r,unsentEntries:u}=N1(this._heartbeatsCache.heartbeats),h=Qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Zi.warn(i),""}}}function by(){return new Date().toISOString().substring(0,10)}function N1(s,e=D1){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ry(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ry(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class x1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await C1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Ry(s){return Qo(JSON.stringify({version:2,heartbeats:s})).length}function O1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(s){Ko(new Xl("platform-logger",e=>new qT(e),"PRIVATE")),Ko(new Xl("heartbeat",e=>new I1(e),"PRIVATE")),vs(jf,Ty,s),vs(jf,Ty,"esm2017"),vs("fire-js","")}M1("");var U1="firebase",L1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(U1,L1,"app");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,P_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function w(){}w.prototype=S.prototype,x.D=S.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(N,O,M){for(var R=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)R[ge-2]=arguments[ge];return S.prototype[O].apply(N,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=x.g[0],w=x.g[1],O=x.g[2];var M=x.g[3],R=S+(M^w&(O^M))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=M+(O^S&(w^O))+N[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(w^M&(S^w))+N[2]+606105819&4294967295,O=M+(R<<17&4294967295|R>>>15),R=w+(S^O&(M^S))+N[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(M^w&(O^M))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(O^S&(w^O))+N[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(w^M&(S^w))+N[6]+2821735955&4294967295,O=M+(R<<17&4294967295|R>>>15),R=w+(S^O&(M^S))+N[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(M^w&(O^M))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(O^S&(w^O))+N[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(w^M&(S^w))+N[10]+4294925233&4294967295,O=M+(R<<17&4294967295|R>>>15),R=w+(S^O&(M^S))+N[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(M^w&(O^M))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(O^S&(w^O))+N[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(w^M&(S^w))+N[14]+2792965006&4294967295,O=M+(R<<17&4294967295|R>>>15),R=w+(S^O&(M^S))+N[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^M&(w^O))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^O&(S^w))+N[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(M^S))+N[11]+643717713&4294967295,O=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(O^M))+N[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(w^O))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^O&(S^w))+N[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(M^S))+N[15]+3634488961&4294967295,O=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(O^M))+N[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(w^O))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^O&(S^w))+N[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(M^S))+N[3]+4107603335&4294967295,O=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(O^M))+N[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(w^O))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^O&(S^w))+N[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(M^S))+N[7]+1735328473&4294967295,O=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(O^M))+N[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^M)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^O)+N[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^w)+N[11]+1839030562&4294967295,O=M+(R<<16&4294967295|R>>>16),R=w+(O^M^S)+N[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^M)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^O)+N[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^w)+N[7]+4139469664&4294967295,O=M+(R<<16&4294967295|R>>>16),R=w+(O^M^S)+N[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^M)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^O)+N[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^w)+N[3]+3572445317&4294967295,O=M+(R<<16&4294967295|R>>>16),R=w+(O^M^S)+N[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^M)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^O)+N[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^w)+N[15]+530742520&4294967295,O=M+(R<<16&4294967295|R>>>16),R=w+(O^M^S)+N[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~M))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~O))+N[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~w))+N[14]+2878612391&4294967295,O=M+(R<<15&4294967295|R>>>17),R=w+(M^(O|~S))+N[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~M))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~O))+N[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~w))+N[10]+4293915773&4294967295,O=M+(R<<15&4294967295|R>>>17),R=w+(M^(O|~S))+N[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~M))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~O))+N[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~w))+N[6]+2734768916&4294967295,O=M+(R<<15&4294967295|R>>>17),R=w+(M^(O|~S))+N[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~M))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~O))+N[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~w))+N[2]+718787259&4294967295,O=M+(R<<15&4294967295|R>>>17),R=w+(M^(O|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var w=S-this.blockSize,N=this.B,O=this.h,M=0;M<S;){if(O==0)for(;M<=w;)u(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(N[O++]=x.charCodeAt(M++),O==this.blockSize){u(this,N),O=0;break}}else for(;M<S;)if(N[O++]=x[M++],O==this.blockSize){u(this,N),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var w=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.u(x),x=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)x[w++]=this.g[S]>>>N&255;return x};function h(x,S){var w=p;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=S(x)}function d(x,S){this.h=S;for(var w=[],N=!0,O=x.length-1;0<=O;O--){var M=x[O]|0;N&&M==S||(w[O]=M,N=!1)}this.g=w}var p={};function v(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return D;if(0>x)return $(_(-x));for(var S=[],w=1,N=0;x>=w;N++)S[N]=x/w|0,w*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return $(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=D,O=0;O<x.length;O+=8){var M=Math.min(8,x.length-O),R=parseInt(x.substring(O,O+M),S);8>M?(M=_(Math.pow(S,M)),N=N.j(M).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var D=v(0),V=v(1),q=v(16777216);s=d.prototype,s.m=function(){if(at(this))return-$(this).m();for(var x=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(at(this))return"-"+$(this).toString(x);for(var S=_(Math.pow(x,6)),w=this,N="";;){var O=Ut(w,S).g;w=wt(w,O.j(S));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=O,Z(w))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function at(x){return x.h==-1}s.l=function(x){return x=wt(this,x),at(x)?-1:Z(x)?0:1};function $(x){for(var S=x.g.length,w=[],N=0;N<S;N++)w[N]=~x.g[N];return new d(w,~x.h).add(V)}s.abs=function(){return at(this)?$(this):this},s.add=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],N=0,O=0;O<=S;O++){var M=N+(this.i(O)&65535)+(x.i(O)&65535),R=(M>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);N=R>>>16,M&=65535,R&=65535,w[O]=R<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function wt(x,S){return x.add($(S))}s.j=function(x){if(Z(this)||Z(x))return D;if(at(this))return at(x)?$(this).j($(x)):$($(this).j(x));if(at(x))return $(this.j($(x)));if(0>this.l(q)&&0>x.l(q))return _(this.m()*x.m());for(var S=this.g.length+x.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<x.g.length;O++){var M=this.i(N)>>>16,R=this.i(N)&65535,ge=x.i(O)>>>16,se=x.i(O)&65535;w[2*N+2*O]+=R*se,mt(w,2*N+2*O),w[2*N+2*O+1]+=M*se,mt(w,2*N+2*O+1),w[2*N+2*O+1]+=R*ge,mt(w,2*N+2*O+1),w[2*N+2*O+2]+=M*ge,mt(w,2*N+2*O+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function mt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function gt(x,S){this.g=x,this.h=S}function Ut(x,S){if(Z(S))throw Error("division by zero");if(Z(x))return new gt(D,D);if(at(x))return S=Ut($(x),S),new gt($(S.g),$(S.h));if(at(S))return S=Ut(x,$(S)),new gt($(S.g),S.h);if(30<x.g.length){if(at(x)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var w=V,N=S;0>=N.l(x);)w=Rt(w),N=Rt(N);var O=qt(w,1),M=qt(N,1);for(N=qt(N,2),w=qt(w,2);!Z(N);){var R=M.add(N);0>=R.l(x)&&(O=O.add(w),M=R),N=qt(N,1),w=qt(w,1)}return S=wt(x,O.j(S)),new gt(O,S)}for(O=D;0<=x.l(S);){for(w=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=_(w),R=M.j(S);at(R)||0<R.l(x);)w-=N,M=_(w),R=M.j(S);Z(M)&&(M=V),O=O.add(M),x=wt(x,R)}return new gt(O,x)}s.A=function(x){return Ut(this,x).h},s.and=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&x.i(N);return new d(w,this.h&x.h)},s.or=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|x.i(N);return new d(w,this.h|x.h)},s.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^x.i(N);return new d(w,this.h^x.h)};function Rt(x){for(var S=x.g.length+1,w=[],N=0;N<S;N++)w[N]=x.i(N)<<1|x.i(N-1)>>>31;return new d(w,x.h)}function qt(x,S){var w=S>>5;S%=32;for(var N=x.g.length-w,O=[],M=0;M<N;M++)O[M]=0<S?x.i(M+w)>>>S|x.i(M+w+1)<<32-S:x.i(M+w);return new d(O,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,P_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ia=d}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B_,kl,k_,Bo,Gf,j_,q_,H_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oo=="object"&&Oo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var g=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var j=g++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function D(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function V(o,m,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,V.apply(null,arguments)}function q(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,j){for(var tt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)tt[zt-2]=arguments[zt];return m.prototype[L].apply(T,tt)}}function at(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=o.length||0,j=T.length||0;o.length=L+j;for(let tt=0;tt<j;tt++)o[L+tt]=T[tt]}else o.push(T)}}class wt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(o){return/^[\s\xa0]*$/.test(o)}function gt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Ut(o){return Ut[" "](o),o}Ut[" "]=function(){};var Rt=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function qt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function x(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let j=0;j<w.length;j++)g=w[j],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function O(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function M(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,g){const T=se.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var se=new wt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Lt=new ge,C=()=>{const o=p.Promise.resolve(void 0);et=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){M(g)}var m=se;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function Dt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Rt){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dt.aa.h.call(this)}}Z(Dt,J);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function wn(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Yt,this.da=this.fa=!1}function Jn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function W(o){this.src=o,this.g={},this.h=0}W.prototype.add=function(o,m,g,T,L){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var tt=dt(o,m,T,L);return-1<tt?(m=o[tt],g||(m.fa=!1)):(m=new wn(m,this.src,j,!!T,L),m.fa=g,o.push(m)),m};function yt(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Jn(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function dt(o,m,g,T){for(var L=0;L<o.length;++L){var j=o[L];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return L}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),ut={};function Xt(o,m,g,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Xt(o,m[j],g,T,L);return null}return g=Dn(g),o&&o[Ee]?o.K(m,g,_(T)?!!T.capture:!1,L):fe(o,m,g,!1,T,L)}function fe(o,m,g,T,L,j){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,zt=je(o);if(zt||(o[lt]=zt=new W(o)),g=zt.add(m,g,T,tt,j),g.proxy)return g;if(T=Cn(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ft||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Wn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Cn(){function o(g){return m.call(o.src,o.listener,g)}const m=Hn;return o}function jn(o,m,g,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)jn(o,m[j],g,T,L);else T=_(T)?!!T.capture:!!T,g=Dn(g),o&&o[Ee]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],g=dt(j,g,T,L),-1<g&&(Jn(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=je(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dt(m,g,T,L)),(g=-1<o?m[o]:null)&&qn(g))}function qn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ee])yt(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Wn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=je(m))?(yt(g,o),g.h==0&&(g.src=null,m[lt]=null)):Jn(o)}}}function Wn(o){return o in ut?ut[o]:ut[o]="on"+o}function Hn(o,m){if(o.da)o=!0;else{m=new Dt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&qn(o),o=g.call(T,m)}return o}function je(o){return o=o[lt],o instanceof W?o:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(o){return typeof o=="function"?o:(o[Ze]||(o[Ze]=function(m){return o.handleEvent(m)}),o[Ze])}function ae(){it.call(this),this.i=new W(this),this.M=this,this.F=null}Z(ae,it),ae.prototype[Ee]=!0,ae.prototype.removeEventListener=function(o,m,g,T){jn(this,o,m,g,T)};function Ht(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),N(m,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var tt=m.g=g[j];L=un(tt,T,!0,m)&&L}if(tt=m.g=o,L=un(tt,T,!0,m)&&L,L=un(tt,T,!1,m)&&L,g)for(j=0;j<g.length;j++)tt=m.g=g[j],L=un(tt,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Jn(g[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ae.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function un(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==g){var zt=tt.listener,De=tt.ha||tt.src;tt.fa&&yt(o.i,tt),L=zt.call(De,T)!==!1&&L}}return L&&!T.defaultPrevented}function we(o,m,g){if(typeof o=="function")g&&(o=V(o,g));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Gn(o){o.g=we(()=>{o.g=null,o.i&&(o.i=!1,Gn(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ai extends it{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(o){it.call(this),this.h=o,this.g={}}Z(Si,it);var ja=[];function qa(o){qt(o.g,function(m,g){this.g.hasOwnProperty(g)&&qn(m)},o),o.g={}}Si.prototype.N=function(){Si.aa.N.call(this),qa(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=p.JSON.stringify,Rr=p.JSON.parse,Ha=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Os(){}Os.prototype.h=null;function Ms(o){return o.h||(o.h=o.i())}function Us(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){J.call(this,"d")}Z(Ri,J);function Ls(){J.call(this,"c")}Z(Ls,J);var ti={},zs=null;function Wi(){return zs=zs||new ae}ti.La="serverreachability";function wr(o){J.call(this,ti.La,o)}Z(wr,J);function ta(o){const m=Wi();Ht(m,new wr(m))}ti.STAT_EVENT="statevent";function hu(o,m){J.call(this,ti.STAT_EVENT,o),this.stat=m}Z(hu,J);function le(o){const m=Wi();Ht(m,new hu(m,o))}ti.Ma="timingevent";function Ce(o,m){J.call(this,ti.Ma,o),this.size=m}Z(Ce,J);function Te(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Ps(o,m,g,T,L,j){o.info(function(){if(o.g)if(j)for(var tt="",zt=j.split("&"),De=0;De<zt.length;De++){var Pt=zt[De].split("=");if(1<Pt.length){var Le=Pt[0];Pt=Pt[1];var Ve=Le.split("_");tt=2<=Ve.length&&Ve[1]=="type"?tt+(Le+"="+Pt+"&"):tt+(Le+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+tt})}function bc(o,m,g,T,L,j,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+j+" "+tt})}function ea(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ga(o,g)+(T?" "+T:"")})}function fu(o,m){o.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function Ga(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Qn(g)}catch{return m}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ni(){}Z(ni,Os),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ei=new ni;function nn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Bs={},Cr={};function Yn(o,m,g){o.L=1,o.v=Xa(gn(m)),o.m=g,o.P=!0,Ci(o,null)}function Ci(o,m){o.F=Date.now(),Qa(o),o.A=gn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Qs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new pe,o.g=Du(o.j,g?m:null,!o.m),0<o.O&&(o.M=new Ai(V(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(ja[0]=L.toString()),L=ja);for(var j=0;j<L.length;j++){var tt=Xt(g,L[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ta(),Ps(o.i,o.u,o.A,o.l,o.R,o.m)}nn.prototype.ca=function(o){o=o.target;const m=this.M;m&&On(o)==3?m.j():this.Y(o)},nn.prototype.Y=function(o){try{if(o==this.g)t:{const Ve=On(this.g);var m=this.g.Ba();const Ui=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=Ui?ta(3):ta(2)),ia(this);var g=this.g.Z();this.X=g;e:if(du(this)){var T=Eu(this.g);o="";var L=T.length,j=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ii(this);var tt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,bc(this.i,this.u,this.A,this.l,this.R,Ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,De=this.g;if((zt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(zt)){var Pt=zt;break e}}Pt=null}if(g=Pt)ea(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,g);else{this.o=!1,this.s=3,le(12),qe(this),ii(this);break t}}if(this.P){g=!0;let He;for(;!this.J&&this.C<tt.length;)if(He=mu(this,tt),He==Cr){Ve==4&&(this.s=4,le(14),g=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Bs){this.s=4,le(15),ea(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else ea(this.i,this.l,He,null),Ya(this,He);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||tt.length!=0||this.h.h||(this.s=1,le(16),g=!1),this.o=this.o&&g,!g)ea(this.i,this.l,tt,"[Invalid Chunked Response]"),qe(this),ii(this);else if(0<tt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ir(Le),Le.M=!0,le(11))}}else ea(this.i,this.l,tt,null),Ya(this,tt);Ve==4&&qe(this),this.o&&!this.J&&(Ve==4?Ru(this.j,this):(this.o=!1,Qa(this)))}else Vc(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),qe(this),ii(this)}}}catch{}finally{}};function du(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Cr:(g=Number(m.substring(g,T)),isNaN(g)?Bs:(T+=1,T+g>m.length?Cr:(m=m.slice(T,T+g),o.C=T+g,m)))}nn.prototype.cancel=function(){this.J=!0,qe(this)};function Qa(o){o.S=Date.now()+o.I,gu(o,o.I)}function gu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Te(V(o.ba,o),m)}function ia(o){o.B&&(p.clearTimeout(o.B),o.B=null)}nn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(fu(this.i,this.A),this.L!=2&&(ta(),le(17)),qe(this),this.s=2,ii(this)):gu(this,this.S-o)};function ii(o){o.j.G==0||o.J||Ru(o.j,o)}function qe(o){ia(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qa(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ya(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||ks(g.h,o))){if(!o.K&&ks(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Br(g),zr(g);else break t;Zs(g),le(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Te(V(g.Za,g),6e3));if(1>=Vr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Mi(g,11)}else if((o.K||g.g==o)&&Br(g),!mt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];if(g.T=Pt[0],Pt=Pt[1],g.G==2)if(Pt[0]=="c"){g.K=Pt[1],g.ia=Pt[2];const Le=Pt[3];Le!=null&&(g.la=Le,g.j.info("VER="+g.la));const Ve=Pt[4];Ve!=null&&(g.Aa=Ve,g.j.info("SVER="+g.Aa));const Ui=Pt[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(T=1.5*Ui,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const He=o.g;if(He){const ci=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var j=T.h;j.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ir(j,j.h),j.h=null))}if(T.D){const Js=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Jt(T.I,T.D,Js))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=o;if(T.qa=Cu(T,T.J?T.ia:null,T.W),tt.K){an(T.h,tt);var zt=tt,De=T.L;De&&(zt.I=De),zt.B&&(ia(zt),Qa(zt)),T.g=tt}else Su(T);0<g.i.length&&Pr(g)}else Pt[0]!="stop"&&Pt[0]!="close"||Mi(g,7);else g.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Mi(g,7):Ks(g):Pt[0]!="noop"&&g.l&&g.l.ta(Pt),g.v=0)}}ta(4)}catch{}}var pu=class{constructor(o,m){this.g=o,this.map=m}};function Di(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Vr(o){return o.h?1:o.g?o.g.size:0}function ks(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ir(o,m){o.g?o.g.add(m):o.h=m}function an(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Di.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function js(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return at(o.i)}function Rc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function Nr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function qs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Nr(o),T=Rc(o),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],g&&g[j],o)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var j=o[g].substring(0,T);L=o[g].substring(T+1)}else j=o[g];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ae(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ae){this.h=o.h,Ka(this,o.j),this.o=o.o,this.g=o.g,aa(this,o.s),this.l=o.l;var m=o.i,g=new Ii;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Vi(this,g),this.m=o.m}else o&&(m=String(o).match(Fa))?(this.h=!1,Ka(this,m[1]||"",!0),this.o=In(m[2]||""),this.g=In(m[3]||"",!0),aa(this,m[4]),this.l=In(m[5]||"",!0),Vi(this,m[6]||"",!0),this.m=In(m[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Ae.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Za(m,Hs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Za(m,Hs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Za(g,g.charAt(0)=="/"?Cc:Gs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Za(g,xr)),o.join("")};function gn(o){return new Ae(o)}function Ka(o,m,g){o.j=g?In(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function aa(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Vi(o,m,g){m instanceof Ii?(o.i=m,_u(o.i,o.h)):(g||(m=Za(m,Dc)),o.i=new Ii(m,o.h))}function Jt(o,m,g){o.i.set(m,g)}function Xa(o){return Jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function In(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Za(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,yu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Cc=/[#\?]/g,Dc=/[#\?@]/g,xr=/#/g;function Ii(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function Nn(o){o.g||(o.g=new Map,o.h=0,o.i&&wc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Ii.prototype,s.add=function(o,m){Nn(this),this.i=null,o=ai(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function Ni(o,m){Nn(o),m=ai(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function xi(o,m){return Nn(o),m=ai(o,m),o.g.has(m)}s.forEach=function(o,m){Nn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){Nn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let j=0;j<L.length;j++)g.push(m[T])}return g},s.V=function(o){Nn(this);let m=[];if(typeof o=="string")xi(this,o)&&(m=m.concat(this.g.get(ai(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return Nn(this),this.i=null,o=ai(this,o),xi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Qs(o,m,g){Ni(o,m),0<g.length&&(o.i=null,o.g.set(ai(o,m),at(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const j=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=j;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function ai(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function _u(o,m){m&&!o.j&&(Nn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(Ni(this,T),Qs(this,L,g))},o)),o.j=m}function $a(o,m){const g=new Vn;if(p.Image){const T=new Image;T.onload=q(xn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=q(xn,g,"TestLoadImage: error",!1,m,T),T.onabort=q(xn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(xn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Fn(o,m){const g=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?xn(g,"TestPingServer: ok",!0,m):xn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(g,"TestPingServer: error",!1,m)})}function xn(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Ja(){this.g=new Ha}function ri(o,m,g){const T=g||"";try{qs(o,function(L,j){let tt=L;_(L)&&(tt=Qn(L)),m.push(T+j+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ra(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(ra,Os),ra.prototype.g=function(){return new Oi(this.l,this.j)},ra.prototype.i=function(o){return function(){return o}}({});function Oi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Oi,ae),s=Oi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,li(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ys(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ys(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?si(this):li(this),this.readyState==3&&Ys(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,si(this))},s.Qa=function(o){this.g&&(this.response=o,si(this))},s.ga=function(){this.g&&si(this)};function si(o){o.readyState=4,o.l=null,o.j=null,o.v=null,li(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function li(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fs(o){let m="";return qt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Ue(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Fs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Jt(o,m,g))}function Ft(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Ft,ae);var Or=/^https?$/i,Wa=["POST","PUT"];s=Ft.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Ms(this.o):Ms(ei),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){vu(this,j);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Wa,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of g)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){vu(this,j)}};function vu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Mr(o),ui(o)}function Mr(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ft.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ur(this):this.bb())},s.bb=function(){Ur(this)};function Ur(o){if(o.h&&typeof d<"u"&&(!o.v[1]||On(o)!=4||o.Z()!=2)){if(o.u&&On(o)==4)we(o.Ea,0,o);else if(Ht(o,"readystatechange"),On(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=tt===0){var L=String(o.D).match(Fa)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Or.test(L?L.toLowerCase():"")}g=T}if(g)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var j=2<On(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Mr(o)}}finally{ui(o)}}}}function ui(o,m){if(o.g){tr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{g.onreadystatechange=T}catch{}}}function tr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function On(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Rr(m)}};function Eu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(o){const m={};o=(o.g&&2<=On(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(mt(o[T]))continue;var g=O(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[L]||[];m[L]=j,j.push(g)}x(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Lr(o){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,o),this.cb=er("retryDelaySeedMs",1e4,o),this.Wa=er("forwardChannelMaxRetries",2,o),this.wa=er("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(o&&o.concurrentRequestLimit),this.Da=new Ja,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Lr.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){le(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Cu(this,null,this.W),Pr(this)};function Ks(o){if(Tu(o),o.G==3){var m=o.U++,g=gn(o.I);if(Jt(g,"SID",o.K),Jt(g,"RID",m),Jt(g,"TYPE","terminate"),nr(o,g),m=new nn(o,o.j,m),m.L=2,m.v=Xa(gn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qa(m)}wu(o)}function zr(o){o.g&&(ir(o),o.g.cancel(),o.g=null)}function Tu(o){zr(o),o.u&&(p.clearTimeout(o.u),o.u=null),Br(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Pr(o){if(!Dr(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||C(),ht||(et(),ht=!0),Lt.add(m,o),o.B=0}}function Ic(o,m){return Vr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Te(V(o.Ga,o,m),$s(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new nn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Au(this,L,m),g=gn(this.I),Jt(g,"RID",o),Jt(g,"CVER",22),this.D&&Jt(g,"X-HTTP-Session-Id",this.D),nr(this,g),j&&(this.O?m="headers="+encodeURIComponent(String(Fs(j)))+"&"+m:this.m&&Ue(g,this.m,j)),Ir(this.h,L),this.Ua&&Jt(g,"TYPE","init"),this.P?(Jt(g,"$req",m),Jt(g,"SID","null"),L.T=!0,Yn(L,g,null)):Yn(L,g,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Dr(this.h)||Xs(this))};function Xs(o,m){var g;m?g=m.l:g=o.U++;const T=gn(o.I);Jt(T,"SID",o.K),Jt(T,"RID",g),Jt(T,"AID",o.T),nr(o,T),o.m&&o.o&&Ue(T,o.m,o.o),g=new nn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Au(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ir(o.h,g),Yn(g,T,m)}function nr(o,m){o.H&&qt(o.H,function(g,T){Jt(m,T,g)}),o.l&&qs({},function(g,T){Jt(m,T,g)})}function Au(o,m,g){g=Math.min(o.i.length,g);var T=o.l?V(o.l.Na,o.l,o):null;t:{var L=o.i;let j=-1;for(;;){const tt=["count="+g];j==-1?0<g?(j=L[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let zt=!0;for(let De=0;De<g;De++){let Pt=L[De].g;const Le=L[De].map;if(Pt-=j,0>Pt)j=Math.max(0,L[De].g-100),zt=!1;else try{ri(Le,tt,"req"+Pt+"_")}catch{T&&T(Le)}}if(zt){T=tt.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Su(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||C(),ht||(et(),ht=!0),Lt.add(m,o),o.v=0}}function Zs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Te(V(o.Fa,o),$s(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Te(V(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),zr(this),bu(this))};function ir(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function bu(o){o.g=new nn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=gn(o.qa);Jt(m,"RID","rpc"),Jt(m,"SID",o.K),Jt(m,"AID",o.T),Jt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Jt(m,"TO",o.ja),Jt(m,"TYPE","xmlhttp"),nr(o,m),o.m&&o.o&&Ue(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Xa(gn(m)),g.m=null,g.P=!0,Ci(g,o)}s.Za=function(){this.C!=null&&(this.C=null,zr(this),Zs(this),le(19))};function Br(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Ru(o,m){var g=null;if(o.g==m){Br(o),ir(o),o.g=null;var T=2}else if(ks(o.h,m))g=m.D,an(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Wi(),Ht(T,new Ce(T,g)),Pr(o)}else Su(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Ic(o,m)||T==2&&Zs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:Mi(o,5);break;case 4:Mi(o,10);break;case 3:Mi(o,6);break;default:Mi(o,2)}}}function $s(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function Mi(o,m){if(o.j.info("Error code "+m),m==2){var g=V(o.fb,o),T=o.Xa;const L=!T;T=new Ae(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ka(T,"https"),Xa(T),L?$a(T.toString(),g):Fn(T.toString(),g)}else le(2);o.G=0,o.l&&o.l.sa(m),wu(o),Tu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function wu(o){if(o.G=0,o.ka=[],o.l){const m=js(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,at(o.i),o.i.length=0),o.l.ra()}}function Cu(o,m,g){var T=g instanceof Ae?gn(g):new Ae(g);if(T.g!="")m&&(T.g=m+"."+T.g),aa(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new Ae(null);T&&Ka(j,T),m&&(j.g=m),L&&aa(j,L),g&&(j.l=g),T=j}return g=o.D,m=o.ya,g&&m&&Jt(T,g,m),Jt(T,"VER",o.la),nr(o,T),T}function Du(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ft(new ra({eb:g})):new Ft(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function kr(){}kr.prototype.g=function(o,m){return new rn(o,m)};function rn(o,m){ae.call(this),this.g=new Lr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!mt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new oi(this)}Z(rn,ae),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ks(this.g)},rn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Qn(o),o=g);m.i.push(new pu(m.Ya++,o)),m.G==3&&Pr(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,rn.aa.N.call(this)};function Iu(o){Ri.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Iu,Ri);function Nu(){Ls.call(this),this.status=1}Z(Nu,Ls);function oi(o){this.g=o}Z(oi,Vu),oi.prototype.ua=function(){Ht(this.g,"a")},oi.prototype.ta=function(o){Ht(this.g,new Iu(o))},oi.prototype.sa=function(o){Ht(this.g,new Nu)},oi.prototype.ra=function(){Ht(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,H_=function(){return new kr},q_=function(){return Wi()},j_=ti,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Bo=na,wi.COMPLETE="complete",k_=wi,Us.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,kl=Us,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,B_=Ft}).apply(typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Dy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new x_("@firebase/firestore");function gs(){return Tr.logLevel}function rt(s,...e){if(Tr.logLevel<=jt.DEBUG){const i=e.map(hd);Tr.debug(`Firestore (${Vs}): ${s}`,...i)}}function $i(s,...e){if(Tr.logLevel<=jt.ERROR){const i=e.map(hd);Tr.error(`Firestore (${Vs}): ${s}`,...i)}}function Ts(s,...e){if(Tr.logLevel<=jt.WARN){const i=e.map(hd);Tr.warn(`Firestore (${Vs}): ${s}`,...i)}}function hd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,G_(s,r,i)}function G_(s,e,i){let r=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw $i(r),new Error(r)}function Kt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||G_(e,u,r)}function bt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class P1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class B1{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Xi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Xi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new Q_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class k1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new k1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,E1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const r=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Vy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=H1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function It(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){let i=0;for(;i<s.length&&i<e.length;){const r=s.codePointAt(i),u=e.codePointAt(i);if(r!==u){if(r<128&&u<128)return It(r,u);{const h=Y_(),d=G1(h.encode(Iy(s,i)),h.encode(Iy(e,i)));return d!==0?d:It(r,u)}}i+=r>65535?2:1}return It(s.length,e.length)}function Iy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function G1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return It(s[i],e[i]);return It(s.length,e.length)}function As(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,xy=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*xy);return new Oe(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ny)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Oe(0,0))}static max(){return new St(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class yi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Et(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=yi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const r=yi.isNumericId(e),u=yi.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?yi.extractNumericId(e).compare(yi.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class oe extends yi{construct(e,i,r){return new oe(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const Q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends yi{construct(e,i,r){return new Ke(e,i,r)}static isValidIdentifier(e){return Q1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new Ke([Oy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(r+=p,u++):(h(),u++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(oe.fromString(e))}static fromName(e){return new pt(oe.fromString(e).popFirst(5))}static empty(){return new pt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return oe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function Y1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=St.fromTimestamp(r===1e9?new Oe(i+1,0):new Oe(i,r));return new xa(u,pt.empty(),e)}function F1(s){return new xa(s.readTime,s.key,$l)}class xa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new xa(St.min(),pt.empty(),$l)}static max(){return new xa(St.max(),pt.empty(),$l)}}function K1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==X1)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,r)=>{i(e)})}static reject(e){return new F((i,r)=>{r(e)})}static waitFor(e){return new F((i,r)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>r(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next(u=>u?F.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new F((r,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&r(d)},A=>u(A))}})}static doWhile(e,i){return new F((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function $1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ns(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function uc(s){return s==null}function Xo(s){return s===0&&1/s==-1/0}function J1(s){return typeof s=="number"&&Number.isInteger(s)&&!Xo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="";function W1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=My(e)),e=tA(s.get(i),e);return My(e)}function tA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case K_:i+="";break;default:i+=h}}return i}function My(s){return s+K_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ba(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function X_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new he(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Fe.RED,this.left=u??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Fe(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Fe.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new Me(Ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Z_("Invalid base64 string: "+h):h}}(e);return new Xe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Xe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const eA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(s){if(Kt(!!s,39018),typeof s=="string"){let e=0;const i=eA.exec(s);if(Kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ma(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="server_timestamp",J_="__type__",W_="__previous_value__",tv="__local_write_time__";function dd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[J_])===null||i===void 0?void 0:i.stringValue)===$_}function oc(s){const e=s.mapValue.fields[W_];return dd(e)?oc(e):e}function Jl(s){const e=Oa(s.mapValue.fields[tv].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i,r,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Zo="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||Zo}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Zo}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__type__",iA="__max__",Uo={mapValue:{}},nv="__vector__",$o="value";function Ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?dd(s)?4:rA(s)?9007199254740991:aA(s)?10:11:Et(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Ua(s);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Oa(u.timestampValue),p=Oa(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Ma(u.bytesValue).isEqual(Ma(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ve(u.geoPointValue.latitude)===ve(h.geoPointValue.latitude)&&ve(u.geoPointValue.longitude)===ve(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ve(u.integerValue)===ve(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ve(u.doubleValue),p=ve(h.doubleValue);return d===p?Xo(d)===Xo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return As(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Uy(d)!==Uy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ei(d[v],p[v])))return!1;return!0}(s,e);default:return Et(52216,{left:s})}}function tu(s,e){return(s.values||[]).find(i=>Ei(i,e))!==void 0}function Ss(s,e){if(s===e)return 0;const i=Ua(s),r=Ua(e);if(i!==r)return It(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ve(h.integerValue||h.doubleValue),v=ve(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return zy(s.timestampValue,e.timestampValue);case 4:return zy(Jl(s),Jl(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=Ma(h),v=Ma(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=It(p[_],v[_]);if(A!==0)return A}return It(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=It(ve(h.latitude),ve(d.latitude));return p!==0?p:It(ve(h.longitude),ve(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Py(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const D=h.fields||{},V=d.fields||{},q=(p=D[$o])===null||p===void 0?void 0:p.arrayValue,Z=(v=V[$o])===null||v===void 0?void 0:v.arrayValue,at=It(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return at!==0?at:Py(q,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Uo.mapValue&&d===Uo.mapValue)return 0;if(h===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const V=Qf(v[D],A[D]);if(V!==0)return V;const q=Ss(p[v[D]],_[A[D]]);if(q!==0)return q}return It(v.length,A.length)}(s.mapValue,e.mapValue);default:throw Et(23264,{Pe:i})}}function zy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Oa(s),r=Oa(e),u=It(i.seconds,r.seconds);return u!==0?u:It(i.nanos,r.nanos)}function Py(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=Ss(i[u],r[u]);if(h)return h}return It(i.length,r.length)}function bs(s){return Yf(s)}function Yf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Oa(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ma(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return pt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Yf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Yf(i.fields[d])}`;return u+"}"}(s.mapValue):Et(61005,{value:s})}function ko(s){switch(Ua(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oc(s);return e?16+ko(e):16;case 5:return 2*s.stringValue.length;case 6:return Ma(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+ko(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return Ba(r.fields,(h,d)=>{u+=h.length+ko(d)}),u}(s.mapValue);default:throw Et(13486,{value:s})}}function Ff(s){return!!s&&"integerValue"in s}function md(s){return!!s&&"arrayValue"in s}function By(s){return!!s&&"nullValue"in s}function ky(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jo(s){return!!s&&"mapValue"in s}function aA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[ev])===null||i===void 0?void 0:i.stringValue)===nv}function Ql(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ba(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Ql(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(s.arrayValue.values[i]);return e}return Object.assign({},s)}function rA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!jo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=Ke.emptyPath(),r={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=p.popLast()}d?r[p.lastSegment()]=Ql(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());jo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];jo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){Ba(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new mn(Ql(this.value))}}function iv(s){const e=[];return Ba(s.fields,(i,r)=>{const u=new Ke([i]);if(jo(r)){const h=iv(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,i,r,u,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new en(e,0,St.min(),St.min(),St.min(),mn.empty(),0)}static newFoundDocument(e,i,r,u){return new en(e,1,i,St.min(),r,u,0)}static newNoDocument(e,i){return new en(e,2,i,St.min(),St.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,St.min(),St.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.position=e,this.inclusive=i}}function jy(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function qy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i="asc"){this.field=e,this.dir=i}}function sA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{}class xe extends av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new uA(e,i,r):i==="array-contains"?new hA(e,r):i==="in"?new fA(e,r):i==="not-in"?new dA(e,r):i==="array-contains-any"?new mA(e,r):new xe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new oA(e,r):new cA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends av{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ti(e,i)}matches(e){return rv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rv(s){return s.op==="and"}function sv(s){return lA(s)&&rv(s)}function lA(s){for(const e of s.filters)if(e instanceof Ti)return!1;return!0}function Kf(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+bs(s.value);if(sv(s))return s.filters.map(e=>Kf(e)).join(",");{const e=s.filters.map(i=>Kf(i)).join(",");return`${s.op}(${e})`}}function lv(s,e){return s instanceof xe?function(r,u){return u instanceof xe&&r.op===u.op&&r.field.isEqual(u.field)&&Ei(r.value,u.value)}(s,e):s instanceof Ti?function(r,u){return u instanceof Ti&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,p)=>h&&lv(d,u.filters[p]),!0):!1}(s,e):void Et(19439)}function uv(s){return s instanceof xe?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(s):s instanceof Ti?function(i){return i.op.toString()+" {"+i.getFilters().map(uv).join(" ,")+"}"}(s):"Filter"}class uA extends xe{constructor(e,i,r){super(e,i,r),this.key=pt.fromName(r.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class oA extends xe{constructor(e,i){super(e,"in",i),this.keys=ov("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cA extends xe{constructor(e,i){super(e,"not-in",i),this.keys=ov("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function ov(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>pt.fromName(r.referenceValue))}class hA extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&tu(i.arrayValue,this.value)}}class fA extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class dA extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class mA extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i=null,r=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function Hy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new gA(s,e,i,r,u,h,d)}function gd(s){const e=bt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Kf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>bs(r)).join(",")),e.Ie=i}return e.Ie}function pd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!lv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qy(s.startAt,e.startAt)&&qy(s.endAt,e.endAt)}function Xf(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i=null,r=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pA(s,e,i,r,u,h,d,p){return new cc(s,e,i,r,u,h,d,p)}function hc(s){return new cc(s)}function Gy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yA(s){return s.collectionGroup!==null}function Yl(s){const e=bt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ke.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Wo(h,r))}),i.has(Ke.keyField().canonicalString())||e.Ee.push(new Wo(Ke.keyField(),r))}return e.Ee}function _i(s){const e=bt(s);return e.de||(e.de=_A(e,Yl(s))),e.de}function _A(s,e){if(s.limitType==="F")return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Wo(u.field,h)});const i=s.endAt?new Jo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Jo(s.startAt.position,s.startAt.inclusive):null;return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Zf(s,e,i){return new cc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function fc(s,e){return pd(_i(s),_i(e))&&s.limitType===e.limitType}function cv(s){return`${gd(_i(s))}|lt:${s.limitType}`}function ps(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>uv(u)).join(", ")}]`),uc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>bs(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>bs(u)).join(",")),`Target(${r})`}(_i(s))}; limitType=${s.limitType})`}function dc(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of Yl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,p,v){const _=jy(d,p,v);return d.inclusive?_<=0:_<0}(r.startAt,Yl(r),u)||r.endAt&&!function(d,p,v){const _=jy(d,p,v);return d.inclusive?_>=0:_>0}(r.endAt,Yl(r),u))}(s,e)}function vA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hv(s){return(e,i)=>{let r=!1;for(const u of Yl(s)){const h=EA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function EA(s,e,i){const r=s.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ss(v,_):Et(42886)}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new he(pt.comparator);function Ji(){return TA}const fv=new he(pt.comparator);function jl(...s){let e=fv;for(const i of s)e=e.insert(i.key,i);return e}function dv(s){let e=fv;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function Er(){return Fl()}function mv(){return Fl()}function Fl(){return new Sr(s=>s.toString(),(s,e)=>s.isEqual(e))}const AA=new he(pt.comparator),SA=new Me(pt.comparator);function Mt(...s){let e=SA;for(const i of s)e=e.add(i);return e}const bA=new Me(It);function RA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(e)?"-0":e}}function gv(s){return{integerValue:""+s}}function pv(s,e){return J1(e)?gv(e):yd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function wA(s,e,i){return s instanceof tc?function(u,h){const d={fields:{[J_]:{stringValue:$_},[tv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&dd(h)&&(h=oc(h)),h&&(d.fields[W_]=h),{mapValue:d}}(i,e):s instanceof eu?_v(s,e):s instanceof nu?vv(s,e):function(u,h){const d=yv(u,h),p=Qy(d)+Qy(u.Re);return Ff(d)&&Ff(u.Re)?gv(p):yd(u.serializer,p)}(s,e)}function CA(s,e,i){return s instanceof eu?_v(s,e):s instanceof nu?vv(s,e):i}function yv(s,e){return s instanceof iu?function(r){return Ff(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class tc extends mc{}class eu extends mc{constructor(e){super(),this.elements=e}}function _v(s,e){const i=Ev(e);for(const r of s.elements)i.some(u=>Ei(u,r))||i.push(r);return{arrayValue:{values:i}}}class nu extends mc{constructor(e){super(),this.elements=e}}function vv(s,e){let i=Ev(e);for(const r of s.elements)i=i.filter(u=>!Ei(u,r));return{arrayValue:{values:i}}}class iu extends mc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Qy(s){return ve(s.integerValue||s.doubleValue)}function Ev(s){return md(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.field=e,this.transform=i}}function VA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof eu&&u instanceof eu||r instanceof nu&&u instanceof nu?As(r.elements,u.elements,Ei):r instanceof iu&&u instanceof iu?Ei(r.Re,u.Re):r instanceof tc&&u instanceof tc}(s.transform,e.transform)}class IA{constructor(e,i){this.version=e,this.transformResults=i}}class bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class gc{}function Tv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new _d(s.key,bn.none()):new au(s.key,s.data,bn.none());{const i=s.data,r=mn.empty();let u=new Me(Ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new ka(s.key,r,new Sn(u.toArray()),bn.none())}}function NA(s,e,i){s instanceof au?function(u,h,d){const p=u.value.clone(),v=Fy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof ka?function(u,h,d){if(!qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Fy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Av(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Kl(s,e,i,r){return s instanceof au?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=h.value.clone(),A=Ky(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof ka?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=Ky(h.fieldTransforms,v,d),A=d.data;return A.setAll(Av(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,e,i,r):function(h,d,p){return qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function xA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=yv(r.transform,u||null);h!=null&&(i===null&&(i=mn.empty()),i.set(r.field,h))}return i||null}function Yy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&As(r,u,(h,d)=>VA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends gc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ka extends gc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Av(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Fy(s,e,i){const r=new Map;Kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);r.set(h.field,CA(d,p,i[u]))}return r}function Ky(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,wA(h,d,e))}return r}class _d extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OA extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&NA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=mv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=Tv(d,p);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,r)=>Yy(i,r))&&As(this.baseMutations,e.baseMutations,(i,r)=>Yy(i,r))}}class vd{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){Kt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let u=function(){return AA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new vd(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,kt;function zA(s){switch(s){case X.OK:return Et(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function Sv(s){if(s===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(s){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return Et(39323,{code:s})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Ia([4294967295,4294967295],0);function Xy(s){const e=Y_().encode(s),i=new P_;return i.update(e),new Uint8Array(i.digest())}function Zy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ia([i,r],0),new Ia([u,h],0)]}class Ed{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=Ia.fromNumber(this.pe)}we(e,i,r){let u=e.add(i.multiply(Ia.fromNumber(r)));return u.compare(PA)===1&&(u=new Ia([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Xy(e),[r,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ed(h,u,i);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Xy(e),[r,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(r,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new pc(St.min(),u,new he(It),Ji(),Mt())}}class ru{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ru(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i,r,u){this.De=e,this.removedTargetIds=i,this.key=r,this.ve=u}}class bv{constructor(e,i){this.targetId=e,this.Ce=i}}class Rv{constructor(e,i,r=Xe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class $y{constructor(){this.Fe=0,this.Me=Jy(),this.xe=Xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Mt(),i=Mt(),r=Mt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:Et(38017,{changeType:h})}}),new ru(this.xe,this.Oe,e,i,r)}Qe(){this.Ne=!1,this.Me=Jy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BA{constructor(e){this.ze=e,this.je=new Map,this.He=Ji(),this.Je=Lo(),this.Ye=Lo(),this.Ze=new he(It)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const r=this.rt(i);switch(e.state){case 0:this.it(i)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((r,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,r=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Xf(h))if(r===0){const d=new pt(h.path);this.tt(i,d,en.newNoDocument(d,St.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this.ut(i);if(d!==r){const p=this.ct(e),v=p?this.lt(p,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=Ma(r).toUint8Array()}catch(v){if(v instanceof Z_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Ed(d,u,h)}catch(v){return Ts(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,r){return i.Ce.count===r-this.Tt(e,i.targetId)?0:2}Tt(e,i){const r=this.ze.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Xf(p.target)){const v=new pt(p.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,en.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let r=Mt();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new pc(e,i,this.Ze,this.He,r);return this.He=Ji(),this.Je=Lo(),this.Ye=Lo(),this.Ze=new he(It),u}et(e,i){if(!this.it(e))return;const r=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,r){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),r&&(this.He=this.He.insert(i,r))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new $y,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Me(It),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Me(It),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $y),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Lo(){return new he(pt.comparator)}function Jy(){return new he(pt.comparator)}const kA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qA={and:"AND",or:"OR"};class HA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(s,e){return s.useProto3Json||uc(e)?e:{value:e}}function ec(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function GA(s,e){return ec(s,e.toTimestamp())}function vi(s){return Kt(!!s,49232),St.fromTimestamp(function(i){const r=Oa(i);return new Oe(r.seconds,r.nanos)}(s))}function Td(s,e){return Jf(s,e).canonicalString()}function Jf(s,e){const i=function(u){return new oe(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Cv(s){const e=oe.fromString(s);return Kt(xv(e),10190,{key:e.toString()}),e}function Wf(s,e){return Td(s.databaseId,e.path)}function xf(s,e){const i=Cv(e);if(i.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(Vv(i))}function Dv(s,e){return Td(s.databaseId,e)}function QA(s){const e=Cv(s);return e.length===4?oe.emptyPath():Vv(e)}function td(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Vv(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wy(s,e,i){return{name:Wf(s,e),fields:i.value.mapValue.fields}}function YA(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?X.UNKNOWN:Sv(_.code);return new ot(A,_.message||"")}(d);i=new Rv(r,u,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=xf(s,r.document.name),h=vi(r.document.updateTime),d=r.document.createTime?vi(r.document.createTime):St.min(),p=new mn({mapValue:{fields:r.document.fields}}),v=en.newFoundDocument(u,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ho(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=xf(s,r.document),h=r.readTime?vi(r.readTime):St.min(),d=en.newNoDocument(u,h),p=r.removedTargetIds||[];i=new Ho([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=xf(s,r.document),h=r.removedTargetIds||[];i=new Ho([],h,u,null)}else{if(!("filter"in e))return Et(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new LA(u,h),p=r.targetId;i=new bv(p,d)}}return i}function FA(s,e){let i;if(e instanceof au)i={update:Wy(s,e.key,e.value)};else if(e instanceof _d)i={delete:Wf(s,e.key)};else if(e instanceof ka)i={update:Wy(s,e.key,e.data),updateMask:nS(e.fieldMask)};else{if(!(e instanceof OA))return Et(16599,{ft:e.type});i={verify:Wf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const p=d.transform;if(p instanceof tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw Et(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:GA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)}(s,e.precondition)),i}function KA(s,e){return s&&s.length>0?(Kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?vi(u.updateTime):vi(h);return d.isEqual(St.min())&&(d=vi(h)),new IA(d,u.transformResults||[])}(i,e))):[]}function XA(s,e){return{documents:[Dv(s,e.path)]}}function ZA(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Dv(s,u);const h=function(_){if(_.length!==0)return Nv(Ti.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(V){return{field:ys(V.field),direction:WA(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$f(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function $A(s){let e=QA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){Kt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const V=Iv(D);return V instanceof Ti&&sv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(V=>function(Z){return new Wo(_s(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let p=null;i.limit&&(p=function(D){let V;return V=typeof D=="object"?D.value:D,uc(V)?null:V}(i.limit));let v=null;i.startAt&&(v=function(D){const V=!!D.before,q=D.values||[];return new Jo(q,V)}(i.startAt));let _=null;return i.endAt&&(_=function(D){const V=!D.before,q=D.values||[];return new Jo(q,V)}(i.endAt)),pA(e,u,d,h,p,"F",v,_)}function JA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Iv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_s(i.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=_s(i.unaryFilter.field);return xe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return xe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(s):s.fieldFilter!==void 0?function(i){return xe.create(_s(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Ti.create(i.compositeFilter.filters.map(r=>Iv(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(s):Et(30097,{filter:s})}function WA(s){return kA[s]}function tS(s){return jA[s]}function eS(s){return qA[s]}function ys(s){return{fieldPath:s.canonicalString()}}function _s(s){return Ke.fromServerFormat(s.fieldPath)}function Nv(s){return s instanceof xe?function(i){if(i.op==="=="){if(ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(By(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(By(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:tS(i.op),value:i.value}}}(s):s instanceof Ti?function(i){const r=i.getFilters().map(u=>Nv(u));return r.length===1?r[0]:{compositeFilter:{op:eS(i.op),filters:r}}}(s):Et(54877,{filter:s})}function nS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function xv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,r,u,h=St.min(),d=St.min(),p=Xe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.wt=e}}function aS(s){const e=$A({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.Cn=new sS}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(xa.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class sS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Me(oe.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Me(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ov=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Ov,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Rs(0)}static lr(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LruGarbageCollector",lS=1048576;function n_([s,e],[i,r]){const u=It(s,i);return u===0?It(e,r):u}class uS{constructor(e){this.Er=e,this.buffer=new Me(n_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();n_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt(e_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ns(i)?rt(e_,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.mr(3e5)})}}class cS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return F.resolve(lc.le);const r=new uS(i);return this.gr.forEachTarget(e,u=>r.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>r.Rr(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.gr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let r,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(r=D,p=Date.now(),this.removeTargets(e,r,i))).next(D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(_=Date.now(),gs()<=jt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function hS(s,e){return new cS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.changes=new Sr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Kl(r.mutation,u,Sn.empty(),Oe.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Mt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Mt()){const u=Er();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=jl();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=Er();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Mt()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,r,u){let h=Ji();const d=Fl(),p=function(){return Fl()}();return i.forEach((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof ka)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),Oe.now())):d.set(_.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var D;return p.set(_,new dS(A,(D=d.get(_))!==null&&D!==void 0?D:null))}),p))}recalculateAndSaveOverlays(e,i){const r=Fl();let u=new he((d,p)=>d-p),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Sn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const D=(u.get(p.batchId)||Mt()).add(v);u=u.insert(p.batchId,D)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,D=mv();A.forEach(V=>{if(!h.has(V)){const q=Tv(i.get(V),r.get(V));q!==null&&D.set(V,q),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return F.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):F.resolve(Er());let p=$l,v=h;return d.next(_=>F.forEach(_,(A,D)=>(p<D.largestBatchId&&(p=D.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{v=v.insert(A,V)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Mt())).next(A=>({batchId:p,changes:dv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(r=>{let u=jl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(D,V){return new cc(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next(A=>{A.forEach((D,V)=>{d=d.insert(D,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))});let p=jl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,Sn.empty(),Oe.now()),dc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:vi(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:aS(u.bundledQuery),readTime:vi(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new he(pt.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Er();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Qr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const u=Er(),h=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new he((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Er(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Er(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}bt(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(r.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new UA(i,r));let h=this.Qr.get(i);h===void 0&&(h=Mt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.$r=new Me(ke.Ur),this.Kr=new Me(ke.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const r=new ke(e,i);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.zr(new ke(e,i))}jr(e,i){e.forEach(r=>this.removeReference(r,i))}Hr(e){const i=new pt(new oe([])),r=new ke(i,e),u=new ke(i,e+1),h=[];return this.Kr.forEachInRange([r,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new pt(new oe([])),r=new ke(i,e),u=new ke(i,e+1);let h=Mt();return this.Kr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new ke(e,0),r=this.$r.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class ke{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return pt.comparator(e.key,i.key)||It(e.Zr,i.Zr)}static Wr(e,i){return It(e.Zr,i.Zr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Me(ke.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MA(h,i,r,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new ke(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ti(r),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?fd:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new ke(i,0),u=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([r,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Me(It);return i.forEach(u=>{const h=new ke(u,0),d=new ke(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{r=r.add(p.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;pt.isDocumentKey(h)||(h=h.child(""));const d=new ke(new pt(h),0);let p=new Me(It);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(r=>{const u=this.ei(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(i.mutations,u=>{const h=new ke(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,i){const r=new ke(i,0),u=this.Xr.firstAfterOrEqual(r);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ii=e,this.docs=function(){return new he(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let r=Ji();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():en.newInvalidDocument(u))}),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ji();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||K1(F1(A),r)<=0||(u.has(A.key)||dc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,u){Et(9500)}si(e,i){return F.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new ES(this)}getSize(e){return F.resolve(this.size)}}class ES extends fS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(r)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.persistence=e,this.oi=new Sr(i=>gd(i),pd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Ad,this.targetCount=0,this.ui=Rs.cr()}forEachTarget(e,i){return this.oi.forEach((r,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.oi.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this.ai.Gr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this.ai.jr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this.ai.Yr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i){this.ci={},this.overlays={},this.li=new lc(0),this.hi=!1,this.hi=!0,this.Pi=new yS,this.referenceDelegate=e(this),this.Ti=new TS(this),this.indexManager=new rS,this.remoteDocumentCache=function(u){return new vS(u)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new iS(i),this.Ei=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ci[e.toKey()];return r||(r=new _S(i,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,r){rt("MemoryPersistence","Starting transaction:",e);const u=new AS(this.li.next());return this.referenceDelegate.di(),r(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,i)))}}class AS extends Z1{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Vi=new Ad,this.mi=null}static fi(e){return new Sd(e)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(e,i,r){return this.Vi.addReference(r,i),this.gi.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.Vi.removeReference(r,i),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const u=pt.fromPath(r);return this.pi(e,u).next(h=>{h||i.removeEntry(u,St.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(r=>{r?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class nc{constructor(e,i){this.persistence=e,this.yi=new Sr(r=>W1(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=hS(this,i)}static fi(e,i){return new nc(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}Sr(e){let i=0;return this.yr(e,r=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(r,u)=>this.Dr(e,r,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(r++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ko(e.data.value)),i}Dr(e,i,r){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.ds=r,this.As=u}static Rs(e,i){let r=Mt(),u=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new bd(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yT()?8:$1(gT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new SS;return this.bs(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,r,u){return r.documentReadCount<this.gs?(gs()<=jt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(gs()<=jt.DEBUG&&rt("QueryEngine","Query:",ps(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ps*u?(gs()<=jt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):F.resolve())}ws(e,i){if(Gy(i))return F.resolve(null);let r=_i(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Zf(i,null,"F"),r=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Mt(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.vs(i,p);return this.Cs(i,_,d,v.readTime)?this.ws(e,Zf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,r,u){return Gy(i)||u.isEqual(St.min())?F.resolve(null):this.ys.getDocuments(e,r).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,r,u)?F.resolve(null):(gs()<=jt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(i)),this.Fs(e,d,i,Y1(u,$l)).next(p=>p))})}vs(e,i){let r=new Me(hv(e));return i.forEach((u,h)=>{dc(e,h)&&(r=r.add(h))}),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,r){return gs()<=jt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ys.getDocumentsMatchingQuery(e,i,xa.min(),r)}Fs(e,i,r,u){return this.ys.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="LocalStore",RS=3e8;class wS{constructor(e,i,r,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new he(It),this.Os=new Sr(h=>gd(h),pd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function CS(s,e,i,r){return new wS(s,e,i,r)}async function Uv(s,e){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],p=[];let v=Mt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:p}))})})}function DS(s,e){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const D=_.batch,V=D.keys();let q=F.resolve();return V.forEach(Z=>{q=q.next(()=>A.getEntry(v,Z)).next(at=>{const $=_.docVersions.get(Z);Kt($!==null,48541),at.version.compareTo($)<0&&(D.applyToRemoteDocument(at,_),at.isValidDocument()&&(at.setReadTime(_.commitVersion),A.addEntry(at)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(v,D))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let v=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function Lv(s){const e=bt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function VS(s,e){const i=bt(s),r=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,D)=>{const V=u.get(D);if(!V)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,D)));let q=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?q=q.withResumeToken(Xe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),u=u.insert(D,q),function(at,$,wt){return at.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=RS?!0:wt.addedDocuments.size+wt.modifiedDocuments.size+wt.removedDocuments.size>0}(V,q,A)&&p.push(i.Ti.updateTargetData(h,q))});let v=Ji(),_=Mt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(IS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!r.isEqual(St.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(D=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,r));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function IS(s,e,i){let r=Mt(),u=Mt();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ji();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):rt(Rd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function NS(s,e){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xS(s,e){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Ti.getTargetData(r,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(r).next(d=>(u=new Ca(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Ti.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.xs.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(r.targetId,r),i.Os.set(e,r.targetId)),r})}async function ed(s,e,i){const r=bt(s),u=r.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ns(d))throw d;rt(Rd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.xs=r.xs.remove(e),r.Os.delete(u.target)}function i_(s,e,i){const r=bt(s);let u=St.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const D=bt(v),V=D.Os.get(A);return V!==void 0?F.resolve(D.xs.get(V)):D.Ti.getTargetData(_,A)}(r,d,_i(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>r.Ms.getDocumentsMatchingQuery(d,e,i?u:St.min(),i?h:Mt())).next(p=>(OS(r,vA(e),p),{documents:p,$s:h})))}function OS(s,e,i){let r=s.Ns.get(e)||St.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Ns.set(e,r)}class a_{constructor(){this.activeTargetIds=RA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MS{constructor(){this.xo=new a_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,r){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new a_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="ConnectivityMonitor";class s_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(r_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(r_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo=null;function nd(){return zo===null?zo=function(){return 268435456+Math.round(2147483648*Math.random())}():zo++,"0x"+zo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${r}/databases/${u}`,this.Go=this.databaseId.database===Zo?`project_id=${r}`:`project_id=${r}&database_id=${u}`}zo(e,i,r,u,h){const d=nd(),p=this.jo(e,i.toUriEncodedString());rt(Of,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(p),A=od(_);return this.Jo(e,p,v,r,A).then(D=>(rt(Of,`Received RPC '${e}' ${d}: `,D),D),D=>{throw Ts(Of,`RPC '${e}' ${d} failed with error: `,D,"url: ",p,"request:",r),D})}Yo(e,i,r,u,h,d){return this.zo(e,i,r,u,h)}Ho(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const r=LS[e];return`${this.Ko}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class BS extends zS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=nd();return new Promise((p,v)=>{const _=new B_;_.setWithCredentials(!0),_.listenOnce(k_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bo.NO_ERROR:const D=_.getResponseJson();rt(We,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),p(D);break;case Bo.TIMEOUT:rt(We,`RPC '${e}' ${d} timed out`),v(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Bo.HTTP_ERROR:const V=_.getStatus();if(rt(We,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const at=function(wt){const mt=wt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN}(Z.status);v(new ot(at,Z.message))}else v(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(X.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(We,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);rt(We,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)})}T_(e,i,r){const u=nd(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=H_(),p=q_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(We,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);let V=!1,q=!1;const Z=new PS({Zo:$=>{q?rt(We,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(V||(rt(We,`Opening RPC '${e}' stream ${u} transport.`),D.open(),V=!0),rt(We,`RPC '${e}' stream ${u} sending:`,$),D.send($))},Xo:()=>D.close()}),at=($,wt,mt)=>{$.listen(wt,gt=>{try{mt(gt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return at(D,kl.EventType.OPEN,()=>{q||(rt(We,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),at(D,kl.EventType.CLOSE,()=>{q||(q=!0,rt(We,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),at(D,kl.EventType.ERROR,$=>{q||(q=!0,Ts(We,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),at(D,kl.EventType.MESSAGE,$=>{var wt;if(!q){const mt=$.data[0];Kt(!!mt,16349);const gt=mt,Ut=(gt==null?void 0:gt.error)||((wt=gt[0])===null||wt===void 0?void 0:wt.error);if(Ut){rt(We,`RPC '${e}' stream ${u} received error:`,Ut);const Rt=Ut.status;let qt=function(w){const N=Re[w];if(N!==void 0)return Sv(N)}(Rt),x=Ut.message;qt===void 0&&(qt=X.INTERNAL,x="Unknown error status: "+Rt+" with message "+Ut.message),q=!0,Z.u_(new ot(qt,x)),D.close()}else rt(We,`RPC '${e}' stream ${u} received:`,mt),Z.c_(mt)}}),at(p,j_.STAT_EVENT,$=>{$.stat===Gf.PROXY?rt(We,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Gf.NOPROXY&&rt(We,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(s){return new HA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=r,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-r);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class Pv{constructor(e,i,r,u,h,d,p,v){this.xi=e,this.y_=r,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new zv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.S_===i&&this.K_(r,u)},r=>{e(()=>{const u=new ot(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(u)})})}K_(e,i){const r=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{r(()=>this.W_(u))}),this.stream.onMessage(u=>{r(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return rt(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(rt(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kS extends Pv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=YA(this.serializer,e),r=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?vi(d.readTime):St.min()}(e);return this.listener.j_(i,r)}H_(e){const i={};i.database=td(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Xf(v)?{documents:XA(h,v)}:{query:ZA(h,v).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=wv(h,d.resumeToken);const _=$f(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=ec(h,d.snapshotVersion.toTimestamp());const _=$f(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const r=JA(this.serializer,e);r&&(i.labels=r),this.L_(i)}J_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.L_(i)}}class jS extends Pv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=KA(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.ea(r,i)}ta(){const e={};e.database=td(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>FA(this.serializer,r))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class HS extends qS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,r,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Jf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())})}Yo(e,i,r,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Jf(i,r),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class GS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?($i(i),this.oa=!1):rt("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class QS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{r.enqueueAndForget(async()=>{br(this)&&(rt(Ar,"Restarting streams for network reachability change."),await async function(v){const _=bt(v);_.Ta.add(4),await su(_),_.da.set("Unknown"),_.Ta.delete(4),await _c(_)}(this))})}),this.da=new GS(r,u)}}async function _c(s){if(br(s))for(const e of s.Ia)await e(!0)}async function su(s){for(const e of s.Ia)await e(!1)}function Bv(s,e){const i=bt(s);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Vd(i)?Dd(i):xs(i).M_()&&Cd(i,e))}function wd(s,e){const i=bt(s),r=xs(i);i.Pa.delete(e),r.M_()&&kv(i,e),i.Pa.size===0&&(r.M_()?r.N_():br(i)&&i.da.set("Unknown"))}function Cd(s,e){if(s.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xs(s).H_(e)}function kv(s,e){s.Aa.Ke(e),xs(s).J_(e)}function Dd(s){s.Aa=new BA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Pa.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),xs(s).start(),s.da._a()}function Vd(s){return br(s)&&!xs(s).F_()&&s.Pa.size>0}function br(s){return bt(s).Ta.size===0}function jv(s){s.Aa=void 0}async function YS(s){s.da.set("Online")}async function FS(s){s.Pa.forEach((e,i)=>{Cd(s,e)})}async function KS(s,e){jv(s),Vd(s)?(s.da.ca(e),Dd(s)):s.da.set("Unknown")}async function XS(s,e,i){if(s.da.set("Online"),e instanceof Rv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Pa.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Pa.delete(p),u.Aa.removeTarget(p))}(s,e)}catch(r){rt(Ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ic(s,r)}else if(e instanceof Ho?s.Aa.Xe(e):e instanceof bv?s.Aa.ot(e):s.Aa.nt(e),!i.isEqual(St.min()))try{const r=await Lv(s.localStore);i.compareTo(r)>=0&&await function(h,d){const p=h.Aa.It(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),kv(h,v);const D=new Ca(A.target,v,_,A.sequenceNumber);Cd(h,D)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(r){rt(Ar,"Failed to raise snapshot:",r),await ic(s,r)}}async function ic(s,e,i){if(!Ns(e))throw e;s.Ta.add(1),await su(s),s.da.set("Offline"),i||(i=()=>Lv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(Ar,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await _c(s)})}function qv(s,e){return e().catch(i=>ic(s,i,e))}async function vc(s){const e=bt(s),i=La(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:fd;for(;ZS(e);)try{const u=await NS(e.localStore,r);if(u===null){e.ha.length===0&&i.N_();break}r=u.batchId,$S(e,u)}catch(u){await ic(e,u)}Hv(e)&&Gv(e)}function ZS(s){return br(s)&&s.ha.length<10}function $S(s,e){s.ha.push(e);const i=La(s);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Hv(s){return br(s)&&!La(s).F_()&&s.ha.length>0}function Gv(s){La(s).start()}async function JS(s){La(s).ta()}async function WS(s){const e=La(s);for(const i of s.ha)e.Z_(i.mutations)}async function tb(s,e,i){const r=s.ha.shift(),u=vd.from(r,e,i);await qv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await vc(s)}async function eb(s,e){e&&La(s).Y_&&await async function(r,u){if(function(d){return zA(d)&&d!==X.ABORTED}(u.code)){const h=r.ha.shift();La(r).O_(),await qv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await vc(r)}}(s,e),Hv(s)&&Gv(s)}async function u_(s,e){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),rt(Ar,"RemoteStore received new credentials");const r=br(i);i.Ta.add(3),await su(i),r&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await _c(i)}async function nb(s,e){const i=bt(s);e?(i.Ta.delete(2),await _c(i)):e||(i.Ta.add(2),await su(i),i.da.set("Unknown"))}function xs(s){return s.Ra||(s.Ra=function(i,r,u){const h=bt(i);return h.ra(),new kS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:YS.bind(null,s),n_:FS.bind(null,s),i_:KS.bind(null,s),j_:XS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Ra.O_(),Vd(s)?Dd(s):s.da.set("Unknown")):(await s.Ra.stop(),jv(s))})),s.Ra}function La(s){return s.Va||(s.Va=function(i,r,u){const h=bt(i);return h.ra(),new jS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:JS.bind(null,s),i_:eb.bind(null,s),X_:WS.bind(null,s),ea:tb.bind(null,s)}),s.Ia.push(async e=>{e?(s.Va.O_(),await vc(s)):(await s.Va.stop(),s.ha.length>0&&(rt(Ar,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,p=new Id(e,i,d,u,h);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nd(s,e){if($i("AsyncQueue",`${e}: ${s}`),Ns(s))return new ot(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ma=new he(pt.comparator)}track(e){const i=e.doc.key,r=this.ma.get(i);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(i,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(i):e.type===1&&r.type===2?this.ma=this.ma.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):Et(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,r)=>{e.push(r)}),e}}class ws{constructor(e,i,r,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new ws(e,i,Es.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class ab{constructor(){this.queries=c_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,r){const u=bt(i),h=u.queries;u.queries=c_(),h.forEach((d,p)=>{for(const v of p.ya)v.onError(r)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function c_(){return new Sr(s=>cv(s),fc)}async function xd(s,e){const i=bt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(r=2):(h=new ib,r=e.Sa()?0:1);try{switch(r){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Nd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Md(i)}async function Od(s,e){const i=bt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function rb(s,e){const i=bt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ya)p.va(u)&&(r=!0);d.pa=u}}r&&Md(i)}function sb(s,e,i){const r=bt(s),u=r.queries.get(e);if(u)for(const h of u.ya)h.onError(i);r.queries.delete(e)}function Md(s){s.ba.forEach(e=>{e.next()})}var id,h_;(h_=id||(id={})).Ca="default",h_.Cache="cache";class Ud{constructor(e,i,r){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const r=i!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.key=e}}class Yv{constructor(e){this.key=e}}class lb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Mt(),this.mutatedKeys=Mt(),this.Ha=hv(e),this.Ja=new Es(this.Ha)}get Ya(){return this.Ga}Za(e,i){const r=i?i.Xa:new o_,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,D)=>{const V=u.get(A),q=dc(this.query,D)?D:null,Z=!!V&&this.mutatedKeys.has(V.key),at=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;V&&q?V.data.isEqual(q.data)?Z!==at&&(r.track({type:3,doc:q}),$=!0):this.eu(V,q)||(r.track({type:2,doc:q}),$=!0,(v&&this.Ha(q,v)>0||_&&this.Ha(q,_)<0)&&(p=!0)):!V&&q?(r.track({type:0,doc:q}),$=!0):V&&!q&&(r.track({type:1,doc:V}),$=!0,(v||_)&&(p=!0)),$&&(q?(d=d.add(q),h=at?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{Ja:d,Xa:r,Cs:p,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,D)=>function(q,Z){const at=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:$})}};return at(q)-at(Z)}(A.type,D.type)||this.Ha(A.doc,D.doc)),this.tu(r),u=u!=null&&u;const p=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new ws(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Mt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const i=[];return e.forEach(r=>{this.ja.has(r)||i.push(new Yv(r))}),this.ja.forEach(r=>{e.has(r)||i.push(new Qv(r))}),i}su(e){this.Ga=e.$s,this.ja=Mt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return ws.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ld="SyncEngine";class ub{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ob{constructor(e){this.key=e,this._u=!1}}class cb{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Sr(p=>cv(p),fc),this.cu=new Map,this.lu=new Set,this.hu=new he(pt.comparator),this.Pu=new Map,this.Tu=new Ad,this.Iu={},this.Eu=new Map,this.du=Rs.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function hb(s,e,i=!0){const r=Jv(s);let u;const h=r.uu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await Fv(r,e,i,!0),u}async function fb(s,e){const i=Jv(s);await Fv(i,e,!0,!1)}async function Fv(s,e,i,r){const u=await xS(s.localStore,_i(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await db(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Bv(s.remoteStore,u),p}async function db(s,e,i,r,u){s.Ru=(D,V,q)=>async function(at,$,wt,mt){let gt=$.view.Za(wt);gt.Cs&&(gt=await i_(at.localStore,$.query,!1).then(({documents:x})=>$.view.Za(x,gt)));const Ut=mt&&mt.targetChanges.get($.targetId),Rt=mt&&mt.targetMismatches.get($.targetId)!=null,qt=$.view.applyChanges(gt,at.isPrimaryClient,Ut,Rt);return d_(at,$.targetId,qt.ru),qt.snapshot}(s,D,V,q);const h=await i_(s.localStore,e,!0),d=new lb(e,h.$s),p=d.Za(h.documents),v=ru.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);d_(s,i,_.ru);const A=new ub(e,i,d);return s.uu.set(e,A),s.cu.has(i)?s.cu.get(i).push(e):s.cu.set(i,[e]),_.snapshot}async function mb(s,e,i){const r=bt(s),u=r.uu.get(e),h=r.cu.get(u.targetId);if(h.length>1)return r.cu.set(u.targetId,h.filter(d=>!fc(d,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await ed(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&wd(r.remoteStore,u.targetId),ad(r,u.targetId)}).catch(Is)):(ad(r,u.targetId),await ed(r.localStore,u.targetId,!0))}async function gb(s,e){const i=bt(s),r=i.uu.get(e),u=i.cu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),wd(i.remoteStore,r.targetId))}async function pb(s,e,i){const r=Sb(s);try{const u=await function(d,p){const v=bt(d),_=Oe.now(),A=p.reduce((q,Z)=>q.add(Z.key),Mt());let D,V;return v.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Ji(),at=Mt();return v.Bs.getEntries(q,A).next($=>{Z=$,Z.forEach((wt,mt)=>{mt.isValidDocument()||(at=at.add(wt))})}).next(()=>v.localDocuments.getOverlayedDocuments(q,Z)).next($=>{D=$;const wt=[];for(const mt of p){const gt=xA(mt,D.get(mt.key).overlayedDocument);gt!=null&&wt.push(new ka(mt.key,gt,iv(gt.value.mapValue),bn.exists(!0)))}return v.mutationQueue.addMutationBatch(q,_,wt,p)}).next($=>{V=$;const wt=$.applyToLocalDocumentSet(D,at);return v.documentOverlayCache.saveOverlays(q,$.batchId,wt)})}).then(()=>({batchId:V.batchId,changes:dv(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new he(It)),_=_.insert(p,v),d.Iu[d.currentUser.toKey()]=_}(r,u.batchId,i),await lu(r,u.changes),await vc(r.remoteStore)}catch(u){const h=Nd(u,"Failed to persist write");i.reject(h)}}async function Kv(s,e){const i=bt(s);try{const r=await VS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(Kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?Kt(d._u,14607):u.removedDocuments.size>0&&(Kt(d._u,42227),d._u=!1))}),await lu(i,r,e)}catch(r){await Is(r)}}function f_(s,e,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.uu.forEach((h,d)=>{const p=d.view.Da(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=bt(d);v.onlineState=p;let _=!1;v.queries.forEach((A,D)=>{for(const V of D.ya)V.Da(p)&&(_=!0)}),_&&Md(v)}(r.eventManager,e),u.length&&r.au.j_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yb(s,e,i){const r=bt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Pu.get(e),h=u&&u.key;if(h){let d=new he(pt.comparator);d=d.insert(h,en.newNoDocument(h,St.min()));const p=Mt().add(h),v=new pc(St.min(),new Map,new he(It),d,p);await Kv(r,v),r.hu=r.hu.remove(h),r.Pu.delete(e),zd(r)}else await ed(r.localStore,e,!1).then(()=>ad(r,e,i)).catch(Is)}async function _b(s,e){const i=bt(s),r=e.batch.batchId;try{const u=await DS(i.localStore,e);Zv(i,r,null),Xv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await lu(i,u)}catch(u){await Is(u)}}async function vb(s,e,i){const r=bt(s);try{const u=await function(d,p){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(D=>(Kt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(r.localStore,e);Zv(r,e,i),Xv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await lu(r,u)}catch(u){await Is(u)}}function Xv(s,e){(s.Eu.get(e)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(e)}function Zv(s,e,i){const r=bt(s);let u=r.Iu[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Iu[r.currentUser.toKey()]=u}}function ad(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.cu.get(e))s.uu.delete(r),i&&s.au.Vu(r,i);s.cu.delete(e),s.isPrimaryClient&&s.Tu.Hr(e).forEach(r=>{s.Tu.containsKey(r)||$v(s,r)})}function $v(s,e){s.lu.delete(e.path.canonicalString());const i=s.hu.get(e);i!==null&&(wd(s.remoteStore,i),s.hu=s.hu.remove(e),s.Pu.delete(i),zd(s))}function d_(s,e,i){for(const r of i)r instanceof Qv?(s.Tu.addReference(r.key,e),Eb(s,r)):r instanceof Yv?(rt(Ld,"Document no longer in limbo: "+r.key),s.Tu.removeReference(r.key,e),s.Tu.containsKey(r.key)||$v(s,r.key)):Et(19791,{mu:r})}function Eb(s,e){const i=e.key,r=i.path.canonicalString();s.hu.get(i)||s.lu.has(r)||(rt(Ld,"New document in limbo: "+i),s.lu.add(r),zd(s))}function zd(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const e=s.lu.values().next().value;s.lu.delete(e);const i=new pt(oe.fromString(e)),r=s.du.next();s.Pu.set(r,new ob(i)),s.hu=s.hu.insert(i,r),Bv(s.remoteStore,new Ca(_i(hc(i.path)),r,"TargetPurposeLimboResolution",lc.le))}}async function lu(s,e,i){const r=bt(s),u=[],h=[],d=[];r.uu.isEmpty()||(r.uu.forEach((p,v)=>{d.push(r.Ru(v,e,i).then(_=>{var A;if((_||i)&&r.isPrimaryClient){const D=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,D?"current":"not-current")}if(_){u.push(_);const D=bd.Rs(v.targetId,_);h.push(D)}}))}),await Promise.all(d),r.au.j_(u),await async function(v,_){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>F.forEach(_,V=>F.forEach(V.ds,q=>A.persistence.referenceDelegate.addReference(D,V.targetId,q)).next(()=>F.forEach(V.As,q=>A.persistence.referenceDelegate.removeReference(D,V.targetId,q)))))}catch(D){if(!Ns(D))throw D;rt(Rd,"Failed to update sequence numbers: "+D)}for(const D of _){const V=D.targetId;if(!D.fromCache){const q=A.xs.get(V),Z=q.snapshotVersion,at=q.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(V,at)}}}(r.localStore,h))}async function Tb(s,e){const i=bt(s);if(!i.currentUser.isEqual(e)){rt(Ld,"User change. New user:",e.toKey());const r=await Uv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(p=>{p.forEach(v=>{v.reject(new ot(X.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(i,r.ks)}}function Ab(s,e){const i=bt(s),r=i.Pu.get(e);if(r&&r._u)return Mt().add(r.key);{let u=Mt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const p=i.uu.get(d);u=u.unionWith(p.view.Ya)}return u}}function Jv(s){const e=bt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ab.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yb.bind(null,e),e.au.j_=rb.bind(null,e.eventManager),e.au.Vu=sb.bind(null,e.eventManager),e}function Sb(s){const e=bt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vb.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return CS(this.persistence,new bS,e.initialUser,this.serializer)}yu(e){return new Mv(Sd.fi,this.serializer)}pu(e){return new MS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class bb extends ac{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){Kt(this.persistence.referenceDelegate instanceof nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oS(r,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Mv(r=>nc.fi(r,i),this.serializer)}}class rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tb.bind(null,this.syncEngine),await nb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ab}()}createDatastore(e){const i=yc(e.databaseInfo.databaseId),r=function(h){return new BS(h)}(e.databaseInfo);return function(h,d,p,v){return new HS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,p){return new QS(r,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>f_(this.syncEngine,i,0),function(){return s_.C()?new s_:new US}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const D=new cb(u,h,d,p,v,_);return A&&(D.Au=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=bt(u);rt(Ar,"RemoteStore shutting down."),h.Ta.add(5),await su(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}rd.provider={build:()=>new rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class Rb{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=tn.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{rt(za,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(rt(za,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Nd(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(za,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await Uv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function m_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await wb(s);rt(za,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>u_(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>u_(e.remoteStore,u)),s._onlineComponents=e}async function wb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(za,"Using user provided OfflineComponentProvider");try{await Uf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Uf(s,new ac)}}else rt(za,"Using default OfflineComponentProvider"),await Uf(s,new bb(void 0));return s._offlineComponents}async function Wv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(za,"Using user provided OnlineComponentProvider"),await m_(s,s._uninitializedComponentsProvider._online)):(rt(za,"Using default OnlineComponentProvider"),await m_(s,new rd))),s._onlineComponents}function Cb(s){return Wv(s).then(e=>e.syncEngine)}async function rc(s){const e=await Wv(s),i=e.eventManager;return i.onListen=hb.bind(null,e.syncEngine),i.onUnlisten=mb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gb.bind(null,e.syncEngine),i}function Db(s,e,i={}){const r=new Xi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Pd({next:V=>{A.Cu(),d.enqueueAndForget(()=>Od(h,D));const q=V.docs.has(p);!q&&V.fromCache?_.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&V.fromCache&&v&&v.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),D=new Ud(hc(p.path),A,{includeMetadataChanges:!0,La:!0});return xd(h,D)}(await rc(s),s.asyncQueue,e,i,r)),r.promise}function Vb(s,e,i={}){const r=new Xi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Pd({next:V=>{A.Cu(),d.enqueueAndForget(()=>Od(h,D)),V.fromCache&&v.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),D=new Ud(p,A,{includeMetadataChanges:!0,La:!0});return xd(h,D)}(await rc(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(s,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ib(s,e,i,r){if(e===!0&&r===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function p_(s){if(!pt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function y_(s){if(pt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Bd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function Rn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bd(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firestore.googleapis.com",__=!0;class v_{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n0,this.ssl=__}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ov;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lS)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z1;switch(r.type){case"firstParty":return new j1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=g_.get(i);r&&(rt("ComponentProvider","Removing Datastore"),g_.delete(i),r.terminate())}(this),Promise.resolve()}}function Nb(s,e,i,r={}){var u;s=Rn(s,Ec);const h=od(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(cT(`https://${v}`),mT("Firestore",!0)),d.host!==n0&&d.host!==v&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:r});if(!Yo(_,p)&&(s._setSettings(_),r.mockUserToken)){let A,D;if(typeof r.mockUserToken=="string")A=r.mockUserToken,D=tn.MOCK_USER;else{A=hT(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new tn(V)}s._authCredentials=new P1(new Q_(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class ln{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Na extends uu{constructor(e,i,r){super(e,i,hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new pt(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Lf(s,e,...i){if(s=$n(s),e0("collection","path",e),s instanceof Ec){const r=oe.fromString(e,...i);return y_(r),new Na(s,null,r)}{if(!(s instanceof ln||s instanceof Na))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(e,...i));return y_(r),new Na(s.firestore,null,r)}}function pi(s,e,...i){if(s=$n(s),arguments.length===1&&(e=F_.newId()),e0("doc","path",e),s instanceof Ec){const r=oe.fromString(e,...i);return p_(r),new ln(s,null,new pt(r))}{if(!(s instanceof ln||s instanceof Na))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(e,...i));return p_(r),new ln(s.firestore,s instanceof Na?s.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new zv(this,"async_queue_retry"),this.ec=()=>{const r=Mf();r&&rt(E_,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const i=Mf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Mf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Xi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ns(e))throw e;rt(E_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,$i("INTERNAL UNHANDLED ERROR: ",A_(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=i,i}enqueueAfterDelay(e,i,r){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=Id.createAndSchedule(this,e,i,r,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&Et(47125,{_c:A_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function A_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(s){return function(i,r){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of r)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Pa extends Ec{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new T_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function xb(s,e){const i=typeof s=="object"?s:b1(),r=typeof s=="string"?s:Zo,u=v1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=uT("firestore");h&&Nb(u,...h)}return u}function ou(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ob(s),s._firestoreClient}function Ob(s){var e,i,r;const u=s._freezeSettings(),h=function(p,v,_,A){return new nA(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,t0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new Rb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(Xe.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cs(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=/^__.*__$/;class Ub{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class i0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function a0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{hc:s})}}class qd{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:r,Ec:!1});return u.dc(e),u}Ac(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:r,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return sc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(a0(this.hc)&&Mb.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Lb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||yc(e)}gc(e,i,r,u=!1){return new qd({hc:e,methodName:i,fc:r,path:Ke.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(s){const e=s._freezeSettings(),i=yc(s._databaseId);return new Lb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function r0(s,e,i,r,u,h={}){const d=s.gc(h.merge||h.mergeFields?2:0,e,i,u);Qd("Data must be an object, but it was:",d,r);const p=u0(r,d);let v,_;if(h.merge)v=new Sn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const V=sd(e,D,i);if(!d.contains(V))throw new ot(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);c0(A,V)||A.push(V)}v=new Sn(A),_=d.fieldTransforms.filter(D=>v.covers(D.field))}else v=null,_=d.fieldTransforms;return new Ub(new mn(p),v,_)}class Ac extends Tc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}class Gd extends Tc{constructor(e,i){super(e),this.wc=i}_toFieldTransform(e){const i=new iu(e.serializer,pv(e.serializer,this.wc));return new DA(e.path,i)}isEqual(e){return e instanceof Gd&&this.wc===e.wc}}function s0(s,e,i,r){const u=s.gc(1,e,i);Qd("Data must be an object, but it was:",u,r);const h=[],d=mn.empty();Ba(r,(v,_)=>{const A=Yd(e,v,i);_=$n(_);const D=u.Ac(A);if(_ instanceof Ac)h.push(A);else{const V=Sc(_,D);V!=null&&(h.push(A),d.set(A,V))}});const p=new Sn(h);return new i0(d,p,u.fieldTransforms)}function l0(s,e,i,r,u,h){const d=s.gc(1,e,i),p=[sd(e,r,i)],v=[u];if(h.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(sd(e,h[V])),v.push(h[V+1]);const _=[],A=mn.empty();for(let V=p.length-1;V>=0;--V)if(!c0(_,p[V])){const q=p[V];let Z=v[V];Z=$n(Z);const at=d.Ac(q);if(Z instanceof Ac)_.push(q);else{const $=Sc(Z,at);$!=null&&(_.push(q),A.set(q,$))}}const D=new Sn(_);return new i0(A,D,d.fieldTransforms)}function Sc(s,e){if(o0(s=$n(s)))return Qd("Unsupported field value:",e,s),u0(s,e);if(s instanceof Tc)return function(r,u){if(!a0(u.hc))throw u.Vc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const p of r){let v=Sc(p,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pv(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Oe.fromDate(r);return{timestampValue:ec(u.serializer,h)}}if(r instanceof Oe){const h=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(u.serializer,h)}}if(r instanceof kd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:wv(u.serializer,r._byteString)};if(r instanceof ln){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Td(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof jd)return function(d,p){return{mapValue:{fields:{[ev]:{stringValue:nv},[$o]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Vc("VectorValues must only contain numeric values.");return yd(p.serializer,_)})}}}}}}(r,u);throw u.Vc(`Unsupported field value: ${Bd(r)}`)}(s,e)}function u0(s,e){const i={};return X_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(s,(r,u)=>{const h=Sc(u,e.Ic(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function o0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Oe||s instanceof kd||s instanceof Cs||s instanceof ln||s instanceof Tc||s instanceof jd)}function Qd(s,e,i){if(!o0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const r=Bd(i);throw r==="an object"?e.Vc(s+" a custom object"):e.Vc(s+" "+r)}}function sd(s,e,i){if((e=$n(e))instanceof cu)return e._internalPath;if(typeof e=="string")return Yd(s,e);throw sc("Field path arguments must be of type string or ",s,!1,void 0,i)}const zb=new RegExp("[~\\*/\\[\\]]");function Yd(s,e,i){if(e.search(zb)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cu(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sc(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new ot(X.INVALID_ARGUMENT,p+s+v)}function c0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(f0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Pb extends h0{data(){return super.data()}}function f0(s,e){return typeof e=="string"?Yd(s,e):e instanceof cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ba(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[$o].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>ve(d.doubleValue));return new jd(h)}convertGeoPoint(e){return new kd(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=oc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new Oe(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=oe.fromString(e);Kt(xv(r),9688,{name:e});const u=new Wl(r.get(1),r.get(3)),h=new pt(r.popFirst(5));return u.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g0 extends h0{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(f0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Go extends g0{data(e={}){return super.data(e)}}class p0{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Go(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new Go(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Hl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new Go(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Hl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:kb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function kb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(s){s=Rn(s,ln);const e=Rn(s.firestore,Pa);return Db(ou(e),s._key).then(i=>y0(e,s,i))}class Fd extends Bb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,i)}}function zf(s){s=Rn(s,uu);const e=Rn(s.firestore,Pa),i=ou(e),r=new Fd(e);return d0(s._query),Vb(i,s._query).then(u=>new p0(e,r,s,u))}function R_(s,e,i){s=Rn(s,ln);const r=Rn(s.firestore,Pa),u=m0(s.converter,e,i);return Kd(r,[r0(Hd(r),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,bn.none())])}function Po(s,e,i,...r){s=Rn(s,ln);const u=Rn(s.firestore,Pa),h=Hd(u);let d;return d=typeof(e=$n(e))=="string"||e instanceof cu?l0(h,"updateDoc",s._key,e,i,r):s0(h,"updateDoc",s._key,e),Kd(u,[d.toMutation(s._key,bn.exists(!0))])}function jb(s,...e){var i,r,u;s=$n(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||S_(e[d])||(h=e[d],d++);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(S_(e[d])){const D=e[d];e[d]=(i=D.next)===null||i===void 0?void 0:i.bind(D),e[d+1]=(r=D.error)===null||r===void 0?void 0:r.bind(D),e[d+2]=(u=D.complete)===null||u===void 0?void 0:u.bind(D)}let v,_,A;if(s instanceof ln)_=Rn(s.firestore,Pa),A=hc(s._key.path),v={next:D=>{e[d]&&e[d](y0(_,s,D))},error:e[d+1],complete:e[d+2]};else{const D=Rn(s,uu);_=Rn(D.firestore,Pa),A=D._query;const V=new Fd(_);v={next:q=>{e[d]&&e[d](new p0(_,V,D,q))},error:e[d+1],complete:e[d+2]},d0(s._query)}return function(V,q,Z,at){const $=new Pd(at),wt=new Ud(q,$,Z);return V.asyncQueue.enqueueAndForget(async()=>xd(await rc(V),wt)),()=>{$.Cu(),V.asyncQueue.enqueueAndForget(async()=>Od(await rc(V),wt))}}(ou(_),A,p,v)}function Kd(s,e){return function(r,u){const h=new Xi;return r.asyncQueue.enqueueAndForget(async()=>pb(await Cb(r),u,h)),h.promise}(ou(s),e)}function y0(s,e,i){const r=i.docs.get(e._key),u=new Fd(s);return new g0(s,u,e._key,r,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Hd(e)}set(e,i,r){this._verifyNotCommitted();const u=Pf(e,this._firestore),h=m0(u.converter,i,r),d=r0(this._dataReader,"WriteBatch.set",u._key,h,u.converter!==null,r);return this._mutations.push(d.toMutation(u._key,bn.none())),this}update(e,i,r,...u){this._verifyNotCommitted();const h=Pf(e,this._firestore);let d;return d=typeof(i=$n(i))=="string"||i instanceof cu?l0(this._dataReader,"WriteBatch.update",h._key,i,r,u):s0(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Pf(e,this._firestore);return this._mutations=this._mutations.concat(new _d(i._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pf(s,e){if((s=$n(s)).firestore!==e)throw new ot(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function w_(s){return new Gd("increment",s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){return ou(s=Rn(s,Pa)),new qb(s,e=>Kd(s,e))}(function(e,i=!0){(function(u){Vs=u})(S1),Ko(new Xl("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Pa(new B1(r.getProvider("auth-internal")),new q1(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),vs(Cy,Dy,e),vs(Cy,Dy,"esm2017")})();const Gb={apiKey:"AIzaSyBbk4SiSqWANAiet8EVvTrIC21aAWBvg",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"601661458034",appId:"1:601661458034:web:8134e270349f9a0b3a3c97"},Qb=U_(Gb),fn=xb(Qb);async function C_(s){console.log(`[MOCK] Bizppurio 메시지: ${s}`)}console.log("🐞 App.jsx v2 로드됨");function Yb(){const[s,e]=re.useState([]),[i,r]=re.useState({}),[u,h]=re.useState([]),[d,p]=re.useState("attendance"),[v,_]=re.useState({}),[A,D]=re.useState(""),[V,q]=re.useState(()=>localStorage.getItem("authenticated")==="true"),[Z,at]=re.useState(new Date),[$,wt]=re.useState(0),[mt,gt]=re.useState(null),[Ut,Rt]=re.useState(!1),[qt,x]=re.useState([]),[S,w]=re.useState({}),[N,O]=re.useState(0),M=re.useMemo(()=>{const W=new Date;return W.setDate(W.getDate()+N),W.toISOString().split("T")[0]},[N]),R=new Date().toISOString().split("T")[0],ge=M===R,se=Object.keys(i).length,H=Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});[...s].sort((W,yt)=>W.name.localeCompare(yt.name));const et=["출석","숙제","수업태도","시험","문제집완료"],Lt=["일","월","화","수","목","금","토"][new Date(M).getDay()];re.useEffect(()=>{window.location.hostname==="localhost"&&(q(!0),localStorage.setItem("authenticated","true"))},[]),re.useEffect(()=>{(async()=>{const dt=(await zf(Lf(fn,"students"))).docs.map(ut=>({id:ut.id,...ut.data()})),lt=Hb(fn);dt.forEach(ut=>{if(typeof ut.points=="number"){const Xt={출석:ut.points,숙제:0,수업태도:0,시험:0,문제집완료:0};lt.set(pi(fn,"students",ut.id),{points:Xt},{merge:!0}),ut.points=Xt}else et.forEach(Xt=>{(!ut.points||ut.points[Xt]===void 0)&&(ut.points||(ut.points={}),ut.points[Xt]=0)})}),await lt.commit(),e(dt)})()},[]);const[C,K]=re.useState([]);re.useEffect(()=>{const W=pi(fn,"attendance",M),yt=jb(W,dt=>{r(dt.exists()?dt.data():{})});return()=>yt()},[M]),re.useEffect(()=>{(async()=>{const dt=(await zf(Lf(fn,"schedule_changes"))).docs.map(lt=>({id:lt.id,...lt.data()}));K(dt)})()},[]),re.useEffect(()=>{(async()=>{const dt=(await zf(Lf(fn,"students_high"))).docs.map(lt=>({id:lt.id,...lt.data()}));x(dt)})()},[]),re.useEffect(()=>{(async()=>{const yt=await b_(pi(fn,"high-attendance",M));w(yt.exists()?yt.data():{})})()},[M]);const it=(W,yt)=>{const lt=C.filter(ut=>ut.studentId===W).filter(ut=>ut.effectiveDate<=yt);if(lt.length===0){const ut=s.find(Xt=>Xt.id===W);return(ut==null?void 0:ut.schedules)||[]}return lt.sort((ut,Xt)=>Xt.effectiveDate.localeCompare(ut.effectiveDate)),lt[0].schedules},J=()=>{const W={},yt=M;return s.forEach(dt=>{if(dt.active===!1||dt.pauseDate&&dt.pauseDate<=yt)return;it(dt.id,yt).forEach(({day:ut,time:Xt})=>{ut===Lt&&(W[Xt]||(W[Xt]=[]),W[Xt].push(dt))})}),W},ft=re.useMemo(()=>J(),[s,C,M]);re.useEffect(()=>{(async()=>{const yt=new Date().toISOString().split("T")[0],dt=pi(fn,"dailyLucky",yt),lt=await b_(dt);if(lt.exists()){const ut=lt.data();gt(ut.name)}})()},[]);const Dt=async(W,yt)=>{var ut,Xt;const dt=new Date().toISOString().split("T")[0],lt=i[W.name];if(!lt){if(prompt(`${W.name} 생일 뒷 4자리를 입력하세요 (예: 1225)`)!==((ut=W.birth)==null?void 0:ut.slice(-4))){alert("생일이 일치하지 않습니다.");return}const Cn=new Date,jn=Cn.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),[qn,Wn]=yt.split(":"),Hn=new Date;Hn.setHours(+qn,+Wn,0);const je=(Cn-Hn)/6e4;let Ze="onTime",Dn=0;if(je>15)Ze="tardy",Dn=0;else if(je>=-10&&je<=5){Dn=1;const Gn=Cn.getTime(),Ai=Hn.getTime()-10*6e4,Si=Hn.getTime()+5*6e4;!(dailyLucky!=null&&dailyLucky.winnerId)&&W.id===(dailyLucky==null?void 0:dailyLucky.candidateId)&&Gn>=Ai&&Gn<=Si&&(Dn=2,await Po(pi(fn,"dailyLucky",dt),{winnerId:W.id,time:jn}),gt(W.name))}else je>=-15&&je<-10&&(Dn=1);await R_(pi(fn,"attendance",dt),{[W.name]:{time:jn,status:Ze}},{merge:!0}),r(Gn=>({...Gn,[W.name]:{time:jn,status:Ze}}));const ae=W.points||{},Ht={...ae,출석:(ae.출석||0)+Dn},we=(W.availablePoints||0)+Dn;await Po(pi(fn,"students",W.id),{points:Ht,availablePoints:we}),e(Gn=>Gn.map(Ai=>Ai.id===W.id?{...Ai,points:Ht,availablePoints:we}:Ai)),C_(`${W.name}님 출석하였습니다`),alert(`✅ ${W.name}님 출석 완료! (+${Dn}pt)`);return}if(lt.time&&!lt.departureTime){const fe=new Date,[Cn,jn]=yt.split(":"),qn=new Date;if(qn.setHours(+Cn,+jn,0),fe-qn<100*60*1e3){alert("하원은 수업 시작 후 100분 이후에만 가능합니다!");return}if(prompt(`${W.name} 생일 뒷 4자리를 입력하세요 (예: 1225)`)!==((Xt=W.birth)==null?void 0:Xt.slice(-4))){alert("비밀번호가 틀렸습니다.");return}const Hn=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});await Po(pi(fn,"attendance",dt),{[`${W.name}.departureTime`]:Hn}),await Po(pi(fn,"students",W.id),{"points.출석":w_(1),availablePoints:w_(1)}),e(je=>je.map(Ze=>Ze.id===W.id?{...Ze,points:{...Ze.points,출석:(Ze.points.출석||0)+1},availablePoints:(Ze.availablePoints||0)+1}:Ze)),r(je=>({...je,[W.name]:{...je[W.name],departureTime:Hn}})),C_(`${W.name}님 하원하였습니다`),alert(`✅ ${W.name}님 하원 완료! (+1pt)`);return}},Tt=()=>{A==="1234"?(q(!0),localStorage.setItem("authenticated","true")):alert("비밀번호가 틀렸습니다.")},Ee=()=>{q(!1),localStorage.removeItem("authenticated")};if(!V)return nt.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:nt.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[nt.jsx("input",{type:"password",placeholder:"출석 체크 비밀번호",className:"border p-2 mr-2",value:A,onChange:W=>D(W.target.value)}),nt.jsx("button",{onClick:Tt,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"로그인"})]})});const Yt=W=>et.reduce((yt,dt)=>yt+(W[dt]||0),0),wn=W=>{const yt=s.map(lt=>{var ut;return{name:lt.name,value:((ut=lt.points)==null?void 0:ut[W])||0}});return[...new Set(yt.map(lt=>lt.value))].sort((lt,ut)=>ut-lt).slice(0,5).map(lt=>({value:lt,names:yt.filter(ut=>ut.value===lt).map(ut=>ut.name)}))},Jn=async W=>{var Xt;if(prompt(`${W.name} 생일 뒷 4자리를 입력하세요 (예: 1225)`)!==((Xt=W.birth)==null?void 0:Xt.slice(-4))){alert("생일이 일치하지 않습니다.");return}const dt=new Date,lt=dt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ut=dt.toISOString().split("T")[0];await R_(pi(fn,"high-attendance",ut),{[W.name]:{time:lt,status:"출석"}},{merge:!0}),w(fe=>({...fe,[W.name]:{time:lt,status:"출석"}})),alert(`✅ ${W.name}님 고등부 출석 완료!`)};return nt.jsxs(nt.Fragment,{children:[Ut&&nt.jsxs("div",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white text-2xl font-bold px-6 py-3 rounded shadow-lg z-50 animate-bounce",children:["🎉 Lucky!!! ",mt,"님 2pt!"]}),nt.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-700 bg-blue-100 px-4 py-2 rounded mb-4",children:[nt.jsx("span",{children:"📣"}),nt.jsxs("div",{children:[nt.jsx("div",{children:"생일 4자리 입력시 출석완료!"}),nt.jsx("div",{children:" 랜덤 Lucky 2pt는 10분전~5분후까지만! 지각시 0pt"})]})]}),nt.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[nt.jsxs("div",{className:"max-w-5xl mx-auto flex space-x-4 mb-6",children:[nt.jsx("button",{className:`px-4 py-2 rounded ${d==="attendance"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>p("attendance"),children:"출석 체크"}),nt.jsx("button",{onClick:()=>p("ranking"),className:`px-4 py-2 rounded ${d==="ranking"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:"포인트 랭킹"})]}),d==="attendance"&&nt.jsxs(nt.Fragment,{children:[nt.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[nt.jsxs("div",{children:[nt.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-700",children:["📌 출석 체크 - ",Lt,"요일"]}),nt.jsxs("div",{className:"text-gray-600",children:["📅 ",M," / ⏰ ",H," / ✅ 출석 인원: ",se]}),nt.jsxs("div",{className:"text-center text-lg text-yellow-600 font-bold mb-4",children:["🎉 오늘의 Lucky 당첨자: ",mt?`${mt}님`:"아직 없음"]})]}),nt.jsxs("div",{className:"flex items-center space-x-2",children:[nt.jsx("button",{onClick:()=>O(W=>W-1),className:"bg-gray-300 px-2 py-1 rounded",children:"←"}),nt.jsx("div",{className:"text-gray-700 font-semibold",children:M}),nt.jsx("button",{onClick:()=>O(W=>W+1),className:"bg-gray-300 px-2 py-1 rounded",children:"→"})]}),nt.jsx("button",{onClick:Ee,className:"bg-red-400 text-white px-4 py-2 rounded",children:"로그아웃"})]}),Object.keys(ft).sort().map(W=>nt.jsxs("div",{className:"max-w-5xl mx-auto mb-6 bg-white p-4 rounded-lg shadow-md",children:[nt.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 text-gray-800",children:[W," 수업"]}),nt.jsx("div",{className:"grid grid-cols-6 gap-4",children:ft[W].map(yt=>{const dt=i[yt.name],lt=!!dt,ut=!!(dt!=null&&dt.departureTime);return nt.jsxs("div",{className:`
        relative            /* 스탬프 위치를 위해 */
        card
        ${lt?dt.status==="tardy"?"tardy":"attended":""}
{hasDeparted
  ? "border-4 border-blue-700 ring-4 ring-blue-300 ring-offset-2 ring-offset-white"
  : ""}        ${v[yt.name]?"animated":""}
        ${ge?ut?"cursor-not-allowed pointer-events-none":"cursor-pointer hover:shadow-lg":"cursor-not-allowed pointer-events-none"}
      `,onContextMenu:Xt=>Xt.preventDefault(),onClick:()=>Dt(yt,W),children:[ut&&nt.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white text-xs font-bold px-1 py-0.5 rounded"}),yt.name===mt&&nt.jsx("div",{className:"text-3xl text-yellow-500 text-center mb-1",children:"👑"}),nt.jsxs("div",{className:"text-right text-xs font-semibold text-gray-700 leading-none mb-1",children:["총 ",Yt(yt.points),"pt",nt.jsx("br",{}),nt.jsxs("span",{className:"text-green-600",children:["가용 ",yt.availablePoints??Yt(yt.points),"pt"]})]}),nt.jsx("p",{className:"name m-0 leading-none mb-1",children:yt.name}),lt&&nt.jsxs("div",{className:"time-text m-0 leading-none mt-1 text-sm",children:[nt.jsx("div",{children:dt.status==="tardy"?"⚠️ 지각":"✅ 출석"}),nt.jsxs("div",{children:["출석: ",dt.time]}),dt.departureTime&&nt.jsxs("div",{children:["하원: ",dt.departureTime]})]})]},yt.id)})})]},W)),nt.jsxs("div",{className:"max-w-5xl mx-auto mt-8",children:[nt.jsx("h2",{className:"text-xl font-bold mb-4",children:"🎓 고등부 출석"}),nt.jsx("div",{className:"grid grid-cols-6 gap-4",children:qt.map(W=>{const yt=S[W.name],dt=(yt==null?void 0:yt.status)==="출석";return nt.jsxs("div",{className:`
          card
          ${dt?"attended":""}
          ${ge?"cursor-pointer hover:shadow-lg":"cursor-not-allowed pointer-events-none"}
        `,onClick:()=>{if(!ge){alert("과거나 미래 날짜에는 출석 체크할 수 없습니다!");return}Jn(W)},children:[nt.jsx("p",{className:"name m-0 leading-none mb-1",children:W.name}),dt&&nt.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:["✅ 출석",nt.jsx("br",{}),yt.time]})]},W.id)})})]})]}),d==="ranking"&&nt.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[nt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🏆 포인트 랭킹 (실시간)"}),et.map(W=>{const yt=wn(W);return nt.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[nt.jsxs("div",{className:"text-lg font-semibold mb-2",children:[W," TOP 5"]}),nt.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[nt.jsx("thead",{className:"bg-gray-50",children:nt.jsxs("tr",{className:"sticky top-0",children:[nt.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"순위"}),nt.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"이름"}),nt.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:"포인트"})]})}),nt.jsx("tbody",{className:"divide-y divide-gray-100",children:yt.map((dt,lt)=>{const Xt=dt.names.slice(0,3),fe=dt.names.length-3;return nt.jsxs("tr",{className:lt===0?"bg-blue-50":"",children:[nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[lt+1,"등"]}),nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[Xt.join(", "),fe>0&&` 외 ${fe}명`]}),nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[dt.value,"pt"]})]},`${W}-${lt}`)})})]})]},W)}),nt.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[nt.jsx("div",{className:"text-lg font-semibold mb-2",children:"💯 총합 TOP 5"}),nt.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[nt.jsx("thead",{className:"bg-gray-50",children:nt.jsxs("tr",{className:"sticky top-0",children:[nt.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"순위"}),nt.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"이름"}),nt.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:"포인트"})]})}),nt.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const W=s.map(lt=>({name:lt.name,value:Yt(lt.points)}));return[...new Set(W.map(lt=>lt.value))].sort((lt,ut)=>ut-lt).slice(0,5).map(lt=>({value:lt,names:W.filter(ut=>ut.value===lt).map(ut=>ut.name)})).map((lt,ut)=>{const fe=lt.names.slice(0,3),Cn=lt.names.length-3;return nt.jsxs("tr",{className:ut===0?"bg-blue-50":"",children:[nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[ut+1,"등"]}),nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[fe.join(", "),Cn>0&&` 외 ${Cn}명`]}),nt.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[lt.value,"pt"]})]},`total-${ut}`)})})()})]})]})]})]})]})}$E.createRoot(document.getElementById("root")).render(nt.jsx(re.StrictMode,{children:nt.jsx(Yb,{})}));
