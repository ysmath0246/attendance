(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Tf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function xE(){if(Wp)return zl;Wp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var ty;function UE(){return ty||(ty=1,Tf.exports=xE()),Tf.exports}var it=UE(),Af={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function LE(){if(ey)return Ct;ey=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,at={};function J(C,K,nt){this.props=C,this.context=K,this.refs=at,this.updater=nt||H}J.prototype.isReactComponent={},J.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Vt(){}Vt.prototype=J.prototype;function mt(C,K,nt){this.props=C,this.context=K,this.refs=at,this.updater=nt||H}var dt=mt.prototype=new Vt;dt.constructor=mt,Z(dt,J.prototype),dt.isPureReactComponent=!0;var Lt=Array.isArray,St={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function O(C,K,nt,$,ht,Dt){return nt=Dt.ref,{$$typeof:r,type:C,key:K,ref:nt!==void 0?nt:null,props:Dt}}function S(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return K[nt]})}var M=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function R(){}function he(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,K,nt,$,ht){var Dt=typeof C;(Dt==="undefined"||Dt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Dt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case e:vt=!0;break;case A:return vt=C._init,ue(vt(C._payload),K,nt,$,ht)}}if(vt)return ht=ht(C),vt=$===""?"."+U(C,0):$,Lt(ht)?(nt="",vt!=null&&(nt=vt.replace(M,"$&/")+"/"),ue(ht,K,nt,"",function(tt){return tt})):ht!=null&&(w(ht)&&(ht=S(ht,nt+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+vt)),K.push(ht)),1;vt=0;var Te=$===""?".":$+":";if(Lt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],Dt=Te+U($,Zt),vt+=ue($,K,nt,Dt,ht);else if(Zt=V(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,Dt=Te+U($,Zt++),vt+=ue($,K,nt,Dt,ht);else if(Dt==="object"){if(typeof C.then=="function")return ue(he(C),K,nt,$,ht);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function q(C,K,nt){if(C==null)return C;var $=[],ht=0;return ue(C,$,"","",function(Dt){return K.call(nt,Dt,ht++)}),$}function et(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ht(){}return Ct.Children={map:q,forEach:function(C,K,nt){q(C,function(){K.apply(this,arguments)},nt)},count:function(C){var K=0;return q(C,function(){K++}),K},toArray:function(C){return q(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ct.Component=J,Ct.Fragment=i,Ct.Profiler=u,Ct.PureComponent=mt,Ct.StrictMode=s,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(C){return St.H.useMemoCache(C)}},Ct.cache=function(C){return function(){return C.apply(null,arguments)}},Ct.cloneElement=function(C,K,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ht=C.key,Dt=void 0;if(K!=null)for(vt in K.ref!==void 0&&(Dt=void 0),K.key!==void 0&&(ht=""+K.key),K)!qt.call(K,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&K.ref===void 0||($[vt]=K[vt]);var vt=arguments.length-2;if(vt===1)$.children=nt;else if(1<vt){for(var Te=Array(vt),Zt=0;Zt<vt;Zt++)Te[Zt]=arguments[Zt+2];$.children=Te}return O(C.type,ht,void 0,void 0,Dt,$)},Ct.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Ct.createElement=function(C,K,nt){var $,ht={},Dt=null;if(K!=null)for($ in K.key!==void 0&&(Dt=""+K.key),K)qt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ht[$]=K[$]);var vt=arguments.length-2;if(vt===1)ht.children=nt;else if(1<vt){for(var Te=Array(vt),Zt=0;Zt<vt;Zt++)Te[Zt]=arguments[Zt+2];ht.children=Te}if(C&&C.defaultProps)for($ in vt=C.defaultProps,vt)ht[$]===void 0&&(ht[$]=vt[$]);return O(C,Dt,void 0,void 0,null,ht)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(C){return{$$typeof:p,render:C}},Ct.isValidElement=w,Ct.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Ct.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Ct.startTransition=function(C){var K=St.T,nt={};St.T=nt;try{var $=C(),ht=St.S;ht!==null&&ht(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ht,ot)}catch(Dt){ot(Dt)}finally{St.T=K}},Ct.unstable_useCacheRefresh=function(){return St.H.useCacheRefresh()},Ct.use=function(C){return St.H.use(C)},Ct.useActionState=function(C,K,nt){return St.H.useActionState(C,K,nt)},Ct.useCallback=function(C,K){return St.H.useCallback(C,K)},Ct.useContext=function(C){return St.H.useContext(C)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(C,K){return St.H.useDeferredValue(C,K)},Ct.useEffect=function(C,K,nt){var $=St.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,K)},Ct.useId=function(){return St.H.useId()},Ct.useImperativeHandle=function(C,K,nt){return St.H.useImperativeHandle(C,K,nt)},Ct.useInsertionEffect=function(C,K){return St.H.useInsertionEffect(C,K)},Ct.useLayoutEffect=function(C,K){return St.H.useLayoutEffect(C,K)},Ct.useMemo=function(C,K){return St.H.useMemo(C,K)},Ct.useOptimistic=function(C,K){return St.H.useOptimistic(C,K)},Ct.useReducer=function(C,K,nt){return St.H.useReducer(C,K,nt)},Ct.useRef=function(C){return St.H.useRef(C)},Ct.useState=function(C){return St.H.useState(C)},Ct.useSyncExternalStore=function(C,K,nt){return St.H.useSyncExternalStore(C,K,nt)},Ct.useTransition=function(){return St.H.useTransition()},Ct.version="19.1.0",Ct}var ny;function sd(){return ny||(ny=1,Af.exports=LE()),Af.exports}var ve=sd(),Sf={exports:{}},Pl={},bf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function zE(){return iy||(iy=1,function(r){function e(q,et){var ot=q.length;q.push(et);t:for(;0<ot;){var Ht=ot-1>>>1,C=q[Ht];if(0<u(C,et))q[Ht]=et,q[ot]=C,ot=Ht;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],ot=q.pop();if(ot!==et){q[0]=ot;t:for(var Ht=0,C=q.length,K=C>>>1;Ht<K;){var nt=2*(Ht+1)-1,$=q[nt],ht=nt+1,Dt=q[ht];if(0>u($,ot))ht<C&&0>u(Dt,$)?(q[Ht]=Dt,q[ht]=ot,Ht=ht):(q[Ht]=$,q[nt]=ot,Ht=nt);else if(ht<C&&0>u(Dt,ot))q[Ht]=Dt,q[ht]=ot,Ht=ht;else break t}}return et}function u(q,et){var ot=q.sortIndex-et.sortIndex;return ot!==0?ot:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,I=null,V=3,H=!1,Z=!1,at=!1,J=!1,Vt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Lt(q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=q)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function St(q){if(at=!1,Lt(q),!Z)if(i(v)!==null)Z=!0,qt||(qt=!0,U());else{var et=i(_);et!==null&&ue(St,et.startTime-q)}}var qt=!1,O=-1,S=5,w=-1;function N(){return J?!0:!(r.unstable_now()-w<S)}function M(){if(J=!1,qt){var q=r.unstable_now();w=q;var et=!0;try{t:{Z=!1,at&&(at=!1,mt(O),O=-1),H=!0;var ot=V;try{e:{for(Lt(q),I=i(v);I!==null&&!(I.expirationTime>q&&N());){var Ht=I.callback;if(typeof Ht=="function"){I.callback=null,V=I.priorityLevel;var C=Ht(I.expirationTime<=q);if(q=r.unstable_now(),typeof C=="function"){I.callback=C,Lt(q),et=!0;break e}I===i(v)&&s(v),Lt(q)}else s(v);I=i(v)}if(I!==null)et=!0;else{var K=i(_);K!==null&&ue(St,K.startTime-q),et=!1}}break t}finally{I=null,V=ot,H=!1}et=void 0}}finally{et?U():qt=!1}}}var U;if(typeof dt=="function")U=function(){dt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,he=R.port2;R.port1.onmessage=M,U=function(){he.postMessage(null)}}else U=function(){Vt(M,0)};function ue(q,et){O=Vt(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(q){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ot=V;V=et;try{return q()}finally{V=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=V;V=q;try{return et()}finally{V=ot}},r.unstable_scheduleCallback=function(q,et,ot){var Ht=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ht+ot:Ht):ot=Ht,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,q={id:A++,callback:et,priorityLevel:q,startTime:ot,expirationTime:C,sortIndex:-1},ot>Ht?(q.sortIndex=ot,e(_,q),i(v)===null&&q===i(_)&&(at?(mt(O),O=-1):at=!0,ue(St,ot-Ht))):(q.sortIndex=C,e(v,q),Z||H||(Z=!0,qt||(qt=!0,U()))),q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(q){var et=V;return function(){var ot=V;V=et;try{return q.apply(this,arguments)}finally{V=ot}}}}(Rf)),Rf}var ay;function PE(){return ay||(ay=1,bf.exports=zE()),bf.exports}var wf={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function BE(){if(sy)return We;sy=1;var r=sd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},We.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},We.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},We.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},We.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,I=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:V,fetchPriority:H}):A==="script"&&s.d.X(v,{crossOrigin:I,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},We.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=p(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},We.requestFormReset=function(v){s.d.r(v)},We.unstable_batchedUpdates=function(v,_){return v(_)},We.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.1.0",We}var ry;function kE(){if(ry)return wf.exports;ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wf.exports=BE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function jE(){if(ly)return Pl;ly=1;var r=PE(),e=sd(),i=kE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Vt=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case at:return"StrictMode";case St:return"Suspense";case qt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var ue=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ht=[],C=-1;function K(t){return{current:t}}function nt(t){0>C||(t.current=Ht[C],Ht[C]=null,C--)}function $(t,n){C++,Ht[C]=t.current,t.current=n}var ht=K(null),Dt=K(null),vt=K(null),Te=K(null);function Zt(t,n){switch($(vt,n),$(Dt,t),$(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=Dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ht),$(ht,t)}function tt(){nt(ht),nt(Dt),nt(vt)}function pt(t){t.memoizedState!==null&&$(Te,t);var n=ht.current,a=Dp(n,t.type);n!==a&&($(Dt,t),$(ht,a))}function ft(t){Dt.current===t&&(nt(ht),nt(Dt)),Te.current===t&&(nt(Te),Ol._currentValue=ot)}var rt=Object.prototype.hasOwnProperty,yt=r.unstable_scheduleCallback,$t=r.unstable_cancelCallback,an=r.unstable_shouldYield,Yn=r.unstable_requestPaint,Ce=r.unstable_now,fe=r.unstable_getCurrentPriorityLevel,He=r.unstable_ImmediatePriority,on=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,Es=r.unstable_LowPriority,pi=r.unstable_IdlePriority,Ts=r.log,xa=r.unstable_setDisableYieldValue,ae=null,wt=null;function ge(t){if(typeof Ts=="function"&&xa(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ae,t)}catch{}}var Le=Math.clz32?Math.clz32:Ua,As=Math.log,Ac=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(As(t)/Ac|0)|0}var La=256,za=4194304;function kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ss(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=kn(l):(y&=E,y!==0?c=kn(y):a||(a=E&~t,a!==0&&(c=kn(a))))):(E=l&~f,E!==0?c=kn(E):y!==0?c=kn(y):a||(a=l&~t,a!==0&&(c=kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Pa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Or(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var t=La;return La<<=1,(La&4194048)===0&&(La=256),t}function xr(){var t=za;return za<<=1,(za&62914560)===0&&(za=4194304),t}function yi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function _i(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ur(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-Le(a),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Fn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Fn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Le(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Le(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Fp(t.type))}function lu(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,Ae="__reactProps$"+se,Cn="__reactContainer$"+se,zr="__reactEvents$"+se,Sc="__reactListeners$"+se,Xi="__reactHandles$"+se,uu="__reactResources$"+se,Ba="__reactMarker$"+se;function Zi(t){delete t[De],delete t[Ae],delete t[zr],delete t[Sc],delete t[Xi]}function vi(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Cn]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Op(t);t!==null;){if(a=t[De])return a;t=Op(t)}return n}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[De]||t[Cn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Xn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function sn(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[Ba]=!0}var Pr=new Set,Rs={};function jn(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Rs[t]=n,t=0;t<n.length;t++)Pr.add(n[t])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},ka={};function hu(t){return rt.call(ka,t)?!0:rt.call(cu,t)?!1:ou.test(t)?ka[t]=!0:(cu[t]=!0,!1)}function $i(t,n,a){if(hu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ge(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ja,fu;function Ti(t){if(ja===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ja=n&&n[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+t+fu}var ws=!1;function Cs(t,n){if(!t||ws)return"";ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ws=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function Br(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return Ti("Activity");default:return""}}function Ds(t){try{var n="";do n+=Br(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=kr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=bc(t))}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=kr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rc=/[\n"\\]/g;function Se(t){return t.replace(Rc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ji(t,y,rn(n)):a!=null?Ji(t,y,rn(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+rn(E):t.removeAttribute("name")}function Ha(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ji(t,n,a){n==="number"&&qa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jt(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function Ga(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Qa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&du(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&du(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,Ri=null;function Gr(t){var n=Kn(t);if(n&&(t=n.stateNode)){var a=t[Ae]||null;t:switch(t=n.stateNode,n.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ae]||null;if(!c)throw Error(s(90));yn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&jr(l)}break t;case"textarea":Jt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ai(t,!!a.multiple,n,!1)}}}var $n=!1;function mu(t,n,a){if($n)return t(n,a);$n=!0;try{var l=t(n);return l}finally{if($n=!1,(bi!==null||Ri!==null)&&(lo(),bi&&(n=bi,t=Ri,Ri=bi=null,Gr(n),t)))for(n=0;n<t.length;n++)Gr(t[n])}}function Ya(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){In=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{In=!1}var Jn=null,Wi=null,wi=null;function Qr(){if(wi)return wi;var t,n=Wi,a=n.length,l,c="value"in Jn?Jn.value:Jn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return wi=c.slice(t,1<l?1-l:void 0)}function Wn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function Yr(){return!1}function ze(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:Yr,this.isPropagationStopped=Yr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=ze(Yt),Ka=A({},Yt,{view:0,detail:0}),gu=ze(Ka),Os,Ms,ei,Xa=A({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(Os=t.screenX-ei.screenX,Ms=t.screenY-ei.screenY):Ms=Os=0,ei=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Nn=ze(Xa),pu=A({},Xa,{dataTransfer:0}),Dc=ze(pu),Za=A({},Ka,{relatedTarget:0}),xs=ze(Za),Fr=A({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=ze(Fr),yu=A({},Yt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=ze(yu),Vc=A({},Yt,{data:0}),Kr=ze(Vc),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function Ja(){return Xr}var Eu=A({},Ka,{key:function(t){if(t.key){var n=$a[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zs=ze(Eu),Tu=A({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=ze(Tu),Ci=A({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Au=ze(Ci),Su=A({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=ze(Su),Ru=A({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ps=ze(Ru),ln=A({},Yt,{newState:0,oldState:0}),wu=ze(ln),Cu=[9,13,27,32],ni=qn&&"CompositionEvent"in window,o=null;qn&&"documentMode"in document&&(o=document.documentMode);var m=qn&&"TextEvent"in window&&!o,g=qn&&(!ni||o&&8<o&&11>=o),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zt=!1;function Ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Pt(t,n){if(zt)return t==="compositionend"||!ni&&j(t,n)?(t=Qr(),wi=Wi=Jn=null,zt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Pe[t.type]:n==="textarea"}function Di(t,n,a,l){bi?Ri?Ri.push(l):Ri=[l]:bi=l,n=mo(n,"onChange"),0<n.length&&(a=new Ns("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Qe=null,ii=null;function $r(t){Ap(t,0)}function Du(t){var n=Xn(t);if(jr(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(qn){var Ic;if(qn){var Nc="oninput"in document;if(!Nc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Nc=typeof Qd.oninput=="function"}Ic=Nc}else Ic=!1;Gd=Ic&&(!document.documentMode||9<document.documentMode)}function Yd(){Qe&&(Qe.detachEvent("onpropertychange",Fd),ii=Qe=null)}function Fd(t){if(t.propertyName==="value"&&Du(ii)){var n=[];Di(n,ii,t,Vn(t)),mu($r,n)}}function c0(t,n,a){t==="focusin"?(Yd(),Qe=n,ii=a,Qe.attachEvent("onpropertychange",Fd)):t==="focusout"&&Yd()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(ii)}function f0(t,n){if(t==="click")return Du(n)}function d0(t,n){if(t==="input"||t==="change")return Du(n)}function m0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:m0;function Jr(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!rt.call(n,c)||!_n(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var a=Kd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Kd(a)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=qa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=qa(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var g0=qn&&"documentMode"in document&&11>=document.documentMode,Bs=null,Mc=null,Wr=null,xc=!1;function Jd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xc||Bs==null||Bs!==qa(l)||(l=Bs,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wr&&Jr(Wr,l)||(Wr=l,l=mo(Mc,"onSelect"),0<l.length&&(n=new Ns("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Bs)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ks={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Uc={},Wd={};qn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ts(t){if(Uc[t])return Uc[t];if(!ks[t])return t;var n=ks[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wd)return Uc[t]=n[a];return t}var tm=ts("animationend"),em=ts("animationiteration"),nm=ts("animationstart"),p0=ts("transitionrun"),y0=ts("transitionstart"),_0=ts("transitioncancel"),im=ts("transitionend"),am=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Hn(t,n){am.set(t,n),jn(n,[t])}var sm=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var a=sm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ds(n)},sm.set(t,n),n)}return{value:t,source:n,stack:Ds(n)}}var Mn=[],js=0,zc=0;function Vu(){for(var t=js,n=zc=js=0;n<t;){var a=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var c=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&rm(a,c,f)}}function Iu(t,n,a,l){Mn[js++]=t,Mn[js++]=n,Mn[js++]=a,Mn[js++]=l,zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,a,l){return Iu(t,n,a,l),Nu(t)}function qs(t,n){return Iu(t,null,null,n),Nu(t)}function rm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Le(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Nu(t){if(50<bl)throw bl=0,Gh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hs={};function v0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,a,l){return new v0(t,n,a,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Bc(t)&&(y=1);else if(typeof t=="string")y=TE(t,a,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=vn(31,a,n,c),t.elementType=w,t.lanes=f,t;case Z:return es(a.children,c,f,n);case at:y=8,c|=24;break;case J:return t=vn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case St:return t=vn(13,a,n,c),t.elementType=St,t.lanes=f,t;case qt:return t=vn(19,a,n,c),t.elementType=qt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vt:case dt:y=10;break t;case mt:y=9;break t;case Lt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=vn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function es(t,n,a,l){return t=vn(7,t,l,n),t.lanes=a,t}function kc(t,n,a){return t=vn(6,t,null,n),t.lanes=a,t}function jc(t,n,a){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gs=[],Qs=0,Mu=null,xu=0,xn=[],Un=0,ns=null,Ii=1,Ni="";function is(t,n){Gs[Qs++]=xu,Gs[Qs++]=Mu,Mu=t,xu=n}function um(t,n,a){xn[Un++]=Ii,xn[Un++]=Ni,xn[Un++]=ns,ns=t;var l=Ii;t=Ni;var c=32-Le(l)-1;l&=~(1<<c),a+=1;var f=32-Le(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ii=1<<32-Le(n)+c|a<<c|l,Ni=f+t}else Ii=1<<f|a<<c|l,Ni=t}function qc(t){t.return!==null&&(is(t,1),um(t,1,0))}function Hc(t){for(;t===Mu;)Mu=Gs[--Qs],Gs[Qs]=null,xu=Gs[--Qs],Gs[Qs]=null;for(;t===ns;)ns=xn[--Un],xn[Un]=null,Ni=xn[--Un],xn[Un]=null,Ii=xn[--Un],xn[Un]=null}var un=null,de=null,Qt=!1,as=null,ai=!1,Gc=Error(s(519));function ss(t){var n=Error(s(418,""));throw nl(On(n,t)),Gc}function om(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[Ae]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)xt(wl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Ha(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Ga(n,l.value,l.defaultValue,l.children),Vs(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||wp(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=go),n=!0):n=!1,n||ss(t)}function cm(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:un=un.return}}function tl(t){if(t!==un)return!1;if(!Qt)return cm(t),Qt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&de&&ss(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){de=Qn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}de=null}}else n===27?(n=de,ga(t.type)?(t=hf,hf=null,de=t):de=n):de=un?Qn(t.stateNode.nextSibling):null;return!0}function el(){de=un=null,Qt=!1}function hm(){var t=as;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),as=null),t}function nl(t){as===null?as=[t]:as.push(t)}var Qc=K(null),rs=null,Oi=null;function ta(t,n,a){$(Qc,n._currentValue),n._currentValue=a}function Mi(t){t._currentValue=Qc.current,nt(Qc)}function Yc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Fc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Yc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Yc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;_n(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Te.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Fc(n,t,a,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){rs=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return fm(rs,t)}function Lu(t,n){return rs===null&&ls(t),fm(t,n)}function fm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(s(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return a}var E0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},T0=r.unstable_scheduleCallback,A0=r.unstable_NormalPriority,Ne={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new E0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var sl=null,Xc=0,Ys=0,Fs=null;function S0(t,n){if(sl===null){var a=sl=[];Xc=0,Ys=$h(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xc++,n.then(dm,dm),n}function dm(){if(--Xc===0&&sl!==null){Fs!==null&&(Fs.status="fulfilled");var t=sl;sl=null,Ys=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var mm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(t,n),mm!==null&&mm(t,n)};var us=K(null);function Zc(){var t=us.current;return t!==null?t:ie.pooledCache}function zu(t,n){n===null?$(us,us.current):$(us,n.pool)}function gm(){var t=Zc();return t===null?null:{parent:Ne._currentValue,pool:t}}var rl=Error(s(460)),pm=Error(s(474)),Pu=Error(s(542)),$c={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function _m(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bu,Bu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(Bu,Bu);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw ll=n,rl}}var ll=null;function vm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Em(t){if(t===rl||t===Pu)throw Error(s(483))}var ea=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ia(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nu(t),rm(t,null,a),n}return Iu(t,l,n,a),Nu(t)}function ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function ol(){if(eh){var t=Fs;if(t!==null)throw t}}function cl(t,n,a,l){eh=!1;var c=t.updateQueue;ea=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Bt&B)===B:(l&B)===B){B!==0&&B===Ys&&(eh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=t,_t=E;B=n;var ee=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){Y=At.call(ee,Y,B);break t}Y=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,B=typeof At=="function"?At.call(ee,Y,B):At,B==null)break t;Y=A({},Y,B);break t;case 2:ea=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=Y):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ha|=y,t.lanes=y,t.memoizedState=Y}}function Tm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Am(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tm(a[t],n)}var Ks=K(null),ku=K(0);function Sm(t,n){t=ki,$(ku,t),$(Ks,n),ki=t|n.baseLanes}function nh(){$(ku,ki),$(Ks,Ks.current)}function ih(){ki=ku.current,nt(Ks),nt(ku)}var aa=0,It=null,Wt=null,be=null,ju=!1,Xs=!1,os=!1,qu=0,hl=0,Zs=null,R0=0;function ye(){throw Error(s(321))}function ah(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!_n(t[a],n[a]))return!1;return!0}function sh(t,n,a,l,c,f){return aa=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?rg:lg,os=!1,f=a(l,c),os=!1,Xs&&(f=Rm(n,a,l,c)),bm(t),f}function bm(t){q.H=Ku;var n=Wt!==null&&Wt.next!==null;if(aa=0,be=Wt=It=null,ju=!1,hl=0,Zs=null,n)throw Error(s(300));t===null||Be||(t=t.dependencies,t!==null&&Uu(t)&&(Be=!0))}function Rm(t,n,a,l){It=t;var c=0;do{if(Xs&&(Zs=null),hl=0,Xs=!1,25<=c)throw Error(s(301));if(c+=1,be=Wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=O0,f=n(a,l)}while(Xs);return f}function w0(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(It.flags|=1024),n}function rh(){var t=qu!==0;return qu=0,t}function lh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function uh(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}aa=0,be=Wt=It=null,Xs=!1,hl=qu=0,Zs=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?It.memoizedState=be=t:be=be.next=t,be}function Re(){if(Wt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=be===null?It.memoizedState:be.next;if(n!==null)be=n,Wt=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},be===null?It.memoizedState=be=t:be=be.next=t}return be}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Zs===null&&(Zs=[]),t=_m(Zs,t,n),n=It,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?rg:lg),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===dt)return Je(t)}throw Error(s(438,String(t)))}function ch(t){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=oh(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=Re();return hh(n,Wt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Bt&Y)===Y:(aa&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ys&&(G=!0);else if((aa&B)===B){P=P.next,B===Ys&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,It.lanes|=B,ha|=B;Y=P.action,os&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,It.lanes|=Y,ha|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!_n(f,t.memoizedState)&&(Be=!0,G&&(a=Fs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=Re(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);_n(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wm(t,n,a){var l=It,c=Re(),f=Qt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!_n((Wt||c).memoizedState,a);y&&(c.memoizedState=a,Be=!0),c=c.queue;var E=Vm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,$s(9,Qu(),Dm.bind(null,l,c,a,n),null),ie===null)throw Error(s(349));f||(aa&124)!==0||Cm(l,n,a)}return a}function Cm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=oh(),It.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dm(t,n,a,l){n.value=a,n.getSnapshot=l,Im(n)&&Nm(t)}function Vm(t,n,a){return a(function(){Im(n)&&Nm(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!_n(t,a)}catch{return!0}}function Nm(t){var n=qs(t,2);n!==null&&bn(n,t,2)}function dh(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),os){ge(!0);try{a()}finally{ge(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Om(t,n,a,l){return t.baseState=a,hh(t,Wt,typeof l=="function"?l:xi)}function C0(t,n,a,l,c){if(Fu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Mm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=a(c,l),b=q.S;b!==null&&b(y,E),xm(t,n,E)}catch(P){mh(t,n,P)}finally{q.T=f}}else try{f=a(c,l),xm(t,n,f)}catch(P){mh(t,n,P)}}function xm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Um(t,n,l)},function(l){return mh(t,n,l)}):Um(t,n,a)}function Um(t,n,a){n.status="fulfilled",n.value=a,Lm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mm(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lm(n),n=n.next;while(n!==l)}t.action=null}function Lm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zm(t,n){return n}function Pm(t,n){if(Qt){var a=ie.formState;if(a!==null){t:{var l=It;if(Qt){if(de){e:{for(var c=de,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=Qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){de=Qn(c.nextSibling),l=c.data==="F!";break t}}ss(l)}l=!1}l&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},a.queue=l,a=ig.bind(null,It,l),l.dispatch=a,l=dh(!1),f=vh.bind(null,It,!1,l.queue),l=cn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=C0.bind(null,It,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bm(t){var n=Re();return km(n,Wt,t)}function km(t,n,a){if(n=hh(t,n,zm)[0],t=Gu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===rl?Pu:y}else l=n;n=Re();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(It.flags|=2048,$s(9,Qu(),D0.bind(null,c,a),null)),[l,f,t]}function D0(t,n){t.action=n}function jm(t){var n=Re(),a=Wt;if(a!==null)return km(n,a,t);Re(),n=n.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $s(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=oh(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Qu(){return{destroy:void 0,resource:void 0}}function qm(){return Re().memoizedState}function Yu(t,n,a,l){var c=cn();l=l===void 0?null:l,It.flags|=t,c.memoizedState=$s(1|n,Qu(),a,l)}function dl(t,n,a,l){var c=Re();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&ah(l,Wt.memoizedState.deps)?c.memoizedState=$s(n,f,a,l):(It.flags|=t,c.memoizedState=$s(1|n,f,a,l))}function Hm(t,n){Yu(8390656,8,t,n)}function Gm(t,n){dl(2048,8,t,n)}function Qm(t,n){return dl(4,2,t,n)}function Ym(t,n){return dl(4,4,t,n)}function Fm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,Fm.bind(null,n,t),a)}function gh(){}function Xm(t,n){var a=Re();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ah(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zm(t,n){var a=Re();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ah(n,l[1]))return l[0];if(l=t(),os){ge(!0);try{t()}finally{ge(!1)}}return a.memoizedState=[l,n],l}function ph(t,n,a){return a===void 0||(aa&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Wg(),It.lanes|=t,ha|=t,a)}function $m(t,n,a,l){return _n(a,n)?a:Ks.current!==null?(t=ph(t,a,l),_n(t,n)||(Be=!0),t):(aa&42)===0?(Be=!0,t.memoizedState=a):(t=Wg(),It.lanes|=t,ha|=t,n)}function Jm(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,vh(t,!1,n,a);try{var b=c(),P=q.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=b0(b,l);ml(t,n,G,Sn(t))}else ml(t,n,l,Sn(t))}catch(Y){ml(t,n,{then:function(){},status:"rejected",reason:Y},Sn())}finally{et.p=f,q.T=y}}function V0(){}function yh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Wm(t).queue;Jm(t,c,n,ot,a===null?V0:function(){return tg(t),a(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;ml(t,n,{},Sn())}function _h(){return Je(Ol)}function eg(){return Re().memoizedState}function ng(){return Re().memoizedState}function I0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();t=na(a);var l=ia(n,t,a);l!==null&&(bn(l,n,a),ul(l,n,a)),n={cache:Kc()},t.payload=n;return}n=n.return}}function N0(t,n,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)?ag(n,a):(a=Pc(t,n,a,l),a!==null&&(bn(a,t,l),sg(a,n,l)))}function ig(t,n,a){var l=Sn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,_n(E,y))return Iu(t,n,c,0),ie===null&&Vu(),!1}catch{}finally{}if(a=Pc(t,n,c,l),a!==null)return bn(a,t,l),sg(a,n,l),!0}return!1}function vh(t,n,a,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(s(479))}else n=Pc(t,a,l,2),n!==null&&bn(n,t,2)}function Fu(t){var n=t.alternate;return t===It||n!==null&&n===It}function ag(t,n){Xs=ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function sg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}var Ku={readContext:Je,use:Hu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},rg={readContext:Je,use:Hu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Je,useEffect:Hm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Fm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var l=t();if(os){ge(!0);try{t()}finally{ge(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=cn();if(a!==void 0){var c=a(n);if(os){ge(!0);try{a(n)}finally{ge(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=N0.bind(null,It,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=ig.bind(null,It,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:gh,useDeferredValue:function(t,n){var a=cn();return ph(a,t,n)},useTransition:function(){var t=dh(!1);return t=Jm.bind(null,It,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=It,c=cn();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ie===null)throw Error(s(349));(Bt&124)!==0||Cm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Hm(Vm.bind(null,l,f,t),[t]),l.flags|=2048,$s(9,Qu(),Dm.bind(null,l,f,a,n),null),a},useId:function(){var t=cn(),n=ie.identifierPrefix;if(Qt){var a=Ni,l=Ii;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=R0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=vh.bind(null,It,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return cn().memoizedState=I0.bind(null,It)}},lg={readContext:Je,use:Hu,useCallback:Xm,useContext:Je,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:Gu,useRef:qm,useState:function(){return Gu(xi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=Re();return $m(a,Wt.memoizedState,t,n)},useTransition:function(){var t=Gu(xi)[0],n=Re().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:_h,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var a=Re();return Om(a,Wt,t,n)},useMemoCache:ch,useCacheRefresh:ng},O0={readContext:Je,use:Hu,useCallback:Xm,useContext:Je,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:fh,useRef:qm,useState:function(){return fh(xi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=Re();return Wt===null?ph(a,t,n):$m(a,Wt.memoizedState,t,n)},useTransition:function(){var t=fh(xi)[0],n=Re().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:_h,useFormState:jm,useActionState:jm,useOptimistic:function(t,n){var a=Re();return Wt!==null?Om(a,Wt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:ng},Js=null,gl=0;function Xu(t){var n=gl;return gl+=1,Js===null&&(Js=[]),_m(Js,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function og(t){function n(x,D){if(t){var z=x.deletions;z===null?(x.deletions=[D],x.flags|=16):z.push(D)}}function a(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Vi(x,D),x.index=0,x.sibling=null,x}function f(x,D,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<D?(x.flags|=67108866,D):z):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,z,Q){return D===null||D.tag!==6?(D=kc(z,x.mode,Q),D.return=x,D):(D=c(D,z),D.return=x,D)}function b(x,D,z,Q){var lt=z.type;return lt===Z?G(x,D,z.props.children,Q,z.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ug(lt)===D.type)?(D=c(D,z.props),pl(D,z),D.return=x,D):(D=Ou(z.type,z.key,z.props,null,x.mode,Q),pl(D,z),D.return=x,D)}function P(x,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=jc(z,x.mode,Q),D.return=x,D):(D=c(D,z.children||[]),D.return=x,D)}function G(x,D,z,Q,lt){return D===null||D.tag!==7?(D=es(z,x.mode,Q,lt),D.return=x,D):(D=c(D,z),D.return=x,D)}function Y(x,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=kc(""+D,x.mode,z),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case V:return z=Ou(D.type,D.key,D.props,null,x.mode,z),pl(z,D),z.return=x,z;case H:return D=jc(D,x.mode,z),D.return=x,D;case S:var Q=D._init;return D=Q(D._payload),Y(x,D,z)}if(ue(D)||U(D))return D=es(D,x.mode,z,null),D.return=x,D;if(typeof D.then=="function")return Y(x,Xu(D),z);if(D.$$typeof===dt)return Y(x,Lu(x,D),z);Zu(x,D)}return null}function B(x,D,z,Q){var lt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(x,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===lt?b(x,D,z,Q):null;case H:return z.key===lt?P(x,D,z,Q):null;case S:return lt=z._init,z=lt(z._payload),B(x,D,z,Q)}if(ue(z)||U(z))return lt!==null?null:G(x,D,z,Q,null);if(typeof z.then=="function")return B(x,D,Xu(z),Q);if(z.$$typeof===dt)return B(x,D,Lu(x,z),Q);Zu(x,z)}return null}function k(x,D,z,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(z)||null,E(D,x,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return x=x.get(Q.key===null?z:Q.key)||null,b(D,x,Q,lt);case H:return x=x.get(Q.key===null?z:Q.key)||null,P(D,x,Q,lt);case S:var Ot=Q._init;return Q=Ot(Q._payload),k(x,D,z,Q,lt)}if(ue(Q)||U(Q))return x=x.get(z)||null,G(D,x,Q,lt,null);if(typeof Q.then=="function")return k(x,D,z,Xu(Q),lt);if(Q.$$typeof===dt)return k(x,D,z,Lu(D,Q),lt);Zu(D,Q)}return null}function At(x,D,z,Q){for(var lt=null,Ot=null,ct=D,Et=D=0,je=null;ct!==null&&Et<z.length;Et++){ct.index>Et?(je=ct,ct=null):je=ct.sibling;var Gt=B(x,ct,z[Et],Q);if(Gt===null){ct===null&&(ct=je);break}t&&ct&&Gt.alternate===null&&n(x,ct),D=f(Gt,D,Et),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt,ct=je}if(Et===z.length)return a(x,ct),Qt&&is(x,Et),lt;if(ct===null){for(;Et<z.length;Et++)ct=Y(x,z[Et],Q),ct!==null&&(D=f(ct,D,Et),Ot===null?lt=ct:Ot.sibling=ct,Ot=ct);return Qt&&is(x,Et),lt}for(ct=l(ct);Et<z.length;Et++)je=k(ct,x,Et,z[Et],Q),je!==null&&(t&&je.alternate!==null&&ct.delete(je.key===null?Et:je.key),D=f(je,D,Et),Ot===null?lt=je:Ot.sibling=je,Ot=je);return t&&ct.forEach(function(Ea){return n(x,Ea)}),Qt&&is(x,Et),lt}function _t(x,D,z,Q){if(z==null)throw Error(s(151));for(var lt=null,Ot=null,ct=D,Et=D=0,je=null,Gt=z.next();ct!==null&&!Gt.done;Et++,Gt=z.next()){ct.index>Et?(je=ct,ct=null):je=ct.sibling;var Ea=B(x,ct,Gt.value,Q);if(Ea===null){ct===null&&(ct=je);break}t&&ct&&Ea.alternate===null&&n(x,ct),D=f(Ea,D,Et),Ot===null?lt=Ea:Ot.sibling=Ea,Ot=Ea,ct=je}if(Gt.done)return a(x,ct),Qt&&is(x,Et),lt;if(ct===null){for(;!Gt.done;Et++,Gt=z.next())Gt=Y(x,Gt.value,Q),Gt!==null&&(D=f(Gt,D,Et),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt);return Qt&&is(x,Et),lt}for(ct=l(ct);!Gt.done;Et++,Gt=z.next())Gt=k(ct,x,Et,Gt.value,Q),Gt!==null&&(t&&Gt.alternate!==null&&ct.delete(Gt.key===null?Et:Gt.key),D=f(Gt,D,Et),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt);return t&&ct.forEach(function(ME){return n(x,ME)}),Qt&&is(x,Et),lt}function ee(x,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var lt=z.key;D!==null;){if(D.key===lt){if(lt=z.type,lt===Z){if(D.tag===7){a(x,D.sibling),Q=c(D,z.props.children),Q.return=x,x=Q;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ug(lt)===D.type){a(x,D.sibling),Q=c(D,z.props),pl(Q,z),Q.return=x,x=Q;break t}a(x,D);break}else n(x,D);D=D.sibling}z.type===Z?(Q=es(z.props.children,x.mode,Q,z.key),Q.return=x,x=Q):(Q=Ou(z.type,z.key,z.props,null,x.mode,Q),pl(Q,z),Q.return=x,x=Q)}return y(x);case H:t:{for(lt=z.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(x,D.sibling),Q=c(D,z.children||[]),Q.return=x,x=Q;break t}else{a(x,D);break}else n(x,D);D=D.sibling}Q=jc(z,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return lt=z._init,z=lt(z._payload),ee(x,D,z,Q)}if(ue(z))return At(x,D,z,Q);if(U(z)){if(lt=U(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),_t(x,D,z,Q)}if(typeof z.then=="function")return ee(x,D,Xu(z),Q);if(z.$$typeof===dt)return ee(x,D,Lu(x,z),Q);Zu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(x,D.sibling),Q=c(D,z),Q.return=x,x=Q):(a(x,D),Q=kc(z,x.mode,Q),Q.return=x,x=Q),y(x)):a(x,D)}return function(x,D,z,Q){try{gl=0;var lt=ee(x,D,z,Q);return Js=null,lt}catch(ct){if(ct===rl||ct===Pu)throw ct;var Ot=vn(29,ct,null,x.mode);return Ot.lanes=Q,Ot.return=x,Ot}finally{}}}var Ws=og(!0),cg=og(!1),Ln=K(null),si=null;function sa(t){var n=t.alternate;$(Oe,Oe.current&1),$(Ln,t),si===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(si=t)}function hg(t){if(t.tag===22){if($(Oe,Oe.current),$(Ln,t),si===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(si=t)}}else ra()}function ra(){$(Oe,Oe.current),$(Ln,Ln.current)}function Ui(t){nt(Ln),si===t&&(si=null),nt(Oe)}var Oe=K(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Th={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Sn(),c=na(l);c.payload=n,a!=null&&(c.callback=a),n=ia(t,c,l),n!==null&&(bn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Sn(),c=na(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ia(t,c,l),n!==null&&(bn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Sn(),l=na(a);l.tag=2,n!=null&&(l.callback=n),n=ia(t,l,a),n!==null&&(bn(n,t,a),ul(n,t,a))}};function fg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Jr(a,l)||!Jr(c,f):!0}function dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function cs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){Ju(t)}function gg(t){console.error(t)}function pg(t){Ju(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,a){return a=na(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function _g(t){return t=na(t),t.tag=3,t}function vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return si===null?Yh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(s(435,a.tag))}return Kh(t,l,c),Yh(),!1}if(Qt)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Gc&&(t=Error(s(422),{cause:l}),nl(On(t,a)))):(l!==Gc&&(n=Error(s(423),{cause:l}),nl(On(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=On(l,a),c=Ah(t.stateNode,l,c),th(t,c),me!==4&&(me=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),Sl===null?Sl=[f]:Sl.push(f),me!==4&&(me=2),n===null)return!0;l=On(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ah(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fa===null||!fa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=_g(c),vg(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var Eg=Error(s(461)),Be=!1;function Ye(t,n,a,l){n.child=t===null?cg(n,null,a,l):Ws(n,t.child,a,l)}function Tg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ls(n),l=sh(t,n,a,y,f,c),E=rh(),t!==null&&!Be?(lh(t,n,c),Li(t,n,c)):(Qt&&E&&qc(n),n.flags|=1,Ye(t,n,l,c),n.child)}function Ag(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Bc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=Ou(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ih(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Jr,a(y,l)&&t.ref===n.ref)return Li(t,n,c)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Jr(f,l)&&t.ref===n.ref)if(Be=!1,n.pendingProps=l=f,Ih(t,c))(t.flags&131072)!==0&&(Be=!0);else return n.lanes=t.lanes,Li(t,n,c)}return Sh(t,n,a,l,c)}function bg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):nh(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(zu(n,f.cachePool),Sm(n,f),ra(),n.memoizedState=null):(t!==null&&zu(n,null),nh(),ra());return Ye(t,n,c,a),n.child}function Rg(t,n,a,l){var c=Zc();return c=c===null?null:{parent:Ne._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&zu(n,null),nh(),hg(n),t!==null&&il(t,n,l,!0),null}function to(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Sh(t,n,a,l,c){return ls(n),a=sh(t,n,a,l,void 0,c),l=rh(),t!==null&&!Be?(lh(t,n,c),Li(t,n,c)):(Qt&&l&&qc(n),n.flags|=1,Ye(t,n,a,c),n.child)}function wg(t,n,a,l,c,f){return ls(n),n.updateQueue=null,a=Rm(n,l,a,c),bm(t),l=rh(),t!==null&&!Be?(lh(t,n,f),Li(t,n,f)):(Qt&&l&&qc(n),n.flags|=1,Ye(t,n,a,f),n.child)}function Cg(t,n,a,l,c){if(ls(n),n.stateNode===null){var f=Hs,y=a.contextType;typeof y=="object"&&y!==null&&(f=Je(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Je(y):Hs,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Eh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Th.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=cs(a,E);f.props=b;var P=f.context,G=a.contextType;y=Hs,typeof G=="object"&&G!==null&&(y=Je(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&dg(n,f,l,y),ea=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ol(),P=n.memoizedState,E||B!==P||ea?(typeof Y=="function"&&(Eh(n,a,Y,l),P=n.memoizedState),(b=ea||fg(n,a,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),y=n.memoizedProps,G=cs(a,y),f.props=G,Y=n.pendingProps,B=f.context,P=a.contextType,b=Hs,typeof P=="object"&&P!==null&&(b=Je(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&dg(n,f,l,b),ea=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ol();var k=n.memoizedState;y!==Y||B!==k||ea||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof E=="function"&&(Eh(n,a,E,l),k=n.memoizedState),(G=ea||fg(n,a,G,l,B,k,b)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,to(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ws(n,t.child,null,c),n.child=Ws(n,null,a,c)):Ye(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Li(t,n,c),t}function Dg(t,n,a,l){return el(),n.flags|=256,Ye(t,n,a,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:gm()}}function wh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=zn),t}function Vg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Oe.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(c?sa(n):ra(),Qt){var E=de,b;if(b=E){t:{for(b=E,E=ai;b.nodeType!==8;){if(!E){E=null;break t}if(b=Qn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ns!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},b=vn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,un=n,de=null,b=!0):b=!1}b||ss(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cf(E)?n.lanes=32:n.lanes=536870912,null;Ui(n)}return E=l.children,l=l.fallback,c?(ra(),c=n.mode,E=eo({mode:"hidden",children:E},c),l=es(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Rh(a),c.childLanes=wh(t,y,a),n.memoizedState=bh,l):(sa(n),Ch(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(sa(n),n.flags&=-257,n=Dh(t,n,a)):n.memoizedState!==null?(ra(),n.child=t.child,n.flags|=128,n=null):(ra(),c=l.fallback,E=n.mode,l=eo({mode:"visible",children:l.children},E),c=es(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ws(n,t.child,null,a),l=n.child,l.memoizedState=Rh(a),l.childLanes=wh(t,y,a),n.memoizedState=bh,n=c);else if(sa(n),cf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Dh(t,n,a)}else if(Be||il(t,n,a,!1),y=(a&t.childLanes)!==0,Be||y){if(y=ie,y!==null&&(l=a&-a,l=(l&42)!==0?1:Fi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,qs(t,l),bn(y,t,l),Eg;E.data==="$?"||Yh(),n=Dh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,de=Qn(E.nextSibling),un=n,Qt=!0,as=null,ai=!1,t!==null&&(xn[Un++]=Ii,xn[Un++]=Ni,xn[Un++]=ns,Ii=t.id,Ni=t.overflow,ns=n),n=Ch(n,l.children),n.flags|=4096);return n}return c?(ra(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Vi(P,c):(c=es(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Rh(a):(b=E.cachePool,b!==null?(P=Ne._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=gm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=wh(t,y,a),n.memoizedState=bh,l):(sa(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ch(t,n){return n=eo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function eo(t,n){return t=vn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dh(t,n,a){return Ws(n,t.child,null,a),t=Ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,a)}function Vh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Ng(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ye(t,n,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,a,n);else if(t.tag===19)Ig(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Oe,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Vh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$u(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Vh(n,!0,a,null,f);break;case"together":Vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Li(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function x0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ta(n,Ne,t.memoizedState.cache),el();break;case 27:case 5:pt(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ta(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Vg(t,n,a):(sa(n),t=Li(t,n,a),t!==null?t.sibling:null);sa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Ng(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Oe,Oe.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,a);case 24:ta(n,Ne,t.memoizedState.cache)}return Li(t,n,a)}function Og(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Be=!0;else{if(!Ih(t,a)&&(n.flags&128)===0)return Be=!1,x0(t,n,a);Be=(t.flags&131072)!==0}else Be=!1,Qt&&(n.flags&1048576)!==0&&um(n,xu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Bc(l)?(t=cs(l,t),n.tag=1,n=Cg(null,n,l,t,a)):(n.tag=0,n=Sh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=Tg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=Ag(null,n,l,t,a);break t}}throw n=he(l)||l,Error(s(306,n,""))}}return n;case 0:return Sh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cs(l,n.pendingProps),Cg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),cl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,ta(n,Ne,l),l!==f.cache&&Fc(n,[Ne],a,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dg(t,n,l,a);break t}else if(l!==c){c=On(Error(s(424)),n),nl(c),n=Dg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(de=Qn(t.firstChild),un=n,Qt=!0,as=null,ai=!0,a=cg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=Li(t,n,a);break t}Ye(t,n,l,a)}n=n.child}return n;case 26:return to(t,n),t===null?(a=Lp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,t=n.pendingProps,l=po(vt.current).createElement(a),l[De]=n,l[Ae]=t,Ke(l,a,t),pe(l),n.stateNode=l):n.memoizedState=Lp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return pt(n),t===null&&Qt&&(l=n.stateNode=Mp(n.type,n.pendingProps,vt.current),un=n,ai=!0,c=de,ga(n.type)?(hf=c,de=Qn(l.firstChild)):de=c),Ye(t,n,n.pendingProps.children,a),to(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((c=l=de)&&(l=uE(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,un=n,de=Qn(l.firstChild),ai=!1,c=!0):c=!1),c||ss(n)),pt(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:y!==null&&lf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=sh(t,n,w0,null,null,a),Ol._currentValue=c),to(t,n),Ye(t,n,l,a),n.child;case 6:return t===null&&Qt&&((t=a=de)&&(a=oE(a,n.pendingProps,ai),a!==null?(n.stateNode=a,un=n,de=null,t=!0):t=!1),t||ss(n)),null;case 13:return Vg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ws(n,null,l,a):Ye(t,n,l,a),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,a);case 7:return Ye(t,n,n.pendingProps,a),n.child;case 8:return Ye(t,n,n.pendingProps.children,a),n.child;case 12:return Ye(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ta(n,n.type,l.value),Ye(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ls(n),c=Je(c),l=l(c),n.flags|=1,Ye(t,n,l,a),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,a);case 15:return Sg(t,n,n.type,n.pendingProps,a);case 19:return Ng(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=eo(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Vi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(t,n,a);case 24:return ls(n),l=Je(Ne),t===null?(c=Zc(),c===null&&(c=ie,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Jc(n),ta(n,Ne,c)):((t.lanes&a)!==0&&(Wc(t,n),cl(n,null,null,a),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ta(n,Ne,l)):(l=f.cache,ta(n,Ne,l),l!==c.cache&&Fc(n,[Ne],a,!0))),Ye(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jp(n)){if(n=Ln.current,n!==null&&((Bt&4194048)===Bt?si!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==si))throw ll=$c,pm;t.flags|=8192}}function no(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xr():536870912,t.lanes|=n,ir|=n)}function yl(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function U0(t,n,a){var l=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mi(Ne),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),oe(n),null;case 26:return a=n.memoizedState,t===null?(zi(n),a!==null?(oe(n),Mg(n,a)):(oe(n),n.flags&=-16777217)):a?a!==t.memoizedState?(zi(n),oe(n),Mg(n,a)):(oe(n),n.flags&=-16777217):(t.memoizedProps!==l&&zi(n),oe(n),n.flags&=-16777217),null;case 27:ft(n),a=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}t=ht.current,tl(n)?om(n):(t=Mp(c,l,a),n.stateNode=t,zi(n))}return oe(n),null;case 5:if(ft(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}if(t=ht.current,tl(n))om(n);else{switch(c=po(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[De]=n,t[Ae]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ke(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&zi(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=un,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,a)),t||ss(n)}else t=po(t).createTextNode(l),t[De]=n,n.stateNode=t}return oe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ui(n),n):(Ui(n),null)}if(Ui(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),no(n,n.updateQueue),oe(n),null;case 4:return tt(),t===null&&ef(n.stateNode.containerInfo),oe(n),null;case 10:return Mi(n.type),oe(n),null;case 19:if(nt(Oe),c=n.memoizedState,c===null)return oe(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,no(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)lm(a,t),a=a.sibling;return $(Oe,Oe.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ce()>so&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=$u(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,no(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Qt)return oe(n),null}else 2*Ce()-c.renderingStartTime>so&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ce(),n.sibling=null,t=Oe.current,$(Oe,l?t&1|2:t&1),n):(oe(n),null);case 22:case 23:return Ui(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),a=n.updateQueue,a!==null&&no(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Mi(Ne),oe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function L0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(Ne),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ft(n),null;case 13:if(Ui(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Oe),null;case 4:return tt(),null;case 10:return Mi(n.type),null;case 22:case 23:return Ui(n),ih(),t!==null&&nt(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(Ne),null;case 25:return null;default:return null}}function xg(t,n){switch(Hc(n),n.tag){case 3:Mi(Ne),tt();break;case 26:case 27:case 5:ft(n);break;case 4:tt();break;case 13:Ui(n);break;case 19:nt(Oe);break;case 10:Mi(n.type);break;case 22:case 23:Ui(n),ih(),t!==null&&nt(us);break;case 24:Mi(Ne)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){ne(n,n.return,E)}}function la(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){ne(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){ne(n,n.return,G)}}function Ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Am(n,a)}catch(l){ne(t,t.return,l)}}}function Lg(t,n,a){a.props=cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ne(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ne(t,n,c)}}function ri(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ne(t,n,c)}else a.current=null}function zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ne(t,t.return,c)}}function Nh(t,n,a){try{var l=t.stateNode;iE(l,t.type,a,n),l[Ae]=n}catch(c){ne(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ga(t.type)||t.tag===4}function Oh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=go));else if(l!==4&&(l===27&&ga(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,a),t=t.sibling;t!==null;)Mh(t,n,a),t=t.sibling}function io(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ga(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(io(t,n,a),t=t.sibling;t!==null;)io(t,n,a),t=t.sibling}function Bg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ke(n,l,a),n[De]=t,n[Ae]=a}catch(f){ne(t,t.return,f)}}var Pi=!1,_e=!1,xh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,ke=null;function z0(t,n){if(t=t.containerInfo,sf=Ao,t=$d(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(rf={focusedElem:t,selectionRange:a},Ao=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var At=cs(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(At,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){ne(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)of(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function jg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ua(t,a),l&4&&_l(5,a);break;case 1:if(ua(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ne(a,a.return,y)}else{var c=cs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ne(a,a.return,y)}}l&64&&Ug(a),l&512&&vl(a,a.return);break;case 3:if(ua(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Am(t,n)}catch(y){ne(a,a.return,y)}}break;case 27:n===null&&l&4&&Bg(a);case 26:case 5:ua(t,a),n===null&&l&4&&zg(a),l&512&&vl(a,a.return);break;case 12:ua(t,a);break;case 13:ua(t,a),l&4&&Gg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Y0.bind(null,a),cE(t,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||_e,c=Pi;var f=_e;Pi=l,(_e=n)&&!f?oa(t,a,(a.subtreeFlags&8772)!==0):ua(t,a),Pi=c,_e=f}break;case 30:break;default:ua(t,a)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,hn=!1;function Bi(t,n,a){for(a=a.child;a!==null;)Hg(t,n,a),a=a.sibling}function Hg(t,n,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:_e||ri(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||ri(a,n);var l=re,c=hn;ga(a.type)&&(re=a.stateNode,hn=!1),Bi(t,n,a),Dl(a.stateNode),re=l,hn=c;break;case 5:_e||ri(a,n);case 6:if(l=re,c=hn,re=null,Bi(t,n,a),re=l,hn=c,re!==null)if(hn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){ne(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){ne(a,n,f)}break;case 18:re!==null&&(hn?(t=re,Np(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):Np(re,a.stateNode));break;case 4:l=re,c=hn,re=a.stateNode.containerInfo,hn=!0,Bi(t,n,a),re=l,hn=c;break;case 0:case 11:case 14:case 15:_e||la(2,a,n),_e||la(4,a,n),Bi(t,n,a);break;case 1:_e||(ri(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lg(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,Bi(t,n,a),_e=l;break;default:Bi(t,n,a)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){ne(n,n.return,a)}}function P0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function Uh(t,n){var a=P0(t);n.forEach(function(l){var c=F0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function En(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ga(E.type)){re=E.stateNode,hn=!1;break t}break;case 5:re=E.stateNode,hn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(re===null)throw Error(s(160));Hg(f,y,c),re=null,hn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var Gn=null;function Qg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(la(3,t,t.return),_l(3,t),la(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(_e||a===null||ri(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(En(n,t),Tn(t),l&512&&(_e||a===null||ri(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ba]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ke(f,l,a),f[De]=t,pe(f),l=f;break t;case"link":var y=Bp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Bp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,pe(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?kp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(_e||a===null||ri(a,a.return)),a!==null&&l&4&&Nh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(_e||a===null||ri(a,a.return)),t.flags&32){c=t.stateNode;try{Dn(c,"")}catch(k){ne(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Nh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(xh=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){ne(t,t.return,k)}}break;case 3:if(vo=null,c=Gn,Gn=yo(n.containerInfo),En(n,t),Gn=c,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(k){ne(t,t.return,k)}xh&&(xh=!1,Yg(t));break;case 4:l=Gn,Gn=yo(t.stateNode.containerInfo),En(n,t),Tn(t),Gn=l;break;case 12:En(n,t),Tn(t);break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jh=Ce()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Pi,G=_e;if(Pi=P||c,_e=G||b,En(n,t),_e=G,Pi=P,Tn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Pi||_e||hs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){ne(b,b.return,k)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){ne(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uh(t,a))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Pg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Oh(t);io(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(Dn(y,""),a.flags&=-33);var E=Oh(t);io(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=Oh(t);Mh(t,P,b);break;default:throw Error(s(161))}}catch(G){ne(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ua(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jg(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:la(4,n,n.return),hs(n);break;case 1:ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lg(n,n.return,a),hs(n);break;case 27:Dl(n.stateNode);case 26:case 5:ri(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function oa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:oa(c,f,a),_l(4,f);break;case 1:if(oa(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ne(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Tm(b[c],E)}catch(P){ne(l,l.return,P)}}a&&y&64&&Ug(f),vl(f,f.return);break;case 27:Bg(f);case 26:case 5:oa(c,f,a),a&&l===null&&y&4&&zg(f),vl(f,f.return);break;case 12:oa(c,f,a);break;case 13:oa(c,f,a),a&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&oa(c,f,a),vl(f,f.return);break;case 30:break;default:oa(c,f,a)}n=n.sibling}}function Lh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function li(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,a,l),n=n.sibling}function Fg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,a,l),c&2048&&_l(9,n);break;case 1:li(t,n,a,l);break;case 3:li(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){li(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ne(n,n.return,b)}}else li(t,n,a,l);break;case 13:li(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,a,l):El(t,n):f._visibility&2?li(t,n,a,l):(f._visibility|=2,tr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Lh(y,n);break;case 24:li(t,n,a,l),c&2048&&zh(n.alternate,n);break;default:li(t,n,a,l)}}function tr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:tr(f,y,E,b,c),_l(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?tr(f,y,E,b,c):El(f,y):(G._visibility|=2,tr(f,y,E,b,c)),c&&P&2048&&Lh(y.alternate,y);break;case 24:tr(f,y,E,b,c),c&&P&2048&&zh(y.alternate,y);break;default:tr(f,y,E,b,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&Lh(l.alternate,l);break;case 24:El(a,l),c&2048&&zh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function er(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:er(t),t.flags&Tl&&t.memoizedState!==null&&SE(Gn,t.memoizedState,t.memoizedProps);break;case 5:er(t);break;case 3:case 4:var n=Gn;Gn=yo(t.stateNode.containerInfo),er(t),Gn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,er(t),Tl=n):er(t));break;default:er(t)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,$g(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&la(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ao(t)):Al(t);break;default:Al(t)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,$g(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:la(8,n,n.return),ao(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ao(n));break;default:ao(n)}t=t.sibling}}function $g(t,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:la(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(qg(l),l===a){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var B0={getCacheForType:function(t){var n=Je(Ne),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},k0=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Mt=null,Bt=0,Xt=0,An=null,ca=!1,nr=!1,Ph=!1,ki=0,me=0,ha=0,fs=0,Bh=0,zn=0,ir=0,Sl=null,fn=null,kh=!1,jh=0,so=1/0,ro=null,fa=null,Fe=0,da=null,ar=null,sr=0,qh=0,Hh=null,Jg=null,bl=0,Gh=null;function Sn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(q.T!==null){var t=Ys;return t!==0?t:$h()}return Ki()}function Wg(){zn===0&&(zn=(Bt&536870912)===0||Qt?Mr():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),zn}function bn(t,n,a){(t===ie&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(rr(t,0),ma(t,Bt,zn,!1)),_i(t,a),((Kt&2)===0||t!==ie)&&(t===ie&&((Kt&2)===0&&(fs|=a),me===4&&ma(t,Bt,zn,!1)),ui(t))}function tp(t,n,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Pa(t,n),c=l?H0(t,n):Fh(t,n,!0),f=l;do{if(c===0){nr&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!j0(a)){c=Fh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(rr(E,y).flags|=256),y=Fh(E,y,!1),y!==2){if(Ph&&!b){E.errorRecoveryDisabledLanes|=f,fs|=f,c=4;break t}f=fn,fn=c,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){rr(t,0),ma(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,zn,!ca);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=jh+300-Ce(),10<c)){if(ma(l,n,zn,!ca),Ss(l,0,!0)!==0)break t;l.timeoutHandle=Vp(ep.bind(null,l,a,fn,ro,kh,n,zn,fs,ir,ca,f,2,-0,0),c);break t}ep(l,a,fn,ro,kh,n,zn,fs,ir,ca,f,0,-0,0)}}break}while(!0);ui(t)}function ep(t,n,a,l,c,f,y,E,b,P,G,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:AE},Kg(n),Y=bE(),Y!==null)){t.cancelPendingCommit=Y(up.bind(null,t,n,f,a,l,c,y,E,b,G,1,B,k)),ma(t,f,y,!P);return}up(t,n,f,a,l,c,y,E,b)}function j0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!_n(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Bh,n&=~fs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Le(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Fn(t,a,n)}function lo(){return(Kt&6)===0?(Rl(0),!1):!0}function Qh(){if(Mt!==null){if(Xt===0)var t=Mt.return;else t=Mt,Oi=rs=null,uh(t),Js=null,gl=0,t=Mt;for(;t!==null;)xg(t.alternate,t),t=t.return;Mt=null}}function rr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,sE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qh(),ie=t,Mt=a=Vi(t.current,null),Bt=n,Xt=0,An=null,ca=!1,nr=Pa(t,n),Ph=!1,ir=zn=Bh=fs=ha=me=0,fn=Sl=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Le(l),f=1<<c;n|=t[c],l&=~f}return ki=n,Vu(),a}function np(t,n){It=null,q.H=Ku,n===rl||n===Pu?(n=vm(),Xt=3):n===pm?(n=vm(),Xt=4):Xt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Mt===null&&(me=1,Wu(t,On(n,t.current)))}function ip(){var t=q.H;return q.H=Ku,t===null?Ku:t}function ap(){var t=q.A;return q.A=B0,t}function Yh(){me=4,ca||(Bt&4194048)!==Bt&&Ln.current!==null||(nr=!0),(ha&134217727)===0&&(fs&134217727)===0||ie===null||ma(ie,Bt,zn,!1)}function Fh(t,n,a){var l=Kt;Kt|=2;var c=ip(),f=ap();(ie!==t||Bt!==n)&&(ro=null,rr(t,n)),n=!1;var y=me;t:do try{if(Xt!==0&&Mt!==null){var E=Mt,b=An;switch(Xt){case 8:Qh(),y=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var P=Xt;if(Xt=0,An=null,lr(t,E,b,P),a&&nr){y=0;break t}break;default:P=Xt,Xt=0,An=null,lr(t,E,b,P)}}q0(),y=me;break}catch(G){np(t,G)}while(!0);return n&&t.shellSuspendCounter++,Oi=rs=null,Kt=l,q.H=c,q.A=f,Mt===null&&(ie=null,Bt=0,Vu()),y}function q0(){for(;Mt!==null;)sp(Mt)}function H0(t,n){var a=Kt;Kt|=2;var l=ip(),c=ap();ie!==t||Bt!==n?(ro=null,so=Ce()+500,rr(t,n)):nr=Pa(t,n);t:do try{if(Xt!==0&&Mt!==null){n=Mt;var f=An;e:switch(Xt){case 1:Xt=0,An=null,lr(t,n,f,1);break;case 2:case 9:if(ym(f)){Xt=0,An=null,rp(n);break}n=function(){Xt!==2&&Xt!==9||ie!==t||(Xt=7),ui(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ym(f)?(Xt=0,An=null,rp(n)):(Xt=0,An=null,lr(t,n,f,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var E=Mt;if(!y||jp(y)){Xt=0,An=null;var b=E.sibling;if(b!==null)Mt=b;else{var P=E.return;P!==null?(Mt=P,uo(P)):Mt=null}break e}}Xt=0,An=null,lr(t,n,f,5);break;case 6:Xt=0,An=null,lr(t,n,f,6);break;case 8:Qh(),me=6;break t;default:throw Error(s(462))}}G0();break}catch(G){np(t,G)}while(!0);return Oi=rs=null,q.H=l,q.A=c,Kt=a,Mt!==null?0:(ie=null,Bt=0,Vu(),me)}function G0(){for(;Mt!==null&&!an();)sp(Mt)}function sp(t){var n=Og(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?uo(t):Mt=n}function rp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=wg(a,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=wg(a,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:uh(n);default:xg(a,n),n=Mt=lm(n,ki),n=Og(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?uo(t):Mt=n}function lr(t,n,a,l){Oi=rs=null,uh(n),Js=null,gl=0;var c=n.return;try{if(M0(t,c,n,a,Bt)){me=1,Wu(t,On(a,t.current)),Mt=null;return}}catch(f){if(c!==null)throw Mt=c,f;me=1,Wu(t,On(a,t.current)),Mt=null;return}n.flags&32768?(Qt||l===1?t=!0:nr||(Bt&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):uo(n)}function uo(t){var n=t;do{if((n.flags&32768)!==0){lp(n,ca);return}t=n.return;var a=U0(n.alternate,n,ki);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=t}while(n!==null);me===0&&(me=5)}function lp(t,n){do{var a=L0(t.alternate,t);if(a!==null){a.flags&=32767,Mt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=a}while(t!==null);me=6,Mt=null}function up(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do oo();while(Fe!==0);if((Kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=zc,Ur(t,a,f,y,E,b),t===ie&&(Mt=ie=null,Bt=0),ar=n,da=t,sr=a,qh=f,Hh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(Bn,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=et.p,et.p=2,y=Kt,Kt|=4;try{z0(t,n,a)}finally{Kt=y,et.p=c,q.T=l}}Fe=1,op(),cp(),hp()}}function op(){if(Fe===1){Fe=0;var t=da,n=ar,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=Kt;Kt|=4;try{Qg(n,t);var f=rf,y=$d(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(b!==null&&Oc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),At=E.textContent.length,_t=Math.min(b.start,At),ee=b.end===void 0?_t:Math.min(b.end,At);!k.extend&&_t>ee&&(y=ee,ee=_t,_t=y);var x=Xd(E,_t),D=Xd(E,ee);if(x&&D&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),_t>ee?(k.addRange(z),k.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ao=!!sf,rf=sf=null}finally{Kt=c,et.p=l,q.T=a}}t.current=n,Fe=2}}function cp(){if(Fe===2){Fe=0;var t=da,n=ar,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=Kt;Kt|=4;try{jg(t,n.alternate,n)}finally{Kt=c,et.p=l,q.T=a}}Fe=3}}function hp(){if(Fe===4||Fe===3){Fe=0,Yn();var t=da,n=ar,a=sr,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,ar=da=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),bs(a),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=et.p,et.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=c}}(sr&3)!==0&&oo(),ui(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Gh?bl++:(bl=0,Gh=t):bl=0,Rl(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function oo(t){return op(),cp(),hp(),dp()}function dp(){if(Fe!==5)return!1;var t=da,n=qh;qh=0;var a=bs(sr),l=q.T,c=et.p;try{et.p=32>a?32:a,q.T=null,a=Hh,Hh=null;var f=da,y=sr;if(Fe=0,ar=da=null,sr=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,Zg(f.current),Fg(f,f.current,y,a),Kt=E,Rl(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,q.T=l,fp(t,n)}}function mp(t,n,a){n=On(a,n),n=Ah(t.stateNode,n,2),t=ia(t,n,2),t!==null&&(_i(t,2),ui(t))}function ne(t,n,a){if(t.tag===3)mp(t,t,a);else for(;n!==null;){if(n.tag===3){mp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=On(a,t),a=_g(2),l=ia(n,a,2),l!==null&&(vg(a,l,n,t),_i(l,2),ui(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new k0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ph=!0,c.add(a),t=Q0.bind(null,t,n,a),n.then(t,t))}function Q0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ie===t&&(Bt&a)===a&&(me===4||me===3&&(Bt&62914560)===Bt&&300>Ce()-jh?(Kt&2)===0&&rr(t,0):Bh|=a,ir===Bt&&(ir=0)),ui(t)}function gp(t,n){n===0&&(n=xr()),t=qs(t,n),t!==null&&(_i(t,n),ui(t))}function Y0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),gp(t,a)}function F0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),gp(t,a)}function K0(t,n){return yt(t,n)}var co=null,ur=null,Xh=!1,ho=!1,Zh=!1,ds=0;function ui(t){t!==ur&&t.next===null&&(ur===null?co=ur=t:ur=ur.next=t),ho=!0,Xh||(Xh=!0,Z0())}function Rl(t,n){if(!Zh&&ho){Zh=!0;do for(var a=!1,l=co;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Le(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,vp(l,f))}else f=Bt,f=Ss(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pa(l,f)||(a=!0,vp(l,f));l=l.next}while(a);Zh=!1}}function X0(){pp()}function pp(){ho=Xh=!1;var t=0;ds!==0&&(aE()&&(t=ds),ds=0);for(var n=Ce(),a=null,l=co;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,a===null?co=c:a.next=c,c===null&&(ur=a)):(a=l,(t!==0||(f&3)!==0)&&(ho=!0)),l=c}Rl(t)}function yp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Le(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Or(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=ie,a=Bt,a=Ss(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$t(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&$t(l),bs(a)){case 2:case 8:a=on;break;case 32:a=Bn;break;case 268435456:a=pi;break;default:a=Bn}return l=_p.bind(null,t),a=yt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&$t(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(Fe!==0&&Fe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oo()&&t.callbackNode!==a)return null;var l=Bt;return l=Ss(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,Ce()),t.callbackNode!=null&&t.callbackNode===a?_p.bind(null,t):null)}function vp(t,n){if(oo())return null;tp(t,n,!0)}function Z0(){rE(function(){(Kt&6)!==0?yt(He,X0):pp()})}function $h(){return ds===0&&(ds=Mr()),ds}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function Tp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function $0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Ep((c[Ae]||null).action),y=l.submitter;y&&(n=(n=y[Ae]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ns("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var b=y?Tp(c,y):new FormData(c);yh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Tp(c,y):new FormData(c),yh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Jh=0;Jh<Lc.length;Jh++){var Wh=Lc[Jh],J0=Wh.toLowerCase(),W0=Wh[0].toUpperCase()+Wh.slice(1);Hn(J0,"on"+W0)}Hn(tm,"onAnimationEnd"),Hn(em,"onAnimationIteration"),Hn(nm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(p0,"onTransitionRun"),Hn(y0,"onTransitionStart"),Hn(_0,"onTransitionCancel"),Hn(im,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Ap(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Ju(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Ju(G)}c.currentTarget=null,f=b}}}}function xt(t,n){var a=n[zr];a===void 0&&(a=n[zr]=new Set);var l=t+"__bubble";a.has(l)||(Sp(n,t,2,!1),a.add(l))}function tf(t,n,a){var l=0;n&&(l|=4),Sp(a,t,l,n)}var fo="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[fo]){t[fo]=!0,Pr.forEach(function(a){a!=="selectionchange"&&(tE.has(a)||tf(a,!1,t),tf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fo]||(n[fo]=!0,tf("selectionchange",!1,n))}}function Sp(t,n,a,l){switch(Fp(n)){case 2:var c=CE;break;case 8:c=DE;break;default:c=pf}a=c.bind(null,n,a,t),c=void 0,!In||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function nf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=vi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}mu(function(){var P=f,G=Vn(a),Y=[];t:{var B=am.get(t);if(B!==void 0){var k=Ns,At=t;switch(t){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":k=zs;break;case"focusin":At="focus",k=xs;break;case"focusout":At="blur",k=xs;break;case"beforeblur":case"afterblur":k=xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Au;break;case tm:case em:case nm:k=Us;break;case im:k=bu;break;case"scroll":case"scrollend":k=gu;break;case"wheel":k=Ps;break;case"copy":case"cut":case"paste":k=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zr;break;case"toggle":case"beforetoggle":k=wu}var _t=(n&4)!==0,ee=!_t&&(t==="scroll"||t==="scrollend"),x=_t?B!==null?B+"Capture":null:B;_t=[];for(var D=P,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||x===null||(Q=Ya(D,x),Q!=null&&_t.push(Cl(D,Q,z))),ee)break;D=D.return}0<_t.length&&(B=new k(B,At,null,a,G),Y.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==Si&&(At=a.relatedTarget||a.fromElement)&&(vi(At)||At[Cn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(At=a.relatedTarget||a.toElement,k=P,At=At?vi(At):null,At!==null&&(ee=h(At),_t=At.tag,At!==ee||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(k=null,At=P),k!==At)){if(_t=Nn,Q="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Zr,Q="onPointerLeave",x="onPointerEnter",D="pointer"),ee=k==null?B:Xn(k),z=At==null?B:Xn(At),B=new _t(Q,D+"leave",k,a,G),B.target=ee,B.relatedTarget=z,Q=null,vi(G)===P&&(_t=new _t(x,D+"enter",At,a,G),_t.target=z,_t.relatedTarget=ee,Q=_t),ee=Q,k&&At)e:{for(_t=k,x=At,D=0,z=_t;z;z=or(z))D++;for(z=0,Q=x;Q;Q=or(Q))z++;for(;0<D-z;)_t=or(_t),D--;for(;0<z-D;)x=or(x),z--;for(;D--;){if(_t===x||x!==null&&_t===x.alternate)break e;_t=or(_t),x=or(x)}_t=null}else _t=null;k!==null&&bp(Y,B,k,_t,!1),At!==null&&ee!==null&&bp(Y,ee,At,_t,!0)}}t:{if(B=P?Xn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var lt=Hd;else if(Ie(B))if(Gd)lt=d0;else{lt=h0;var Ot=c0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hr(P.elementType)&&(lt=Hd):lt=f0;if(lt&&(lt=lt(t,P))){Di(Y,lt,a,G);break t}Ot&&Ot(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Ji(B,"number",B.value)}switch(Ot=P?Xn(P):window,t){case"focusin":(Ie(Ot)||Ot.contentEditable==="true")&&(Bs=Ot,Mc=P,Wr=null);break;case"focusout":Wr=Mc=Bs=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Jd(Y,a,G);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":Jd(Y,a,G)}var ct;if(ni)t:{switch(t){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else zt?j(t,a)&&(Et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(g&&a.locale!=="ko"&&(zt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&zt&&(ct=Qr()):(Jn=G,Wi="value"in Jn?Jn.value:Jn.textContent,zt=!0)),Ot=mo(P,Et),0<Ot.length&&(Et=new Kr(Et,t,null,a,G),Y.push({event:Et,listeners:Ot}),ct?Et.data=ct:(ct=W(a),ct!==null&&(Et.data=ct)))),(ct=m?Ve(t,a):Pt(t,a))&&(Et=mo(P,"onBeforeInput"),0<Et.length&&(Ot=new Kr("onBeforeInput","beforeinput",null,a,G),Y.push({event:Ot,listeners:Et}),Ot.data=ct)),$0(Y,t,P,a,G)}Ap(Y,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ya(t,a),c!=null&&l.unshift(Cl(t,c,f)),c=Ya(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Ya(a,f),P!=null&&y.unshift(Cl(a,P,b))):c||(P=Ya(a,f),P!=null&&y.push(Cl(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function wp(t,n){return n=Rp(n),Rp(t)===n}function go(){}function te(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Dn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":qr(t,l,f);break;case"data":if(n!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=go);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":Ge(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ge(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ge(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ge(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ge(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ge(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,$i(t,a,l))}}function af(t,n,a,l,c,f){switch(a){case"style":qr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Ae]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function Ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,f,y,a,null)}}c&&te(t,n,"srcSet",a.srcSet,a,null),l&&te(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:te(t,n,l,G,a,null)}}Ha(t,f,E,b,P,y,c,!1),Vs(t);return;case"select":xt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:te(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Ai(t,!!l,n,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(t,n,y,E,a,null)}Ga(t,l,c,f),Vs(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,b,l,a,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)xt(wl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,P,l,a,null)}return;default:if(Hr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&af(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&te(t,n,E,l,a,null))}function iE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||te(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Y&&te(t,n,B,k,l,Y)}}yn(t,y,E,b,P,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||te(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&te(t,n,c,f,l,b)}n=E,a=y,l=k,B!=null?Ai(t,!!a,B,!1):!!l!=!!a&&(n!=null?Ai(t,!!a,n,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&te(t,n,y,c,l,f)}Jt(t,B,k);return;case"option":for(var At in a)if(B=a[At],a.hasOwnProperty(At)&&B!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:te(t,n,At,null,l,B)}for(b in l)if(B=l[b],k=a[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&te(t,n,_t,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:te(t,n,P,B,l,k)}return;default:if(Hr(n)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&af(t,n,ee,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||af(t,n,G,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&te(t,n,x,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||te(t,n,Y,B,l,k)}var sf=null,rf=null;function po(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function aE(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(lE)}:Vp;function lE(t){setTimeout(function(){throw t})}function ga(t){return t==="head"}function Np(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Dl(y.documentElement),a&2&&Dl(y.body),a&4)for(a=y.head,Dl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ba]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ll(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":of(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ba])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function oE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var hf=null;function Op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Mp(t,n,a){switch(n=po(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zi(t)}var Pn=new Map,xp=new Set;function yo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=et.d;et.d={f:hE,r:fE,D:dE,C:mE,L:gE,m:pE,X:_E,S:yE,M:vE};function hE(){var t=ji.f(),n=lo();return t||n}function fE(t){var n=Kn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):ji.r(t)}var cr=typeof document>"u"?null:document;function Up(t,n,a){var l=cr;if(l&&typeof n=="string"&&n){var c=Se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),xp.has(c)||(xp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ke(n,"link",t),pe(n),l.head.appendChild(n)))}}function dE(t){ji.D(t),Up("dns-prefetch",t,null)}function mE(t,n){ji.C(t,n),Up("preconnect",t,n)}function gE(t,n,a){ji.L(t,n,a);var l=cr;if(l&&t&&n){var c='link[rel="preload"][as="'+Se(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Se(a.imageSizes)+'"]')):c+='[href="'+Se(t)+'"]';var f=c;switch(n){case"style":f=hr(t);break;case"script":f=fr(t)}Pn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Pn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Ke(n,"link",t),pe(n),l.head.appendChild(n)))}}function pE(t,n){ji.m(t,n);var a=cr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fr(t)}if(!Pn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Pn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Ke(l,"link",t),pe(l),a.head.appendChild(l)}}}function yE(t,n,a){ji.S(t,n,a);var l=cr;if(l&&t){var c=sn(l).hoistableStyles,f=hr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Pn.get(f))&&ff(t,a);var b=y=l.createElement("link");pe(b),Ke(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_o(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function _E(t,n){ji.X(t,n);var a=cr;if(a&&t){var l=sn(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Pn.get(c))&&df(t,n),f=a.createElement("script"),pe(f),Ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vE(t,n){ji.M(t,n);var a=cr;if(a&&t){var l=sn(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Pn.get(c))&&df(t,n),f=a.createElement("script"),pe(f),Ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Lp(t,n,a,l){var c=(c=vt.current)?yo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hr(a.href),a=sn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hr(a.href);var f=sn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||EE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(a),a=sn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hr(t){return'href="'+Se(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function zp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",a),pe(n),t.head.appendChild(n))}function fr(t){return'[src="'+Se(t)+'"]'}function Il(t){return"script[async]"+t}function Pp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return n.instance=l,pe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),Ke(l,"style",c),_o(l,a.precedence,t),n.instance=l;case"stylesheet":c=hr(a.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=zp(a),(c=Pn.get(c))&&ff(l,c),f=(t.ownerDocument||t).createElement("link"),pe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ke(f,"link",l),n.state.loading|=4,_o(f,a.precedence,t),n.instance=f;case"script":return f=fr(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,pe(c),c):(l=a,(c=Pn.get(f))&&(l=A({},a),df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),Ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_o(l,a.precedence,t));return n.instance}function _o(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vo=null;function Bp(t,n,a){if(vo===null){var l=new Map,c=vo=new Map;c.set(a,l)}else c=vo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ba]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function AE(){}function SE(t,n,a){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hr(a.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Eo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,pe(f);return}f=t.ownerDocument||t,a=zp(a),(c=Pn.get(c))&&ff(a,c),f=f.createElement("link"),pe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Eo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function bE(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Eo(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var To=null;function mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,To=new Map,n.forEach(RE,t),To=null,Eo.call(t))}function RE(t,n){if(!(n.state.loading&4)){var a=To.get(t);if(a)var l=a.get(null);else{a=new Map,To.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Eo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function wE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qp(t,n,a,l,c,f,y,E,b,P,G,Y){return t=new wE(t,n,a,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Jc(f),t}function Hp(t){return t?(t=Hs,t):Hs}function Gp(t,n,a,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=na(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ia(t,l,n),a!==null&&(bn(a,t,n),ul(a,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function gf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Yp(t){if(t.tag===13){var n=qs(t,67108864);n!==null&&bn(n,t,67108864),gf(t,67108864)}}var Ao=!0;function CE(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=2,pf(t,n,a,l)}finally{et.p=f,q.T=c}}function DE(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=8,pf(t,n,a,l)}finally{et.p=f,q.T=c}}function pf(t,n,a,l){if(Ao){var c=yf(l);if(c===null)nf(t,n,l,So,a),Kp(t,l);else if(IE(c,t,n,a,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<VE.indexOf(t)){for(;c!==null;){var f=Kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=kn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Le(y);E.entanglements[1]|=b,y&=~b}ui(f),(Kt&6)===0&&(so=Ce()+500,Rl(0))}}break;case 13:E=qs(f,2),E!==null&&bn(E,f,2),lo(),gf(f,2)}if(f=yf(l),f===null&&nf(t,n,l,So,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,a)}}function yf(t){return t=Vn(t),_f(t)}var So=null;function _f(t){if(So=null,t=vi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return So=t,null}function Fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case He:return 2;case on:return 8;case Bn:case Es:return 32;case pi:return 268435456;default:return 32}default:return 32}}var vf=!1,pa=null,ya=null,_a=null,Ml=new Map,xl=new Map,va=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Kn(n),n!==null&&Yp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,a,l,c){switch(n){case"focusin":return pa=Ul(pa,t,n,a,l,c),!0;case"dragenter":return ya=Ul(ya,t,n,a,l,c),!0;case"mouseover":return _a=Ul(_a,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0}return!1}function Xp(t){var n=vi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,lu(t.priority,function(){if(a.tag===13){var l=Sn();l=Fi(l);var c=qs(a,l);c!==null&&bn(c,a,l),gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=yf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Si=l,a.target.dispatchEvent(l),Si=null}else return n=Kn(a),n!==null&&Yp(n),t.blockedOn=a,!1;n.shift()}return!0}function Zp(t,n,a){bo(t)&&a.delete(n)}function NE(){vf=!1,pa!==null&&bo(pa)&&(pa=null),ya!==null&&bo(ya)&&(ya=null),_a!==null&&bo(_a)&&(_a=null),Ml.forEach(Zp),xl.forEach(Zp)}function Ro(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NE)))}var wo=null;function $p(t){wo!==t&&(wo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wo===t&&(wo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(_f(l||a)===null)continue;break}var f=Kn(a);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ll(t){function n(b){return Ro(b,t)}pa!==null&&Ro(pa,t),ya!==null&&Ro(ya,t),_a!==null&&Ro(_a,t),Ml.forEach(n),xl.forEach(n);for(var a=0;a<va.length;a++){var l=va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)Xp(a),a.blockedOn===null&&va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[Ae]||null;if(typeof f=="function")y||$p(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ae]||null)E=y.formAction;else if(_f(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),$p(a)}}}function Ef(t){this._internalRoot=t}Co.prototype.render=Ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Sn();Gp(a,l,t,n,null,null)},Co.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),lo(),n[Cn]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ki();t={blockedOn:null,target:t,priority:n};for(var a=0;a<va.length&&n!==0&&n<va[a].priority;a++);va.splice(a,0,t),a===0&&Xp(t)}};var Jp=e.version;if(Jp!=="19.1.0")throw Error(s(527,Jp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var OE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{ae=Do.inject(OE),wt=Do}catch{}}return Pl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=qp(t,1,!1,null,null,a,l,c,f,y,E,null),t[Cn]=n.current,ef(t),new Ef(n)},Pl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=mg,y=gg,E=pg,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=qp(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=Hp(null),a=n.current,l=Sn(),l=Fi(l),c=na(l),c.callback=null,ia(a,c,l),a=l,n.current.lanes=a,_i(n,a),ui(n),t[Cn]=n.current,ef(t),new Co(n)},Pl.version="19.1.0",Pl}var uy;function qE(){if(uy)return Sf.exports;uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sf.exports=jE(),Sf.exports}var HE=qE();const GE=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},QE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],p=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},v_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,p=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,I=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,H=_&63;v||(H=64,d||(V=64)),s.push(i[A],i[I],i[V],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(__(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],p=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const I=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||p==null||_==null||I==null)throw new YE;const V=h<<2|p>>4;if(s.push(V),_!==64){const H=p<<4&240|_>>2;if(s.push(H),I!==64){const Z=_<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FE=function(r){const e=__(r);return v_.encodeByteArray(e,!0)},Ho=function(r){return FE(r).replace(/\./g,"")},KE=function(r){try{return v_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>XE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof oy>"u")return;const r=oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KE(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return GE()||ZE()||$E()||JE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WE=r=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},tT=r=>{const e=WE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},E_=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(r){return r.endsWith(".cloudworkstations.dev")}async function nT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ho(JSON.stringify(i)),Ho(JSON.stringify(d)),""].join(".")}const Hl={};function aT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function sT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let cy=!1;function rT(r,e){if(typeof window>"u"||typeof document>"u"||!ld(window.location.host)||Hl[r]===e||Hl[r]||cy)return;Hl[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",h=aT().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{cy=!0,d()},V}function A(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function I(){const V=sT(s),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),at=i("learnmore"),J=document.getElementById(at)||document.createElement("a"),Vt=i("preprendIcon"),mt=document.getElementById(Vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),A(J,at);const Lt=_();v(mt,Vt),dt.append(mt,Z,J,Lt),document.body.appendChild(dt)}h?(Z.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function hT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="FirebaseError";class wr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=fT,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T_.prototype.create)}}class T_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?dT(h,s):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new wr(u,p,s)}}function dT(r,e){return r.replace(mT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const mT=/\{\$([^}]+)}/g;function Go(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(hy(h)&&hy(d)){if(!Go(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function hy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r){return r&&r._delegate?r._delegate:r}class Kl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new eT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yT(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pT(r){return r===ms?void 0:r}function yT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const vT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},ET=jt.INFO,TT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},AT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=TT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A_{constructor(e){this.name=e,this._logLevel=ET,this._logHandler=AT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const ST=(r,e)=>e.some(i=>r instanceof i);let fy,dy;function bT(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RT(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S_=new WeakMap,zf=new WeakMap,b_=new WeakMap,Cf=new WeakMap,ud=new WeakMap;function wT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Aa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&S_.set(i,r)}).catch(()=>{}),ud.set(e,r),e}function CT(r){if(zf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});zf.set(r,e)}let Pf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return zf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||b_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DT(r){Pf=r(Pf)}function VT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Df(this),e,...i);return b_.set(s,e.sort?e.sort():[e]),Aa(s)}:RT().includes(r)?function(...e){return r.apply(Df(this),e),Aa(S_.get(this))}:function(...e){return Aa(r.apply(Df(this),e))}}function IT(r){return typeof r=="function"?VT(r):(r instanceof IDBTransaction&&CT(r),ST(r,bT())?new Proxy(r,Pf):r)}function Aa(r){if(r instanceof IDBRequest)return wT(r);if(Cf.has(r))return Cf.get(r);const e=IT(r);return e!==r&&(Cf.set(r,e),ud.set(e,r)),e}const Df=r=>ud.get(r);function NT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),p=Aa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Aa(d.result),v.oldVersion,v.newVersion,Aa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const OT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],Vf=new Map;function my(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=MT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||OT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Vf.set(e,h),h}DT(r=>({...r,get:(e,i,s)=>my(e,i)||r.get(e,i,s),has:(e,i)=>!!my(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function UT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",gy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new A_("@firebase/app"),LT="@firebase/app-compat",zT="@firebase/analytics-compat",PT="@firebase/analytics",BT="@firebase/app-check-compat",kT="@firebase/app-check",jT="@firebase/auth",qT="@firebase/auth-compat",HT="@firebase/database",GT="@firebase/data-connect",QT="@firebase/database-compat",YT="@firebase/functions",FT="@firebase/functions-compat",KT="@firebase/installations",XT="@firebase/installations-compat",ZT="@firebase/messaging",$T="@firebase/messaging-compat",JT="@firebase/performance",WT="@firebase/performance-compat",t1="@firebase/remote-config",e1="@firebase/remote-config-compat",n1="@firebase/storage",i1="@firebase/storage-compat",a1="@firebase/firestore",s1="@firebase/ai",r1="@firebase/firestore-compat",l1="firebase",u1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",o1={[Bf]:"fire-core",[LT]:"fire-core-compat",[PT]:"fire-analytics",[zT]:"fire-analytics-compat",[kT]:"fire-app-check",[BT]:"fire-app-check-compat",[jT]:"fire-auth",[qT]:"fire-auth-compat",[HT]:"fire-rtdb",[GT]:"fire-data-connect",[QT]:"fire-rtdb-compat",[YT]:"fire-fn",[FT]:"fire-fn-compat",[KT]:"fire-iid",[XT]:"fire-iid-compat",[ZT]:"fire-fcm",[$T]:"fire-fcm-compat",[JT]:"fire-perf",[WT]:"fire-perf-compat",[t1]:"fire-rc",[e1]:"fire-rc-compat",[n1]:"fire-gcs",[i1]:"fire-gcs-compat",[a1]:"fire-fst",[r1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,c1=new Map,jf=new Map;function py(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Yo(r){const e=r.name;if(jf.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,r);for(const i of Qo.values())py(i,r);for(const i of c1.values())py(i,r);return!0}function h1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function f1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new T_("app","Firebase",d1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=u1;function R_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kf,automaticDataCollectionEnabled:!0},e),u=s.name;if(typeof u!="string"||!u)throw Sa.create("bad-app-name",{appName:String(u)});if(i||(i=E_()),!i)throw Sa.create("no-options");const h=Qo.get(u);if(h){if(Go(i,h.options)&&Go(s,h.config))return h;throw Sa.create("duplicate-app",{appName:u})}const d=new _T(u);for(const v of jf.values())d.addComponent(v);const p=new m1(i,s,d);return Qo.set(u,p),p}function p1(r=kf){const e=Qo.get(r);if(!e&&r===kf&&E_())return R_();if(!e)throw Sa.create("no-app",{appName:r});return e}function yr(r,e,i){var s;let u=(s=o1[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(p.join(" "));return}Yo(new Kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firebase-heartbeat-database",_1=1,Xl="firebase-heartbeat-store";let If=null;function w_(){return If||(If=NT(y1,_1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Sa.create("idb-open",{originalErrorMessage:r.message})})),If}async function v1(r){try{const i=(await w_()).transaction(Xl),s=await i.objectStore(Xl).get(C_(r));return await i.done,s}catch(e){if(e instanceof wr)Gi.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(i.message)}}}async function yy(r,e){try{const s=(await w_()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,C_(r)),await s.done}catch(i){if(i instanceof wr)Gi.warn(i.message);else{const s=Sa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(s.message)}}}function C_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1024,T1=30;class A1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new b1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=_y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>T1){const d=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=_y(),{heartbeatsToSend:s,unsentEntries:u}=S1(this._heartbeatsCache.heartbeats),h=Ho(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Gi.warn(i),""}}}function _y(){return new Date().toISOString().substring(0,10)}function S1(r,e=E1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),vy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),vy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class b1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?hT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await v1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return yy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return yy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function vy(r){return Ho(JSON.stringify({version:2,heartbeats:r})).length}function R1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){Yo(new Kl("platform-logger",e=>new xT(e),"PRIVATE")),Yo(new Kl("heartbeat",e=>new A1(e),"PRIVATE")),yr(Bf,gy,r),yr(Bf,gy,"esm2017"),yr("fire-js","")}w1("");var C1="firebase",D1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(C1,D1,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,D_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,U){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return S.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var U=O.g[3],R=S+(U^w&(M^U))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)O[w++]=this.g[S]>>>N&255;return O};function h(O,S){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==S||(w[M]=U,N=!1)}this.g=w}var p={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return I;if(0>O)return J(_(-O));for(var S=[],w=1,N=0;O>=w;N++)S[N]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=I,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),R=parseInt(O.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var I=v(0),V=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(at(this))return-J(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(at(this))return"-"+J(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,N="";;){var M=Lt(w,S).g;w=Vt(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,Z(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function at(O){return O.h==-1}r.l=function(O){return O=Vt(this,O),at(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,w=[],N=0;N<S;N++)w[N]=~O.g[N];return new d(w,~O.h).add(V)}r.abs=function(){return at(this)?J(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Vt(O,S){return O.add(J(S))}r.j=function(O){if(Z(this)||Z(O))return I;if(at(this))return at(O)?J(this).j(J(O)):J(J(this).j(O));if(at(O))return J(this.j(J(O)));if(0>this.l(H)&&0>O.l(H))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,R=this.i(N)&65535,he=O.i(M)>>>16,ue=O.i(M)&65535;w[2*N+2*M]+=R*ue,mt(w,2*N+2*M),w[2*N+2*M+1]+=U*ue,mt(w,2*N+2*M+1),w[2*N+2*M+1]+=R*he,mt(w,2*N+2*M+1),w[2*N+2*M+2]+=U*he,mt(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function mt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function dt(O,S){this.g=O,this.h=S}function Lt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new dt(I,I);if(at(O))return S=Lt(J(O),S),new dt(J(S.g),J(S.h));if(at(S))return S=Lt(O,J(S)),new dt(J(S.g),S.h);if(30<O.g.length){if(at(O)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var w=V,N=S;0>=N.l(O);)w=St(w),N=St(N);var M=qt(w,1),U=qt(N,1);for(N=qt(N,2),w=qt(w,2);!Z(N);){var R=U.add(N);0>=R.l(O)&&(M=M.add(w),U=R),N=qt(N,1),w=qt(w,1)}return S=Vt(O,M.j(S)),new dt(M,S)}for(M=I;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(w),R=U.j(S);at(R)||0<R.l(O);)w-=N,U=_(w),R=U.j(S);Z(U)&&(U=V),M=M.add(U),O=Vt(O,R)}return new dt(M,O)}r.A=function(O){return Lt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function St(O){for(var S=O.g.length+1,w=[],N=0;N<S;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function qt(O,S){var w=S>>5;S%=32;for(var N=O.g.length-w,M=[],U=0;U<N;U++)M[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,D_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ba=d}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V_,Bl,I_,zo,qf,N_,O_,M_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vo=="object"&&Vo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var g=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var j=g++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function I(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function V(o,m,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,V.apply(null,arguments)}function H(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,j){for(var W=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)W[zt-2]=arguments[zt];return m.prototype[L].apply(T,W)}}function at(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=o.length||0,j=T.length||0;o.length=L+j;for(let W=0;W<j;W++)o[L+W]=T[W]}else o.push(T)}}class Vt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(o){return/^[\s\xa0]*$/.test(o)}function dt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Lt(o){return Lt[" "](o),o}Lt[" "]=function(){};var St=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function qt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let j=0;j<w.length;j++)g=w[j],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Ht;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,g){const T=ue.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new Vt(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Ht=new he,C=()=>{const o=p.Promise.resolve(void 0);et=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function Dt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(St){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dt.aa.h.call(this)}}Z(Dt,$);var vt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function tt(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function pt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ft(o){this.src=o,this.g={},this.h=0}ft.prototype.add=function(o,m,g,T,L){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var W=yt(o,m,T,L);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new tt(m,this.src,j,!!T,L),m.fa=g,o.push(m)),m};function rt(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(pt(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function yt(o,m,g,T){for(var L=0;L<o.length;++L){var j=o[L];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return L}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),an={};function Yn(o,m,g,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Yn(o,m[j],g,T,L);return null}return g=xa(g),o&&o[Te]?o.K(m,g,_(T)?!!T.capture:!1,L):Ce(o,m,g,!1,T,L)}function Ce(o,m,g,T,L,j){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,zt=pi(o);if(zt||(o[$t]=zt=new ft(o)),g=zt.add(m,g,T,W,j),g.proxy)return g;if(T=fe(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ht||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Bn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fe(){function o(g){return m.call(o.src,o.listener,g)}const m=Es;return o}function He(o,m,g,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)He(o,m[j],g,T,L);else T=_(T)?!!T.capture:!!T,g=xa(g),o&&o[Te]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],g=yt(j,g,T,L),-1<g&&(pt(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=pi(o))&&(m=o.g[m.toString()],o=-1,m&&(o=yt(m,g,T,L)),(g=-1<o?m[o]:null)&&on(g))}function on(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Te])rt(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Bn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=pi(m))?(rt(g,o),g.h==0&&(g.src=null,m[$t]=null)):pt(o)}}}function Bn(o){return o in an?an[o]:an[o]="on"+o}function Es(o,m){if(o.da)o=!0;else{m=new Dt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&on(o),o=g.call(T,m)}return o}function pi(o){return o=o[$t],o instanceof ft?o:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(o){return typeof o=="function"?o:(o[Ts]||(o[Ts]=function(m){return o.handleEvent(m)}),o[Ts])}function ae(){nt.call(this),this.i=new ft(this),this.M=this,this.F=null}Z(ae,nt),ae.prototype[Te]=!0,ae.prototype.removeEventListener=function(o,m,g,T){He(this,o,m,g,T)};function wt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var L=m;m=new $(T,o),N(m,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var W=m.g=g[j];L=ge(W,T,!0,m)&&L}if(W=m.g=o,L=ge(W,T,!0,m)&&L,L=ge(W,T,!1,m)&&L,g)for(j=0;j<g.length;j++)W=m.g=g[j],L=ge(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)pt(g[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ae.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function ge(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==g){var zt=W.listener,Ve=W.ha||W.src;W.fa&&rt(o.i,W),L=zt.call(Ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function Le(o,m,g){if(typeof o=="function")g&&(o=V(o,g));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function As(o){o.g=Le(()=>{o.g=null,o.i&&(o.i=!1,As(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ac extends nt{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(o){nt.call(this),this.h=o,this.g={}}Z(Ua,nt);var La=[];function za(o){qt(o.g,function(m,g){this.g.hasOwnProperty(g)&&on(m)},o),o.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),za(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=p.JSON.stringify,Ss=p.JSON.parse,Pa=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Or(){}Or.prototype.h=null;function Mr(o){return o.h||(o.h=o.i())}function xr(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){$.call(this,"d")}Z(_i,$);function Ur(){$.call(this,"c")}Z(Ur,$);var Fn={},Lr=null;function Fi(){return Lr=Lr||new ae}Fn.La="serverreachability";function bs(o){$.call(this,Fn.La,o)}Z(bs,$);function Ki(o){const m=Fi();wt(m,new bs(m))}Fn.STAT_EVENT="statevent";function lu(o,m){$.call(this,Fn.STAT_EVENT,o),this.stat=m}Z(lu,$);function se(o){const m=Fi();wt(m,new lu(m,o))}Fn.Ma="timingevent";function De(o,m){$.call(this,Fn.Ma,o),this.size=m}Z(De,$);function Ae(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function zr(o,m,g,T,L,j){o.info(function(){if(o.g)if(j)for(var W="",zt=j.split("&"),Ve=0;Ve<zt.length;Ve++){var Pt=zt[Ve].split("=");if(1<Pt.length){var Pe=Pt[0];Pt=Pt[1];var Ie=Pe.split("_");W=2<=Ie.length&&Ie[1]=="type"?W+(Pe+"="+Pt+"&"):W+(Pe+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+W})}function Sc(o,m,g,T,L,j,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+j+" "+W})}function Xi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ba(o,g)+(T?" "+T:"")})}function uu(o,m){o.info(function(){return"TIMEOUT: "+m})}Cn.prototype.info=function(){};function Ba(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return kn(g)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Xn(){}Z(Xn,Or),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Kn=new Xn;function sn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Pr={},Rs={};function jn(o,m,g){o.L=1,o.v=Ga(yn(m)),o.m=g,o.P=!0,Ei(o,null)}function Ei(o,m){o.F=Date.now(),ka(o),o.A=yn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Gr(g.i,"t",T),o.C=0,g=o.j.J,o.h=new pe,o.g=bu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new Ac(V(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(La[0]=L.toString()),L=La);for(var j=0;j<L.length;j++){var W=Yn(g,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ki(),zr(o.i,o.u,o.A,o.l,o.R,o.m)}sn.prototype.ca=function(o){o=o.target;const m=this.M;m&&Nn(o)==3?m.j():this.Y(o)},sn.prototype.Y=function(o){try{if(o==this.g)t:{const Ie=Nn(this.g);var m=this.g.Ba();const Di=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Ie!=4||m==7||(m==8||0>=Di?Ki(3):Ki(2)),$i(this);var g=this.g.Z();this.X=g;e:if(ou(this)){var T=pu(this.g);o="";var L=T.length,j=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),Zn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,Sc(this.i,this.u,this.A,this.l,this.R,Ie,g),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ve=this.g;if((zt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(zt)){var Pt=zt;break e}}Pt=null}if(g=Pt)Xi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,g);else{this.o=!1,this.s=3,se(12),Ge(this),Zn(this);break t}}if(this.P){g=!0;let Qe;for(;!this.J&&this.C<W.length;)if(Qe=cu(this,W),Qe==Rs){Ie==4&&(this.s=4,se(14),g=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Pr){this.s=4,se(15),Xi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Xi(this.i,this.l,Qe,null),ja(this,Qe);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||W.length!=0||this.h.h||(this.s=1,se(16),g=!1),this.o=this.o&&g,!g)Xi(this.i,this.l,W,"[Invalid Chunked Response]"),Ge(this),Zn(this);else if(0<W.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Ja(Pe),Pe.M=!0,se(11))}}else Xi(this.i,this.l,W,null),ja(this,W);Ie==4&&Ge(this),this.o&&!this.J&&(Ie==4?Tu(this.j,this):(this.o=!1,ka(this)))}else Dc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Ge(this),Zn(this)}}}catch{}finally{}};function ou(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function cu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Rs:(g=Number(m.substring(g,T)),isNaN(g)?Pr:(T+=1,T+g>m.length?Rs:(m=m.slice(T,T+g),o.C=T+g,m)))}sn.prototype.cancel=function(){this.J=!0,Ge(this)};function ka(o){o.S=Date.now()+o.I,hu(o,o.I)}function hu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ae(V(o.ba,o),m)}function $i(o){o.B&&(p.clearTimeout(o.B),o.B=null)}sn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(uu(this.i,this.A),this.L!=2&&(Ki(),se(17)),Ge(this),this.s=2,Zn(this)):hu(this,this.S-o)};function Zn(o){o.j.G==0||o.J||Tu(o.j,o)}function Ge(o){$i(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,za(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function ja(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Br(g.h,o))){if(!o.K&&Br(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)zs(g),Us(g);else break t;Xr(g),se(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ae(V(g.Za,g),6e3));if(1>=Cs(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ci(g,11)}else if((o.K||g.g==o)&&zs(g),!mt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];if(g.T=Pt[0],Pt=Pt[1],g.G==2)if(Pt[0]=="c"){g.K=Pt[1],g.ia=Pt[2];const Pe=Pt[3];Pe!=null&&(g.la=Pe,g.j.info("VER="+g.la));const Ie=Pt[4];Ie!=null&&(g.Aa=Ie,g.j.info("SVER="+g.Aa));const Di=Pt[5];Di!=null&&typeof Di=="number"&&0<Di&&(T=1.5*Di,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Qe=o.g;if(Qe){const ii=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var j=T.h;j.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ds(j,j.h),j.h=null))}if(T.D){const $r=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;$r&&(T.ya=$r,Jt(T.I,T.D,$r))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=Su(T,T.J?T.ia:null,T.W),W.K){rn(T.h,W);var zt=W,Ve=T.L;Ve&&(zt.I=Ve),zt.B&&($i(zt),ka(zt)),T.g=W}else vu(T);0<g.i.length&&Ls(g)}else Pt[0]!="stop"&&Pt[0]!="close"||Ci(g,7);else g.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ci(g,7):Fr(g):Pt[0]!="noop"&&g.l&&g.l.ta(Pt),g.v=0)}}Ki(4)}catch{}}var fu=class{constructor(o,m){this.g=o,this.map=m}};function Ti(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ws(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Cs(o){return o.h?1:o.g?o.g.size:0}function Br(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ds(o,m){o.g?o.g.add(m):o.h=m}function rn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ti.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function kr(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return at(o.i)}function bc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function Vs(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function jr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Vs(o),T=bc(o),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],g&&g[j],o)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var j=o[g].substring(0,T);L=o[g].substring(T+1)}else j=o[g];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Se(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Se){this.h=o.h,Ha(this,o.j),this.o=o.o,this.g=o.g,Ji(this,o.s),this.l=o.l;var m=o.i,g=new Si;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Ai(this,g),this.m=o.m}else o&&(m=String(o).match(qa))?(this.h=!1,Ha(this,m[1]||"",!0),this.o=Dn(m[2]||""),this.g=Dn(m[3]||"",!0),Ji(this,m[4]),this.l=Dn(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=Dn(m[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Se.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Qa(m,qr,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Qa(m,qr,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Qa(g,g.charAt(0)=="/"?wc:Hr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Qa(g,Is)),o.join("")};function yn(o){return new Se(o)}function Ha(o,m,g){o.j=g?Dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ji(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ai(o,m,g){m instanceof Si?(o.i=m,mu(o.i,o.h)):(g||(m=Qa(m,Cc)),o.i=new Si(m,o.h))}function Jt(o,m,g){o.i.set(m,g)}function Ga(o){return Jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Qa(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,du),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function du(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qr=/[#\/\?@]/g,Hr=/[#\?:]/g,wc=/[#\?]/g,Cc=/[#\?@]/g,Is=/#/g;function Si(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function Vn(o){o.g||(o.g=new Map,o.h=0,o.i&&Rc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}r=Si.prototype,r.add=function(o,m){Vn(this),this.i=null,o=$n(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function bi(o,m){Vn(o),m=$n(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Ri(o,m){return Vn(o),m=$n(o,m),o.g.has(m)}r.forEach=function(o,m){Vn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},r.na=function(){Vn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let j=0;j<L.length;j++)g.push(m[T])}return g},r.V=function(o){Vn(this);let m=[];if(typeof o=="string")Ri(this,o)&&(m=m.concat(this.g.get($n(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},r.set=function(o,m){return Vn(this),this.i=null,o=$n(this,o),Ri(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Gr(o,m,g){bi(o,m),0<g.length&&(o.i=null,o.g.set($n(o,m),at(g)),o.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function $n(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function mu(o,m){m&&!o.j&&(Vn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(bi(this,T),Gr(this,L,g))},o)),o.j=m}function Ya(o,m){const g=new Cn;if(p.Image){const T=new Image;T.onload=H(In,g,"TestLoadImage: loaded",!0,m,T),T.onerror=H(In,g,"TestLoadImage: error",!1,m,T),T.onabort=H(In,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(In,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function qn(o,m){const g=new Cn,T=new AbortController,L=setTimeout(()=>{T.abort(),In(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?In(g,"TestPingServer: ok",!0,m):In(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(g,"TestPingServer: error",!1,m)})}function In(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Fa(){this.g=new Pa}function Jn(o,m,g){const T=g||"";try{jr(o,function(L,j){let W=L;_(L)&&(W=kn(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Wi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Wi,Or),Wi.prototype.g=function(){return new wi(this.l,this.j)},Wi.prototype.i=function(o){return function(){return o}}({});function wi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(wi,ae),r=wi.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,ti(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Wn(this):ti(this),this.readyState==3&&Qr(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,Wn(this))},r.Qa=function(o){this.g&&(this.response=o,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ti(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function ti(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yr(o){let m="";return qt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function ze(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Yr(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Jt(o,m,g))}function Yt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Yt,ae);var Ns=/^https?$/i,Ka=["POST","PUT"];r=Yt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Mr(this.o):Mr(Kn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){gu(this,j);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ka,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of g)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){gu(this,j)}};function gu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Os(o),ei(o)}function Os(o){o.A||(o.A=!0,wt(o,"complete"),wt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,wt(this,"complete"),wt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ms(this):this.bb())},r.bb=function(){Ms(this)};function Ms(o){if(o.h&&typeof d<"u"&&(!o.v[1]||Nn(o)!=4||o.Z()!=2)){if(o.u&&Nn(o)==4)Le(o.Ea,0,o);else if(wt(o,"readystatechange"),Nn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var L=String(o.D).match(qa)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Ns.test(L?L.toLowerCase():"")}g=T}if(g)wt(o,"complete"),wt(o,"success");else{o.m=6;try{var j=2<Nn(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Os(o)}}finally{ei(o)}}}}function ei(o,m){if(o.g){Xa(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||wt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Xa(o){o.I&&(p.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function Nn(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ss(m)}};function pu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(o){const m={};o=(o.g&&2<=Nn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(mt(o[T]))continue;var g=M(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[L]||[];m[L]=j,j.push(g)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function xs(o){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,o),this.cb=Za("retryDelaySeedMs",1e4,o),this.Wa=Za("forwardChannelMaxRetries",2,o),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(o&&o.concurrentRequestLimit),this.Da=new Fa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xs.prototype,r.la=8,r.G=1,r.connect=function(o,m,g,T){se(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Su(this,null,this.W),Ls(this)};function Fr(o){if(yu(o),o.G==3){var m=o.U++,g=yn(o.I);if(Jt(g,"SID",o.K),Jt(g,"RID",m),Jt(g,"TYPE","terminate"),$a(o,g),m=new sn(o,o.j,m),m.L=2,m.v=Ga(yn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ka(m)}Au(o)}function Us(o){o.g&&(Ja(o),o.g.cancel(),o.g=null)}function yu(o){Us(o),o.u&&(p.clearTimeout(o.u),o.u=null),zs(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ls(o){if(!ws(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||C(),ot||(et(),ot=!0),Ht.add(m,o),o.B=0}}function Vc(o,m){return Cs(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ae(V(o.Ga,o,m),Zr(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new sn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=_u(this,L,m),g=yn(this.I),Jt(g,"RID",o),Jt(g,"CVER",22),this.D&&Jt(g,"X-HTTP-Session-Id",this.D),$a(this,g),j&&(this.O?m="headers="+encodeURIComponent(String(Yr(j)))+"&"+m:this.m&&ze(g,this.m,j)),Ds(this.h,L),this.Ua&&Jt(g,"TYPE","init"),this.P?(Jt(g,"$req",m),Jt(g,"SID","null"),L.T=!0,jn(L,g,null)):jn(L,g,m),this.G=2}}else this.G==3&&(o?Kr(this,o):this.i.length==0||ws(this.h)||Kr(this))};function Kr(o,m){var g;m?g=m.l:g=o.U++;const T=yn(o.I);Jt(T,"SID",o.K),Jt(T,"RID",g),Jt(T,"AID",o.T),$a(o,T),o.m&&o.o&&ze(T,o.m,o.o),g=new sn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=_u(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ds(o.h,g),jn(g,T,m)}function $a(o,m){o.H&&qt(o.H,function(g,T){Jt(m,T,g)}),o.l&&jr({},function(g,T){Jt(m,T,g)})}function _u(o,m,g){g=Math.min(o.i.length,g);var T=o.l?V(o.l.Na,o.l,o):null;t:{var L=o.i;let j=-1;for(;;){const W=["count="+g];j==-1?0<g?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let zt=!0;for(let Ve=0;Ve<g;Ve++){let Pt=L[Ve].g;const Pe=L[Ve].map;if(Pt-=j,0>Pt)j=Math.max(0,L[Ve].g-100),zt=!1;else try{Jn(Pe,W,"req"+Pt+"_")}catch{T&&T(Pe)}}if(zt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function vu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||C(),ot||(et(),ot=!0),Ht.add(m,o),o.v=0}}function Xr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ae(V(o.Fa,o),Zr(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ae(V(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Us(this),Eu(this))};function Ja(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Eu(o){o.g=new sn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=yn(o.qa);Jt(m,"RID","rpc"),Jt(m,"SID",o.K),Jt(m,"AID",o.T),Jt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Jt(m,"TO",o.ja),Jt(m,"TYPE","xmlhttp"),$a(o,m),o.m&&o.o&&ze(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Ga(yn(m)),g.m=null,g.P=!0,Ei(g,o)}r.Za=function(){this.C!=null&&(this.C=null,Us(this),Xr(this),se(19))};function zs(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Tu(o,m){var g=null;if(o.g==m){zs(o),Ja(o),o.g=null;var T=2}else if(Br(o.h,m))g=m.D,rn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Fi(),wt(T,new De(T,g)),Ls(o)}else vu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Vc(o,m)||T==2&&Xr(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:Ci(o,5);break;case 4:Ci(o,10);break;case 3:Ci(o,6);break;default:Ci(o,2)}}}function Zr(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function Ci(o,m){if(o.j.info("Error code "+m),m==2){var g=V(o.fb,o),T=o.Xa;const L=!T;T=new Se(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ha(T,"https"),Ga(T),L?Ya(T.toString(),g):qn(T.toString(),g)}else se(2);o.G=0,o.l&&o.l.sa(m),Au(o),yu(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Au(o){if(o.G=0,o.ka=[],o.l){const m=kr(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,at(o.i),o.i.length=0),o.l.ra()}}function Su(o,m,g){var T=g instanceof Se?yn(g):new Se(g);if(T.g!="")m&&(T.g=m+"."+T.g),Ji(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new Se(null);T&&Ha(j,T),m&&(j.g=m),L&&Ji(j,L),g&&(j.l=g),T=j}return g=o.D,m=o.ya,g&&m&&Jt(T,g,m),Jt(T,"VER",o.la),$a(o,T),T}function bu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Yt(new Wi({eb:g})):new Yt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ps(){}Ps.prototype.g=function(o,m){return new ln(o,m)};function ln(o,m){ae.call(this),this.g=new xs(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!mt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new ni(this)}Z(ln,ae),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Fr(this.g)},ln.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=kn(o),o=g);m.i.push(new fu(m.Ya++,o)),m.G==3&&Ls(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Fr(this.g),delete this.g,ln.aa.N.call(this)};function wu(o){_i.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(wu,_i);function Cu(){Ur.call(this),this.status=1}Z(Cu,Ur);function ni(o){this.g=o}Z(ni,Ru),ni.prototype.ua=function(){wt(this.g,"a")},ni.prototype.ta=function(o){wt(this.g,new wu(o))},ni.prototype.sa=function(o){wt(this.g,new Cu)},ni.prototype.ra=function(){wt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,M_=function(){return new Ps},O_=function(){return Fi()},N_=Fn,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,zo=Zi,vi.COMPLETE="complete",I_=vi,xr.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Bl=xr,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,V_=Yt}).apply(typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",Ay="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new A_("@firebase/firestore");function dr(){return ps.logLevel}function st(r,...e){if(ps.logLevel<=jt.DEBUG){const i=e.map(od);ps.debug(`Firestore (${Cr}): ${r}`,...i)}}function Qi(r,...e){if(ps.logLevel<=jt.ERROR){const i=e.map(od);ps.error(`Firestore (${Cr}): ${r}`,...i)}}function vr(r,...e){if(ps.logLevel<=jt.WARN){const i=e.map(od);ps.warn(`Firestore (${Cr}): ${r}`,...i)}}function od(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,x_(r,s,i)}function x_(r,e,i){let s=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Ft(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||x_(e,u,s)}function Rt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends wr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(en.UNAUTHENTICATED))}shutdown(){}}class I1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class N1{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new U_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class O1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new O1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=U1(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Hf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Nt(s,u);{const h=L_(),d=L1(h.encode(by(r,i)),h.encode(by(e,i)));return d!==0?d:Nt(s,u)}}i+=s>65535?2:1}return Nt(r.length,e.length)}function by(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function L1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Nt(r[i],e[i]);return Nt(r.length,e.length)}function Er(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,wy=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*wy);return new xe(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ry)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new xe(0,0))}static max(){return new bt(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class oi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=oi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=oi.isNumericId(e),u=oi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?oi.extractNumericId(e).compare(oi.extractNumericId(i)):Hf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class le extends oi{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new le(i)}static emptyPath(){return new le([])}}const z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends oi{construct(e,i,s){return new Ze(e,i,s)}static isValidIdentifier(e){return z1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Ze([Cy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(s+=p,u++):(h(),u++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(le.fromString(e))}static fromName(e){return new gt(le.fromString(e).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function P1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=bt.fromTimestamp(s===1e9?new xe(i+1,0):new xe(i,s));return new wa(u,gt.empty(),e)}function B1(r){return new wa(r.readTime,r.key,Zl)}class wa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wa(bt.min(),gt.empty(),Zl)}static max(){return new wa(bt.max(),gt.empty(),Zl)}}function k1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==j1)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,s)=>{i(e)})}static reject(e){return new F((i,s)=>{s(e)})}static waitFor(e){return new F((i,s)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>s(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const s of e)i=i.next(u=>u?F.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new F((s,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new F((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function H1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function rc(r){return r==null}function Fo(r){return r===0&&1/r==-1/0}function G1(r){return typeof r=="number"&&Number.isInteger(r)&&!Fo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="";function Q1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Dy(e)),e=Y1(r.get(i),e);return Dy(e)}function Y1(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case P_:i+="";break;default:i+=h}}return i}function Dy(r){return r+P_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Oa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function B_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.comparator=e,this.root=i||Xe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Xe.RED,this.left=u??Xe.EMPTY,this.right=h??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Xe(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Xe.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new Xe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ue(this.comparator);return i.data=e,i}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Rn([])}unionWith(e){let i=new Ue(Ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Rn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Er(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new k_("Invalid base64 string: "+h):h}}(e);return new $e(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new $e(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const F1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=F1.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Da(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="server_timestamp",q_="__type__",H_="__previous_value__",G_="__local_write_time__";function hd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[q_])===null||i===void 0?void 0:i.stringValue)===j_}function lc(r){const e=r.mapValue.fields[H_];return hd(e)?lc(e):e}function $l(r){const e=Ca(r.mapValue.fields[G_].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i,s,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ko="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Ko}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ko}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__type__",X1="__max__",No={mapValue:{}},Y_="__vector__",Xo="value";function Va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hd(r)?4:$1(r)?9007199254740991:Z1(r)?10:11:Tt(28295,{value:r})}function di(r,e){if(r===e)return!0;const i=Va(r);if(i!==Va(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ca(u.timestampValue),p=Ca(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,h){return Da(u.bytesValue).isEqual(Da(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,h){return Ee(u.geoPointValue.latitude)===Ee(h.geoPointValue.latitude)&&Ee(u.geoPointValue.longitude)===Ee(h.geoPointValue.longitude)}(r,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return Ee(u.integerValue)===Ee(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=Ee(u.doubleValue),p=Ee(h.doubleValue);return d===p?Fo(d)===Fo(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return Er(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Vy(d)!==Vy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!di(d[v],p[v])))return!1;return!0}(r,e);default:return Tt(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find(i=>di(i,e))!==void 0}function Tr(r,e){if(r===e)return 0;const i=Va(r),s=Va(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const p=Ee(h.integerValue||h.doubleValue),v=Ee(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(r,e);case 3:return Ny(r.timestampValue,e.timestampValue);case 4:return Ny($l(r),$l(e));case 5:return Hf(r.stringValue,e.stringValue);case 6:return function(h,d){const p=Da(h),v=Da(d);return p.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Nt(p[_],v[_]);if(A!==0)return A}return Nt(p.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Nt(Ee(h.latitude),Ee(d.latitude));return p!==0?p:Nt(Ee(h.longitude),Ee(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Oy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const I=h.fields||{},V=d.fields||{},H=(p=I[Xo])===null||p===void 0?void 0:p.arrayValue,Z=(v=V[Xo])===null||v===void 0?void 0:v.arrayValue,at=Nt(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return at!==0?at:Oy(H,Z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===No.mapValue&&d===No.mapValue)return 0;if(h===No.mapValue)return 1;if(d===No.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let I=0;I<v.length&&I<A.length;++I){const V=Hf(v[I],A[I]);if(V!==0)return V;const H=Tr(p[v[I]],_[A[I]]);if(H!==0)return H}return Nt(v.length,A.length)}(r.mapValue,e.mapValue);default:throw Tt(23264,{Pe:i})}}function Ny(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Ca(r),s=Ca(e),u=Nt(i.seconds,s.seconds);return u!==0?u:Nt(i.nanos,s.nanos)}function Oy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Tr(i[u],s[u]);if(h)return h}return Nt(i.length,s.length)}function Ar(r){return Gf(r)}function Gf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ca(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Da(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Gf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Gf(i.fields[d])}`;return u+"}"}(r.mapValue):Tt(61005,{value:r})}function Po(r){switch(Va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(r);return e?16+Po(e):16;case 5:return 2*r.stringValue.length;case 6:return Da(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Po(h),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return Oa(s.fields,(h,d)=>{u+=h.length+Po(d)}),u}(r.mapValue);default:throw Tt(13486,{value:r})}}function Qf(r){return!!r&&"integerValue"in r}function fd(r){return!!r&&"arrayValue"in r}function My(r){return!!r&&"nullValue"in r}function xy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bo(r){return!!r&&"mapValue"in r}function Z1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q_])===null||i===void 0?void 0:i.stringValue)===Y_}function Gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Oa(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function $1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===X1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Bo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Ze.emptyPath(),s={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=p.popLast()}d?s[p.lastSegment()]=Gl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Bo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Bo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Oa(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new gn(Gl(this.value))}}function F_(r){const e=[];return Oa(r.fields,(i,s)=>{const u=new Ze([i]);if(Bo(s)){const h=F_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,i,s,u,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,bt.min(),bt.min(),bt.min(),gn.empty(),0)}static newFoundDocument(e,i,s,u){return new nn(e,1,i,bt.min(),s,u,0)}static newNoDocument(e,i){return new nn(e,2,i,bt.min(),bt.min(),gn.empty(),0)}static newUnknownDocument(e,i){return new nn(e,3,i,bt.min(),bt.min(),gn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.position=e,this.inclusive=i}}function Uy(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Tr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ly(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!di(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i="asc"){this.field=e,this.dir=i}}function J1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class Me extends K_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new tA(e,i,s):i==="array-contains"?new iA(e,s):i==="in"?new aA(e,s):i==="not-in"?new sA(e,s):i==="array-contains-any"?new rA(e,s):new Me(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new eA(e,s):new nA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Tr(i,this.value)):i!==null&&Va(this.value)===Va(i)&&this.matchesComparison(Tr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends K_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new mi(e,i)}matches(e){return X_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function X_(r){return r.op==="and"}function Z_(r){return W1(r)&&X_(r)}function W1(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function Yf(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Ar(r.value);if(Z_(r))return r.filters.map(e=>Yf(e)).join(",");{const e=r.filters.map(i=>Yf(i)).join(",");return`${r.op}(${e})`}}function $_(r,e){return r instanceof Me?function(s,u){return u instanceof Me&&s.op===u.op&&s.field.isEqual(u.field)&&di(s.value,u.value)}(r,e):r instanceof mi?function(s,u){return u instanceof mi&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,p)=>h&&$_(d,u.filters[p]),!0):!1}(r,e):void Tt(19439)}function J_(r){return r instanceof Me?function(i){return`${i.field.canonicalString()} ${i.op} ${Ar(i.value)}`}(r):r instanceof mi?function(i){return i.op.toString()+" {"+i.getFilters().map(J_).join(" ,")+"}"}(r):"Filter"}class tA extends Me{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class eA extends Me{constructor(e,i){super(e,"in",i),this.keys=W_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class nA extends Me{constructor(e,i){super(e,"not-in",i),this.keys=W_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function W_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class iA extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fd(i)&&Wl(i.arrayValue,this.value)}}class aA extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class sA extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class rA extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i=null,s=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function zy(r,e=null,i=[],s=[],u=null,h=null,d=null){return new lA(r,e,i,s,u,h,d)}function dd(r){const e=Rt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Yf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ar(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ar(s)).join(",")),e.Ie=i}return e.Ie}function md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!J1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ly(r.startAt,e.startAt)&&Ly(r.endAt,e.endAt)}function Ff(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i=null,s=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uA(r,e,i,s,u,h,d,p){return new uc(r,e,i,s,u,h,d,p)}function gd(r){return new uc(r)}function Py(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oA(r){return r.collectionGroup!==null}function Ql(r){const e=Rt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Ze.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new $o(h,s))}),i.has(Ze.keyField().canonicalString())||e.Ee.push(new $o(Ze.keyField(),s))}return e.Ee}function ci(r){const e=Rt(r);return e.de||(e.de=cA(e,Ql(r))),e.de}function cA(r,e){if(r.limitType==="F")return zy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new $o(u.field,h)});const i=r.endAt?new Zo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zo(r.startAt.position,r.startAt.inclusive):null;return zy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Kf(r,e,i){return new uc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function oc(r,e){return md(ci(r),ci(e))&&r.limitType===e.limitType}function tv(r){return`${dd(ci(r))}|lt:${r.limitType}`}function mr(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>J_(u)).join(", ")}]`),rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Ar(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Ar(u)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function cc(r,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,u){for(const h of Ql(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,p,v){const _=Uy(d,p,v);return d.inclusive?_<=0:_<0}(s.startAt,Ql(s),u)||s.endAt&&!function(d,p,v){const _=Uy(d,p,v);return d.inclusive?_>=0:_>0}(s.endAt,Ql(s),u))}(r,e)}function hA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ev(r){return(e,i)=>{let s=!1;for(const u of Ql(r)){const h=fA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function fA(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Tr(v,_):Tt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new ce(gt.comparator);function Yi(){return dA}const nv=new ce(gt.comparator);function kl(...r){let e=nv;for(const i of r)e=e.insert(i.key,i);return e}function iv(r){let e=nv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function gs(){return Yl()}function av(){return Yl()}function Yl(){return new _s(r=>r.toString(),(r,e)=>r.isEqual(e))}const mA=new ce(gt.comparator),gA=new Ue(gt.comparator);function Ut(...r){let e=gA;for(const i of r)e=e.add(i);return e}const pA=new Ue(Nt);function yA(){return pA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fo(e)?"-0":e}}function sv(r){return{integerValue:""+r}}function _A(r,e){return G1(e)?sv(e):pd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function vA(r,e,i){return r instanceof Jo?function(u,h){const d={fields:{[q_]:{stringValue:j_},[G_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&hd(h)&&(h=lc(h)),h&&(d.fields[H_]=h),{mapValue:d}}(i,e):r instanceof tu?lv(r,e):r instanceof eu?uv(r,e):function(u,h){const d=rv(u,h),p=By(d)+By(u.Re);return Qf(d)&&Qf(u.Re)?sv(p):pd(u.serializer,p)}(r,e)}function EA(r,e,i){return r instanceof tu?lv(r,e):r instanceof eu?uv(r,e):i}function rv(r,e){return r instanceof Wo?function(s){return Qf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Jo extends hc{}class tu extends hc{constructor(e){super(),this.elements=e}}function lv(r,e){const i=ov(e);for(const s of r.elements)i.some(u=>di(u,s))||i.push(s);return{arrayValue:{values:i}}}class eu extends hc{constructor(e){super(),this.elements=e}}function uv(r,e){let i=ov(e);for(const s of r.elements)i=i.filter(u=>!di(u,s));return{arrayValue:{values:i}}}class Wo extends hc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function By(r){return Ee(r.integerValue||r.doubleValue)}function ov(r){return fd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TA(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof tu&&u instanceof tu||s instanceof eu&&u instanceof eu?Er(s.elements,u.elements,di):s instanceof Wo&&u instanceof Wo?di(s.Re,u.Re):s instanceof Jo&&u instanceof Jo}(r.transform,e.transform)}class AA{constructor(e,i){this.version=e,this.transformResults=i}}class wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ko(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fc{}function cv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yd(r.key,wn.none()):new nu(r.key,r.data,wn.none());{const i=r.data,s=gn.empty();let u=new Ue(Ze.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Ma(r.key,s,new Rn(u.toArray()),wn.none())}}function SA(r,e,i){r instanceof nu?function(u,h,d){const p=u.value.clone(),v=jy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):r instanceof Ma?function(u,h,d){if(!ko(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=jy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(hv(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,s){return r instanceof nu?function(h,d,p,v){if(!ko(h.precondition,d))return p;const _=h.value.clone(),A=qy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ma?function(h,d,p,v){if(!ko(h.precondition,d))return p;const _=qy(h.fieldTransforms,v,d),A=d.data;return A.setAll(hv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(r,e,i,s):function(h,d,p){return ko(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,i)}function bA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=rv(s.transform,u||null);h!=null&&(i===null&&(i=gn.empty()),i.set(s.field,h))}return i||null}function ky(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Er(s,u,(h,d)=>TA(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends fc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ma extends fc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function jy(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,p=e.data.field(h.field);s.set(h.field,EA(d,p,i[u]))}return s}function qy(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,vA(h,d,e))}return s}class yd extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RA extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&SA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=av();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=cv(d,p);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Er(this.mutations,e.mutations,(i,s)=>ky(i,s))&&Er(this.baseMutations,e.baseMutations,(i,s)=>ky(i,s))}}class _d{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return mA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new _d(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,kt;function VA(r){switch(r){case X.OK:return Tt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function fv(r){if(r===void 0)return Qi("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return Tt(39323,{code:r})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new ba([4294967295,4294967295],0);function Hy(r){const e=L_().encode(r),i=new D_;return i.update(e),new Uint8Array(i.digest())}function Gy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ba([i,s],0),new ba([u,h],0)]}class vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ba.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(ba.fromNumber(s)));return u.compare(IA)===1&&(u=new ba([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Hy(e),[s,u]=Gy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new vd(h,u,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Hy(e),[s,u]=Gy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new dc(bt.min(),u,new ce(Nt),Yi(),Ut())}}class iu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new iu(s,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class dv{constructor(e,i){this.targetId=e,this.Ce=i}}class mv{constructor(e,i,s=$e.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Qy{constructor(){this.Fe=0,this.Me=Yy(),this.xe=$e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ut(),i=Ut(),s=Ut();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Tt(38017,{changeType:h})}}),new iu(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=Yy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NA{constructor(e){this.ze=e,this.je=new Map,this.He=Yi(),this.Je=Oo(),this.Ye=Oo(),this.Ze=new ce(Nt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Ff(h))if(s===0){const d=new gt(h.path);this.tt(i,d,nn.newNoDocument(d,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const p=this.ct(e),v=p?this.lt(p,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=Da(s).toUint8Array()}catch(v){if(v instanceof k_)return vr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new vd(d,u,h)}catch(v){return vr(v instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&Ff(p.target)){const v=new gt(p.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,nn.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Ut();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new dc(e,i,this.Ze,this.He,s);return this.He=Yi(),this.Je=Oo(),this.Ye=Oo(),this.Ze=new ce(Nt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Qy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Ue(Nt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Ue(Nt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Qy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Oo(){return new ce(gt.comparator)}function Yy(){return new ce(gt.comparator)}const OA={asc:"ASCENDING",desc:"DESCENDING"},MA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class UA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Xf(r,e){return r.useProto3Json||rc(e)?e:{value:e}}function tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LA(r,e){return tc(r,e.toTimestamp())}function hi(r){return Ft(!!r,49232),bt.fromTimestamp(function(i){const s=Ca(i);return new xe(s.seconds,s.nanos)}(r))}function Ed(r,e){return Zf(r,e).canonicalString()}function Zf(r,e){const i=function(u){return new le(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function pv(r){const e=le.fromString(r);return Ft(Tv(e),10190,{key:e.toString()}),e}function $f(r,e){return Ed(r.databaseId,e.path)}function Nf(r,e){const i=pv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(_v(i))}function yv(r,e){return Ed(r.databaseId,e)}function zA(r){const e=pv(r);return e.length===4?le.emptyPath():_v(e)}function Jf(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _v(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Fy(r,e,i){return{name:$f(r,e),fields:i.value.mapValue.fields}}function PA(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),$e.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$e.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?X.UNKNOWN:fv(_.code);return new ut(A,_.message||"")}(d);i=new mv(s,u,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Nf(r,s.document.name),h=hi(s.document.updateTime),d=s.document.createTime?hi(s.document.createTime):bt.min(),p=new gn({mapValue:{fields:s.document.fields}}),v=nn.newFoundDocument(u,h,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new jo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Nf(r,s.document),h=s.readTime?hi(s.readTime):bt.min(),d=nn.newNoDocument(u,h),p=s.removedTargetIds||[];i=new jo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Nf(r,s.document),h=s.removedTargetIds||[];i=new jo([],h,u,null)}else{if(!("filter"in e))return Tt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new DA(u,h),p=s.targetId;i=new dv(p,d)}}return i}function BA(r,e){let i;if(e instanceof nu)i={update:Fy(r,e.key,e.value)};else if(e instanceof yd)i={delete:$f(r,e.key)};else if(e instanceof Ma)i={update:Fy(r,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof RA))return Tt(16599,{ft:e.type});i={verify:$f(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const p=d.transform;if(p instanceof Jo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw Tt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:LA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Tt(27497)}(r,e.precondition)),i}function kA(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map(i=>function(u,h){let d=u.updateTime?hi(u.updateTime):hi(h);return d.isEqual(bt.min())&&(d=hi(h)),new AA(d,u.transformResults||[])}(i,e))):[]}function jA(r,e){return{documents:[yv(r,e.path)]}}function qA(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=yv(r,u);const h=function(_){if(_.length!==0)return Ev(mi.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(V){return{field:gr(V.field),direction:QA(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xf(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function HA(r){let e=zA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const V=vv(I);return V instanceof mi&&Z_(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(V=>function(Z){return new $o(pr(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let p=null;i.limit&&(p=function(I){let V;return V=typeof I=="object"?I.value:I,rc(V)?null:V}(i.limit));let v=null;i.startAt&&(v=function(I){const V=!!I.before,H=I.values||[];return new Zo(H,V)}(i.startAt));let _=null;return i.endAt&&(_=function(I){const V=!I.before,H=I.values||[];return new Zo(H,V)}(i.endAt)),uA(e,u,d,h,p,"F",v,_)}function GA(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=pr(i.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=pr(i.unaryFilter.field);return Me.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=pr(i.unaryFilter.field);return Me.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pr(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Me.create(pr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return mi.create(i.compositeFilter.filters.map(s=>vv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(r):Tt(30097,{filter:r})}function QA(r){return OA[r]}function YA(r){return MA[r]}function FA(r){return xA[r]}function gr(r){return{fieldPath:r.canonicalString()}}function pr(r){return Ze.fromServerFormat(r.fieldPath)}function Ev(r){return r instanceof Me?function(i){if(i.op==="=="){if(xy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NAN"}};if(My(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NAN"}};if(My(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(i.field),op:YA(i.op),value:i.value}}}(r):r instanceof mi?function(i){const s=i.getFilters().map(u=>Ev(u));return s.length===1?s[0]:{compositeFilter:{op:FA(i.op),filters:s}}}(r):Tt(54877,{filter:r})}function KA(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Tv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i,s,u,h=bt.min(),d=bt.min(),p=$e.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.wt=e}}function ZA(r){const e=HA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.Cn=new JA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(wa.min())}updateCollectionGroup(e,i,s){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class JA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ue(le.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ue(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Av=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Av,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Sr(0)}static lr(){return new Sr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LruGarbageCollector",WA=1048576;function Zy([r,e],[i,s]){const u=Nt(r,i);return u===0?Nt(e,s):u}class tS{constructor(e){this.Er=e,this.buffer=new Ue(Zy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Zy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){st(Xy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vr(i)?st(Xy,"Ignoring IndexedDB error during garbage collection: ",i):await Dr(i)}await this.mr(3e5)})}}class nS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return F.resolve(sc.le);const s=new tS(i);return this.gr.forEachTarget(e,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ky)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(s=I,p=Date.now(),this.removeTargets(e,s,i))).next(I=>(h=I,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(_=Date.now(),dr()<=jt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${I} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function iS(r,e){return new nS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.changes=new _s(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?F.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Fl(s.mutation,u,Rn.empty(),xe.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ut()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ut()){const u=gs();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=kl();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=gs();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ut()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,u){let h=Yi();const d=Yl(),p=function(){return Yl()}();return i.forEach((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ma)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),xe.now())):d.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var I;return p.set(_,new sS(A,(I=d.get(_))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,i){const s=Yl();let u=new ce((d,p)=>d-p),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Rn.empty();A=p.applyToLocalView(_,A),s.set(v,A);const I=(u.get(p.batchId)||Ut()).add(v);u=u.insert(p.batchId,I)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,I=av();A.forEach(V=>{if(!h.has(V)){const H=cv(i.get(V),s.get(V));H!==null&&I.set(V,H),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,I))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):oA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):F.resolve(gs());let p=Zl,v=h;return d.next(_=>F.forEach(_,(A,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{v=v.insert(A,V)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ut())).next(A=>({batchId:p,changes:iv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let u=kl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(I,V){return new uc(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next(A=>{A.forEach((I,V)=>{d=d.insert(I,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,nn.newInvalidDocument(A)))});let p=kl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Rn.empty(),xe.now()),cc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:hi(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:ZA(u.bundledQuery),readTime:hi(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.overlays=new ce(gt.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const s=gs();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Qr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),F.resolve()}getOverlaysForCollection(e,i,s){const u=gs(),h=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ce((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=gs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=gs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}bt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new CA(i,s));let h=this.Qr.get(i);h===void 0&&(h=Ut(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.$r=new Ue(qe.Ur),this.Kr=new Ue(qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new qe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new qe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new gt(new le([])),s=new qe(i,e),u=new qe(i,e+1),h=[];return this.Kr.forEachInRange([s,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new gt(new le([])),s=new qe(i,e),u=new qe(i,e+1);let h=Ut();return this.Kr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new qe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class qe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return gt.comparator(e.key,i.key)||Nt(e.Zr,i.Zr)}static Wr(e,i){return Nt(e.Zr,i.Zr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Ue(qe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wA(h,i,s,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new qe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ti(s),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?cd:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new qe(i,0),u=new qe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ue(Nt);return i.forEach(u=>{const h=new qe(u,0),d=new qe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{s=s.add(p.Zr)})}),F.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new qe(new gt(h),0);let p=new Ue(Nt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(s=>{const u=this.ei(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ft(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return F.forEach(i.mutations,u=>{const h=new qe(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new qe(i,0),u=this.Xr.firstAfterOrEqual(s);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.ii=e,this.docs=function(){return new ce(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return F.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(e,i){let s=Yi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():nn.newInvalidDocument(u))}),F.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Yi();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k1(B1(A),s)<=0||(u.has(A.key)||cc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,s,u){Tt(9500)}si(e,i){return F.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new fS(this)}getSize(e){return F.resolve(this.size)}}class fS extends aS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(s)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.persistence=e,this.oi=new _s(i=>dd(i),md),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this._i=0,this.ai=new Td,this.targetCount=0,this.ui=Sr.cr()}forEachTarget(e,i){return this.oi.forEach((s,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Sr(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return F.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),F.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return F.resolve(s)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.ci={},this.overlays={},this.li=new sc(0),this.hi=!1,this.hi=!0,this.Pi=new oS,this.referenceDelegate=e(this),this.Ti=new dS(this),this.indexManager=new $A,this.remoteDocumentCache=function(u){return new hS(u)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new XA(i),this.Ei=new lS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new cS(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const u=new mS(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class mS extends q1{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.Vi=new Td,this.mi=null}static fi(e){return new Ad(e)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),F.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,s=>{const u=gt.fromPath(s);return this.pi(e,u).next(h=>{h||i.removeEntry(u,bt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class ec{constructor(e,i){this.persistence=e,this.yi=new _s(s=>Q1(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=iS(this,i)}static fi(e,i){return new ec(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(s,u)=>this.Dr(e,s,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(s++,h.removeEntry(d,bt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Po(e.data.value)),i}Dr(e,i,s){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ds=s,this.As=u}static Rs(e,i){let s=Ut(),u=Ut();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Sd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oT()?8:H1(lT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new gS;return this.bs(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,s,u){return s.documentReadCount<this.gs?(dr()<=jt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",mr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(dr()<=jt.DEBUG&&st("QueryEngine","Query:",mr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(dr()<=jt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",mr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(i))):F.resolve())}ws(e,i){if(Py(i))return F.resolve(null);let s=ci(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Kf(i,null,"F"),s=ci(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ut(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,p);return this.Cs(i,_,d,v.readTime)?this.ws(e,Kf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,s,u){return Py(i)||u.isEqual(bt.min())?F.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,u)?F.resolve(null):(dr()<=jt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),mr(i)),this.Fs(e,d,i,P1(u,Zl)).next(p=>p))})}vs(e,i){let s=new Ue(ev(e));return i.forEach((u,h)=>{cc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,s){return dr()<=jt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",mr(i)),this.ys.getDocumentsMatchingQuery(e,i,wa.min(),s)}Fs(e,i,s,u){return this.ys.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="LocalStore",yS=3e8;class _S{constructor(e,i,s,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ce(Nt),this.Os=new _s(h=>dd(h),md),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function vS(r,e,i,s){return new _S(r,e,i,s)}async function bv(r,e){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],p=[];let v=Ut();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:p}))})})}function ES(r,e){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const I=_.batch,V=I.keys();let H=F.resolve();return V.forEach(Z=>{H=H.next(()=>A.getEntry(v,Z)).next(at=>{const J=_.docVersions.get(Z);Ft(J!==null,48541),at.version.compareTo(J)<0&&(I.applyToRemoteDocument(at,_),at.isValidDocument()&&(at.setReadTime(_.commitVersion),A.addEntry(at)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(v,I))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let v=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Rv(r){const e=Rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function TS(r,e){const i=Rt(r),s=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,I)=>{const V=u.get(I);if(!V)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,I)));let H=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?H=H.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),u=u.insert(I,H),function(at,J,Vt){return at.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=yS?!0:Vt.addedDocuments.size+Vt.modifiedDocuments.size+Vt.removedDocuments.size>0}(V,H,A)&&p.push(i.Ti.updateTargetData(h,H))});let v=Yi(),_=Ut();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(AS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(bt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(I=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function AS(r,e,i){let s=Ut(),u=Ut();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Yi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):st(bd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function SS(r,e){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bS(r,e){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(s).next(d=>(u=new Ta(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function Wf(r,e,i){const s=Rt(r),u=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Vr(d))throw d;st(bd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(u.target)}function $y(r,e,i){const s=Rt(r);let u=bt.min(),h=Ut();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const I=Rt(v),V=I.Os.get(A);return V!==void 0?F.resolve(I.xs.get(V)):I.Ti.getTargetData(_,A)}(s,d,ci(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?u:bt.min(),i?h:Ut())).next(p=>(RS(s,hA(e),p),{documents:p,$s:h})))}function RS(r,e,i){let s=r.Ns.get(e)||bt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class Jy{constructor(){this.activeTargetIds=yA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wS{constructor(){this.xo=new Jy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="ConnectivityMonitor";class t_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){st(Wy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){st(Wy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=null;function td(){return Mo===null?Mo=function(){return 268435456+Math.round(2147483648*Math.random())}():Mo++,"0x"+Mo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="RestConnection",DS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===Ko?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(e,i,s,u,h){const d=td(),p=this.jo(e,i.toUriEncodedString());st(Of,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(p),A=ld(_);return this.Jo(e,p,v,s,A).then(I=>(st(Of,`Received RPC '${e}' ${d}: `,I),I),I=>{throw vr(Of,`RPC '${e}' ${d} failed with error: `,I,"url: ",p,"request:",s),I})}Yo(e,i,s,u,h,d){return this.zo(e,i,s,u,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const s=DS[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class NS extends VS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=td();return new Promise((p,v)=>{const _=new V_;_.setWithCredentials(!0),_.listenOnce(I_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zo.NO_ERROR:const I=_.getResponseJson();st(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),p(I);break;case zo.TIMEOUT:st(tn,`RPC '${e}' ${d} timed out`),v(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:const V=_.getStatus();if(st(tn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H==null?void 0:H.error;if(Z&&Z.status&&Z.message){const at=function(Vt){const mt=Vt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN}(Z.status);v(new ut(at,Z.message))}else v(new ut(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(X.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(tn,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);st(tn,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)})}T_(e,i,s){const u=td(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=M_(),p=O_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");st(tn,`Creating RPC '${e}' stream ${u}: ${A}`,v);const I=d.createWebChannel(A,v);let V=!1,H=!1;const Z=new IS({Zo:J=>{H?st(tn,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(V||(st(tn,`Opening RPC '${e}' stream ${u} transport.`),I.open(),V=!0),st(tn,`RPC '${e}' stream ${u} sending:`,J),I.send(J))},Xo:()=>I.close()}),at=(J,Vt,mt)=>{J.listen(Vt,dt=>{try{mt(dt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return at(I,Bl.EventType.OPEN,()=>{H||(st(tn,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),at(I,Bl.EventType.CLOSE,()=>{H||(H=!0,st(tn,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),at(I,Bl.EventType.ERROR,J=>{H||(H=!0,vr(tn,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),at(I,Bl.EventType.MESSAGE,J=>{var Vt;if(!H){const mt=J.data[0];Ft(!!mt,16349);const dt=mt,Lt=(dt==null?void 0:dt.error)||((Vt=dt[0])===null||Vt===void 0?void 0:Vt.error);if(Lt){st(tn,`RPC '${e}' stream ${u} received error:`,Lt);const St=Lt.status;let qt=function(w){const N=we[w];if(N!==void 0)return fv(N)}(St),O=Lt.message;qt===void 0&&(qt=X.INTERNAL,O="Unknown error status: "+St+" with message "+Lt.message),H=!0,Z.u_(new ut(qt,O)),I.close()}else st(tn,`RPC '${e}' stream ${u} received:`,mt),Z.c_(mt)}}),at(p,N_.STAT_EVENT,J=>{J.stat===qf.PROXY?st(tn,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===qf.NOPROXY&&st(tn,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r){return new UA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class Cv{constructor(e,i,s,u,h,d,p,v){this.xi=e,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new wv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{e(()=>{const u=new ut(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return st(e_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(st(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends Cv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=PA(this.serializer,e),s=function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?hi(d.readTime):bt.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=Jf(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Ff(v)?{documents:jA(h,v)}:{query:qA(h,v).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=gv(h,d.resumeToken);const _=Xf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=tc(h,d.snapshotVersion.toTimestamp());const _=Xf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=GA(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=Jf(this.serializer),i.removeTarget=e,this.L_(i)}}class MS extends Cv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=kA(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=Jf(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>BA(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class US extends xS{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Zf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Yo(e,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Zf(i,s),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class LS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qi(i),this.oa=!1):st("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class zS{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{vs(this)&&(st(ys,"Restarting streams for network reachability change."),await async function(v){const _=Rt(v);_.Ta.add(4),await au(_),_.da.set("Unknown"),_.Ta.delete(4),await gc(_)}(this))})}),this.da=new LS(s,u)}}async function gc(r){if(vs(r))for(const e of r.Ia)await e(!0)}async function au(r){for(const e of r.Ia)await e(!1)}function Dv(r,e){const i=Rt(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Dd(i)?Cd(i):Ir(i).M_()&&wd(i,e))}function Rd(r,e){const i=Rt(r),s=Ir(i);i.Pa.delete(e),s.M_()&&Vv(i,e),i.Pa.size===0&&(s.M_()?s.N_():vs(i)&&i.da.set("Unknown"))}function wd(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ir(r).H_(e)}function Vv(r,e){r.Aa.Ke(e),Ir(r).J_(e)}function Cd(r){r.Aa=new NA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ir(r).start(),r.da._a()}function Dd(r){return vs(r)&&!Ir(r).F_()&&r.Pa.size>0}function vs(r){return Rt(r).Ta.size===0}function Iv(r){r.Aa=void 0}async function PS(r){r.da.set("Online")}async function BS(r){r.Pa.forEach((e,i)=>{wd(r,e)})}async function kS(r,e){Iv(r),Dd(r)?(r.da.ca(e),Cd(r)):r.da.set("Unknown")}async function jS(r,e,i){if(r.da.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Pa.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Pa.delete(p),u.Aa.removeTarget(p))}(r,e)}catch(s){st(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nc(r,s)}else if(e instanceof jo?r.Aa.Xe(e):e instanceof dv?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(bt.min()))try{const s=await Rv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const p=h.Aa.It(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken($e.EMPTY_BYTE_STRING,A.snapshotVersion)),Vv(h,v);const I=new Ta(A.target,v,_,A.sequenceNumber);wd(h,I)}),h.remoteSyncer.applyRemoteEvent(p)}(r,i)}catch(s){st(ys,"Failed to raise snapshot:",s),await nc(r,s)}}async function nc(r,e,i){if(!Vr(e))throw e;r.Ta.add(1),await au(r),r.da.set("Offline"),i||(i=()=>Rv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(ys,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await gc(r)})}function Nv(r,e){return e().catch(i=>nc(r,i,e))}async function pc(r){const e=Rt(r),i=Ia(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:cd;for(;qS(e);)try{const u=await SS(e.localStore,s);if(u===null){e.ha.length===0&&i.N_();break}s=u.batchId,HS(e,u)}catch(u){await nc(e,u)}Ov(e)&&Mv(e)}function qS(r){return vs(r)&&r.ha.length<10}function HS(r,e){r.ha.push(e);const i=Ia(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Ov(r){return vs(r)&&!Ia(r).F_()&&r.ha.length>0}function Mv(r){Ia(r).start()}async function GS(r){Ia(r).ta()}async function QS(r){const e=Ia(r);for(const i of r.ha)e.Z_(i.mutations)}async function YS(r,e,i){const s=r.ha.shift(),u=_d.from(s,e,i);await Nv(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await pc(r)}async function FS(r,e){e&&Ia(r).Y_&&await async function(s,u){if(function(d){return VA(d)&&d!==X.ABORTED}(u.code)){const h=s.ha.shift();Ia(s).O_(),await Nv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await pc(s)}}(r,e),Ov(r)&&Mv(r)}async function n_(r,e){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),st(ys,"RemoteStore received new credentials");const s=vs(i);i.Ta.add(3),await au(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await gc(i)}async function KS(r,e){const i=Rt(r);e?(i.Ta.delete(2),await gc(i)):e||(i.Ta.add(2),await au(i),i.da.set("Unknown"))}function Ir(r){return r.Ra||(r.Ra=function(i,s,u){const h=Rt(i);return h.ra(),new OS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:PS.bind(null,r),n_:BS.bind(null,r),i_:kS.bind(null,r),j_:jS.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Dd(r)?Cd(r):r.da.set("Unknown")):(await r.Ra.stop(),Iv(r))})),r.Ra}function Ia(r){return r.Va||(r.Va=function(i,s,u){const h=Rt(i);return h.ra(),new MS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:GS.bind(null,r),i_:FS.bind(null,r),X_:QS.bind(null,r),ea:YS.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await pc(r)):(await r.Va.stop(),r.ha.length>0&&(st(ys,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,p=new Vd(e,i,d,u,h);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),Vr(r))return new ut(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{static emptySet(e){return new _r(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new _r;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.ma=new ce(gt.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):Tt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class br{constructor(e,i,s,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new br(e,i,_r.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class ZS{constructor(){this.queries=a_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const u=Rt(i),h=u.queries;u.queries=a_(),h.forEach((d,p)=>{for(const v of p.ya)v.onError(s)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function a_(){return new _s(r=>tv(r),oc)}async function xv(r,e){const i=Rt(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(s=2):(h=new XS,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Id(d,`Initialization of query '${mr(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Nd(i)}async function Uv(r,e){const i=Rt(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function $S(r,e){const i=Rt(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ya)p.va(u)&&(s=!0);d.pa=u}}s&&Nd(i)}function JS(r,e,i){const s=Rt(r),u=s.queries.get(e);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(e)}function Nd(r){r.ba.forEach(e=>{e.next()})}var ed,s_;(s_=ed||(ed={})).Ca="default",s_.Cache="cache";class Lv{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new br(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=br.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.key=e}}class Pv{constructor(e){this.key=e}}class WS{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ut(),this.mutatedKeys=Ut(),this.Ha=ev(e),this.Ja=new _r(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new i_,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,I)=>{const V=u.get(A),H=cc(this.query,I)?I:null,Z=!!V&&this.mutatedKeys.has(V.key),at=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;V&&H?V.data.isEqual(H.data)?Z!==at&&(s.track({type:3,doc:H}),J=!0):this.eu(V,H)||(s.track({type:2,doc:H}),J=!0,(v&&this.Ha(H,v)>0||_&&this.Ha(H,_)<0)&&(p=!0)):!V&&H?(s.track({type:0,doc:H}),J=!0):V&&!H&&(s.track({type:1,doc:V}),J=!0,(v||_)&&(p=!0)),J&&(H?(d=d.add(H),h=at?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:p,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,I)=>function(H,Z){const at=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:J})}};return at(H)-at(Z)}(A.type,I.type)||this.Ha(A.doc,I.doc)),this.tu(s),u=u!=null&&u;const p=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new br(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new i_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ut(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new Pv(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new zv(s))}),i}su(e){this.Ga=e.$s,this.ja=Ut();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return br.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Od="SyncEngine";class tb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class eb{constructor(e){this.key=e,this._u=!1}}class nb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new _s(p=>tv(p),oc),this.cu=new Map,this.lu=new Set,this.hu=new ce(gt.comparator),this.Pu=new Map,this.Tu=new Td,this.Iu={},this.Eu=new Map,this.du=Sr.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ib(r,e,i=!0){const s=Gv(r);let u;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await Bv(s,e,i,!0),u}async function ab(r,e){const i=Gv(r);await Bv(i,e,!0,!1)}async function Bv(r,e,i,s){const u=await bS(r.localStore,ci(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await sb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Dv(r.remoteStore,u),p}async function sb(r,e,i,s,u){r.Ru=(I,V,H)=>async function(at,J,Vt,mt){let dt=J.view.Za(Vt);dt.Cs&&(dt=await $y(at.localStore,J.query,!1).then(({documents:O})=>J.view.Za(O,dt)));const Lt=mt&&mt.targetChanges.get(J.targetId),St=mt&&mt.targetMismatches.get(J.targetId)!=null,qt=J.view.applyChanges(dt,at.isPrimaryClient,Lt,St);return l_(at,J.targetId,qt.ru),qt.snapshot}(r,I,V,H);const h=await $y(r.localStore,e,!0),d=new WS(e,h.$s),p=d.Za(h.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(p,r.isPrimaryClient,v);l_(r,i,_.ru);const A=new tb(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),_.snapshot}async function rb(r,e,i){const s=Rt(r),u=s.uu.get(e),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(d=>!oc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Wf(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Rd(s.remoteStore,u.targetId),nd(s,u.targetId)}).catch(Dr)):(nd(s,u.targetId),await Wf(s.localStore,u.targetId,!0))}async function lb(r,e){const i=Rt(r),s=i.uu.get(e),u=i.cu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Rd(i.remoteStore,s.targetId))}async function ub(r,e,i){const s=gb(r);try{const u=await function(d,p){const v=Rt(d),_=xe.now(),A=p.reduce((H,Z)=>H.add(Z.key),Ut());let I,V;return v.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=Yi(),at=Ut();return v.Bs.getEntries(H,A).next(J=>{Z=J,Z.forEach((Vt,mt)=>{mt.isValidDocument()||(at=at.add(Vt))})}).next(()=>v.localDocuments.getOverlayedDocuments(H,Z)).next(J=>{I=J;const Vt=[];for(const mt of p){const dt=bA(mt,I.get(mt.key).overlayedDocument);dt!=null&&Vt.push(new Ma(mt.key,dt,F_(dt.value.mapValue),wn.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,Vt,p)}).next(J=>{V=J;const Vt=J.applyToLocalDocumentSet(I,at);return v.documentOverlayCache.saveOverlays(H,J.batchId,Vt)})}).then(()=>({batchId:V.batchId,changes:iv(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new ce(Nt)),_=_.insert(p,v),d.Iu[d.currentUser.toKey()]=_}(s,u.batchId,i),await su(s,u.changes),await pc(s.remoteStore)}catch(u){const h=Id(u,"Failed to persist write");i.reject(h)}}async function kv(r,e){const i=Rt(r);try{const s=await TS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?Ft(d._u,14607):u.removedDocuments.size>0&&(Ft(d._u,42227),d._u=!1))}),await su(i,s,e)}catch(s){await Dr(s)}}function r_(r,e,i){const s=Rt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.uu.forEach((h,d)=>{const p=d.view.Da(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=Rt(d);v.onlineState=p;let _=!1;v.queries.forEach((A,I)=>{for(const V of I.ya)V.Da(p)&&(_=!0)}),_&&Nd(v)}(s.eventManager,e),u.length&&s.au.j_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ob(r,e,i){const s=Rt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Pu.get(e),h=u&&u.key;if(h){let d=new ce(gt.comparator);d=d.insert(h,nn.newNoDocument(h,bt.min()));const p=Ut().add(h),v=new dc(bt.min(),new Map,new ce(Nt),d,p);await kv(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),Md(s)}else await Wf(s.localStore,e,!1).then(()=>nd(s,e,i)).catch(Dr)}async function cb(r,e){const i=Rt(r),s=e.batch.batchId;try{const u=await ES(i.localStore,e);qv(i,s,null),jv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await su(i,u)}catch(u){await Dr(u)}}async function hb(r,e,i){const s=Rt(r);try{const u=await function(d,p){const v=Rt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(I=>(Ft(I!==null,37113),A=I.keys(),v.mutationQueue.removeMutationBatch(_,I))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);qv(s,e,i),jv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await su(s,u)}catch(u){await Dr(u)}}function jv(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function qv(r,e,i){const s=Rt(r);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Iu[s.currentUser.toKey()]=u}}function nd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||Hv(r,s)})}function Hv(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(Rd(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),Md(r))}function l_(r,e,i){for(const s of i)s instanceof zv?(r.Tu.addReference(s.key,e),fb(r,s)):s instanceof Pv?(st(Od,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||Hv(r,s.key)):Tt(19791,{mu:s})}function fb(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(st(Od,"New document in limbo: "+i),r.lu.add(s),Md(r))}function Md(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new gt(le.fromString(e)),s=r.du.next();r.Pu.set(s,new eb(i)),r.hu=r.hu.insert(i,s),Dv(r.remoteStore,new Ta(ci(gd(i.path)),s,"TargetPurposeLimboResolution",sc.le))}}async function su(r,e,i){const s=Rt(r),u=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((p,v)=>{d.push(s.Ru(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const I=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,I?"current":"not-current")}if(_){u.push(_);const I=Sd.Rs(v.targetId,_);h.push(I)}}))}),await Promise.all(d),s.au.j_(u),await async function(v,_){const A=Rt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>F.forEach(_,V=>F.forEach(V.ds,H=>A.persistence.referenceDelegate.addReference(I,V.targetId,H)).next(()=>F.forEach(V.As,H=>A.persistence.referenceDelegate.removeReference(I,V.targetId,H)))))}catch(I){if(!Vr(I))throw I;st(bd,"Failed to update sequence numbers: "+I)}for(const I of _){const V=I.targetId;if(!I.fromCache){const H=A.xs.get(V),Z=H.snapshotVersion,at=H.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(V,at)}}}(s.localStore,h))}async function db(r,e){const i=Rt(r);if(!i.currentUser.isEqual(e)){st(Od,"User change. New user:",e.toKey());const s=await bv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(p=>{p.forEach(v=>{v.reject(new ut(X.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(i,s.ks)}}function mb(r,e){const i=Rt(r),s=i.Pu.get(e);if(s&&s._u)return Ut().add(s.key);{let u=Ut();const h=i.cu.get(e);if(!h)return u;for(const d of h){const p=i.uu.get(d);u=u.unionWith(p.view.Ya)}return u}}function Gv(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ob.bind(null,e),e.au.j_=$S.bind(null,e.eventManager),e.au.Vu=JS.bind(null,e.eventManager),e}function gb(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hb.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return vS(this.persistence,new pS,e.initialUser,this.serializer)}yu(e){return new Sv(Ad.fi,this.serializer)}pu(e){return new wS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class pb extends ic{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){Ft(this.persistence.referenceDelegate instanceof ec,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eS(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Sv(s=>ec.fi(s,i),this.serializer)}}class id{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>r_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=db.bind(null,this.syncEngine),await KS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZS}()}createDatastore(e){const i=mc(e.databaseInfo.databaseId),s=function(h){return new NS(h)}(e.databaseInfo);return function(h,d,p,v){return new US(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,p){return new zS(s,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>r_(this.syncEngine,i,0),function(){return t_.C()?new t_:new CS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const I=new nb(u,h,d,p,v,_);return A&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Rt(u);st(ys,"RemoteStore shutting down."),h.Ta.add(5),await au(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}id.provider={build:()=>new id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class yb{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=en.UNAUTHENTICATED,this.clientId=z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Id(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xf(r,e){r.asyncQueue.verifyOperationInProgress(),st(Na,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await bv(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function u_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await _b(r);st(Na,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>n_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>n_(e.remoteStore,u)),r._onlineComponents=e}async function _b(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Na,"Using user provided OfflineComponentProvider");try{await xf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;vr("Error using user provided cache. Falling back to memory cache: "+i),await xf(r,new ic)}}else st(Na,"Using default OfflineComponentProvider"),await xf(r,new pb(void 0));return r._offlineComponents}async function Yv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Na,"Using user provided OnlineComponentProvider"),await u_(r,r._uninitializedComponentsProvider._online)):(st(Na,"Using default OnlineComponentProvider"),await u_(r,new id))),r._onlineComponents}function vb(r){return Yv(r).then(e=>e.syncEngine)}async function Fv(r){const e=await Yv(r),i=e.eventManager;return i.onListen=ib.bind(null,e.syncEngine),i.onUnlisten=rb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ab.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=lb.bind(null,e.syncEngine),i}function Eb(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Qv({next:V=>{A.Cu(),d.enqueueAndForget(()=>Uv(h,I));const H=V.docs.has(p);!H&&V.fromCache?_.reject(new ut(X.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&V.fromCache&&v&&v.source==="server"?_.reject(new ut(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),I=new Lv(gd(p.path),A,{includeMetadataChanges:!0,La:!0});return xv(h,I)}(await Fv(r),r.asyncQueue,e,i,s)),s.promise}function Tb(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Qv({next:V=>{A.Cu(),d.enqueueAndForget(()=>Uv(h,I)),V.fromCache&&v.source==="server"?_.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),I=new Lv(p,A,{includeMetadataChanges:!0,La:!0});return xv(h,I)}(await Fv(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r,e,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ab(r,e,i,s){if(e===!0&&s===!0)throw new ut(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function c_(r){if(!gt.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function h_(r){if(gt.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xd(r);throw new ut(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="firestore.googleapis.com",f_=!0;class d_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zv,this.ssl=f_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:f_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Av;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WA)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ab("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new V1;switch(s.type){case"firstParty":return new M1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=o_.get(i);s&&(st("ComponentProvider","Removing Datastore"),o_.delete(i),s.terminate())}(this),Promise.resolve()}}function Sb(r,e,i,s={}){var u;r=gi(r,yc);const h=ld(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;h&&(nT(`https://${v}`),rT("Firestore",!0)),d.host!==Zv&&d.host!==v&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Go(_,p)&&(r._setSettings(_),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=en.MOCK_USER;else{A=iT(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new en(V)}r._authCredentials=new I1(new U_(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class pn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Ra extends _c{constructor(e,i,s){super(e,i,gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new gt(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function xo(r,e,...i){if(r=fi(r),Xv("collection","path",e),r instanceof yc){const s=le.fromString(e,...i);return h_(s),new Ra(r,null,s)}{if(!(r instanceof pn||r instanceof Ra))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return h_(s),new Ra(r.firestore,null,s)}}function qi(r,e,...i){if(r=fi(r),arguments.length===1&&(e=z_.newId()),Xv("doc","path",e),r instanceof yc){const s=le.fromString(e,...i);return c_(s),new pn(r,null,new gt(s))}{if(!(r instanceof pn||r instanceof Ra))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return c_(s),new pn(r.firestore,r instanceof Ra?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new wv(this,"async_queue_retry"),this.ec=()=>{const s=Mf();s&&st(m_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Mf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Mf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Hi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vr(e))throw e;st(m_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Qi("INTERNAL UNHANDLED ERROR: ",p_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=Vd.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&Tt(47125,{_c:p_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function p_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Nr extends yc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new g_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function bb(r,e){const i=typeof r=="object"?r:p1(),s=typeof r=="string"?r:Ko,u=h1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=tT("firestore");h&&Sb(u,...h)}return u}function vc(r){if(r._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Rb(r),r._firestoreClient}function Rb(r){var e,i,s;const u=r._freezeSettings(),h=function(p,v,_,A){return new K1(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Kv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new yb(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr($e.fromBase64String(e))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Rr($e.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=/^__.*__$/;class Cb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class $v{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{hc:r})}}class Pd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.dc(e),u}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return ac(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Jv(this.hc)&&wb.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Db{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mc(e)}gc(e,i,s,u=!1){return new Pd({hc:e,methodName:i,fc:s,path:Ze.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(r){const e=r._freezeSettings(),i=mc(r._databaseId);return new Db(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Wv(r,e,i,s,u,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,u);kd("Data must be an object, but it was:",d,s);const p=n0(s,d);let v,_;if(h.merge)v=new Rn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const V=ad(e,I,i);if(!d.contains(V))throw new ut(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);a0(A,V)||A.push(V)}v=new Rn(A),_=d.fieldTransforms.filter(I=>v.covers(I.field))}else v=null,_=d.fieldTransforms;return new Cb(new gn(p),v,_)}class Ec extends Ud{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ec}}function t0(r,e,i,s){const u=r.gc(1,e,i);kd("Data must be an object, but it was:",u,s);const h=[],d=gn.empty();Oa(s,(v,_)=>{const A=jd(e,v,i);_=fi(_);const I=u.Ac(A);if(_ instanceof Ec)h.push(A);else{const V=Tc(_,I);V!=null&&(h.push(A),d.set(A,V))}});const p=new Rn(h);return new $v(d,p,u.fieldTransforms)}function e0(r,e,i,s,u,h){const d=r.gc(1,e,i),p=[ad(e,s,i)],v=[u];if(h.length%2!=0)throw new ut(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(ad(e,h[V])),v.push(h[V+1]);const _=[],A=gn.empty();for(let V=p.length-1;V>=0;--V)if(!a0(_,p[V])){const H=p[V];let Z=v[V];Z=fi(Z);const at=d.Ac(H);if(Z instanceof Ec)_.push(H);else{const J=Tc(Z,at);J!=null&&(_.push(H),A.set(H,J))}}const I=new Rn(_);return new $v(A,I,d.fieldTransforms)}function Tc(r,e){if(i0(r=fi(r)))return kd("Unsupported field value:",e,r),n0(r,e);if(r instanceof Ud)return function(s,u){if(!Jv(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const p of s){let v=Tc(p,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,u){if((s=fi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _A(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=xe.fromDate(s);return{timestampValue:tc(u.serializer,h)}}if(s instanceof xe){const h=new xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tc(u.serializer,h)}}if(s instanceof Ld)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rr)return{bytesValue:gv(u.serializer,s._byteString)};if(s instanceof pn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ed(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof zd)return function(d,p){return{mapValue:{fields:{[Q_]:{stringValue:Y_},[Xo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Vc("VectorValues must only contain numeric values.");return pd(p.serializer,_)})}}}}}}(s,u);throw u.Vc(`Unsupported field value: ${xd(s)}`)}(r,e)}function n0(r,e){const i={};return B_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(r,(s,u)=>{const h=Tc(u,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function i0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xe||r instanceof Ld||r instanceof Rr||r instanceof pn||r instanceof Ud||r instanceof zd)}function kd(r,e,i){if(!i0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=xd(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function ad(r,e,i){if((e=fi(e))instanceof ru)return e._internalPath;if(typeof e=="string")return jd(r,e);throw ac("Field path arguments must be of type string or ",r,!1,void 0,i)}const Vb=new RegExp("[~\\*/\\[\\]]");function jd(r,e,i){if(e.search(Vb)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ru(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ac(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new ut(X.INVALID_ARGUMENT,p+r+v)}function a0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(r0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ib extends s0{data(){return super.data()}}function r0(r,e){return typeof e=="string"?jd(r,e):e instanceof ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{convertValue(e,i="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Oa(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Xo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>Ee(d.doubleValue));return new zd(h)}convertGeoPoint(e){return new Ld(Ee(e.latitude),Ee(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Ca(e);return new xe(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);Ft(Tv(s),9688,{name:e});const u=new Jl(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return u.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u0 extends s0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(r0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class qo extends u0{data(e={}){return super.data(e)}}class Mb{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new qo(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new qo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new qo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:xb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function xb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){r=gi(r,pn);const e=gi(r.firestore,Nr);return Eb(vc(e),r._key).then(i=>Ub(e,r,i))}class o0 extends Ob{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function Uo(r){r=gi(r,_c);const e=gi(r.firestore,Nr),i=vc(e),s=new o0(e);return Nb(r._query),Tb(i,r._query).then(u=>new Mb(e,s,r,u))}function Lo(r,e,i){r=gi(r,pn);const s=gi(r.firestore,Nr),u=l0(r.converter,e,i);return qd(s,[Wv(Bd(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,wn.none())])}function y_(r,e,i,...s){r=gi(r,pn);const u=gi(r.firestore,Nr),h=Bd(u);let d;return d=typeof(e=fi(e))=="string"||e instanceof ru?e0(h,"updateDoc",r._key,e,i,s):t0(h,"updateDoc",r._key,e),qd(u,[d.toMutation(r._key,wn.exists(!0))])}function qd(r,e){return function(s,u){const h=new Hi;return s.asyncQueue.enqueueAndForget(async()=>ub(await vb(s),u,h)),h.promise}(vc(r),e)}function Ub(r,e,i){const s=i.docs.get(e._key),u=new o0(r);return new u0(r,u,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Bd(e)}set(e,i,s){this._verifyNotCommitted();const u=Lf(e,this._firestore),h=l0(u.converter,i,s),d=Wv(this._dataReader,"WriteBatch.set",u._key,h,u.converter!==null,s);return this._mutations.push(d.toMutation(u._key,wn.none())),this}update(e,i,s,...u){this._verifyNotCommitted();const h=Lf(e,this._firestore);let d;return d=typeof(i=fi(i))=="string"||i instanceof ru?e0(this._dataReader,"WriteBatch.update",h._key,i,s,u):t0(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Lf(e,this._firestore);return this._mutations=this._mutations.concat(new yd(i._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lf(r,e){if((r=fi(r)).firestore!==e)throw new ut(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(r){return vc(r=gi(r,Nr)),new Lb(r,e=>qd(r,e))}(function(e,i=!0){(function(u){Cr=u})(g1),Yo(new Kl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Nr(new N1(s.getProvider("auth-internal")),new x1(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),yr(Ty,Ay,e),yr(Ty,Ay,"esm2017")})();const Pb={apiKey:"AIzaSyBbk4SiSqWANAiet8EVvTrIC21aAWBvg",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"601661458034",appId:"1:601661458034:web:8134e270349f9a0b3a3c97"},Bb=R_(Pb),dn=bb(Bb);console.log("🐞 App.jsx v2 로드됨");function kb(){const[r,e]=ve.useState([]),[i,s]=ve.useState({}),[u,h]=ve.useState([]),[d,p]=ve.useState("attendance"),[v,_]=ve.useState({}),[A,I]=ve.useState(""),[V,H]=ve.useState(),[Z,at]=ve.useState(new Date),[J,Vt]=ve.useState(0),[mt,dt]=ve.useState(null),[Lt,St]=ve.useState(!1),[qt,O]=ve.useState([]),[S,w]=ve.useState({}),N=Object.keys(i).length,M=Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});[...r].sort((tt,pt)=>tt.name.localeCompare(pt.name));const U=["출석","숙제","수업태도","시험","문제집완료"],R=new Date,he=new Date().toLocaleDateString("en-CA"),q=["일","월","화","수","목","금","토"][R.getDay()];ve.useEffect(()=>{(async()=>{const ft=(await Uo(xo(dn,"students"))).docs.map(fe=>({id:fe.id,...fe.data()})),rt=zb(dn);ft.forEach(fe=>{if(typeof fe.points=="number"){const He={출석:fe.points,숙제:0,수업태도:0,시험:0,문제집완료:0};rt.set(qi(dn,"students",fe.id),{points:He},{merge:!0}),fe.points=He}else U.forEach(He=>{(!fe.points||fe.points[He]===void 0)&&(fe.points||(fe.points={}),fe.points[He]=0)})}),await rt.commit(),e(ft);const yt=qi(dn,"attendance",he);await Lo(yt,{},{merge:!1});const $t=await Uf(yt);s($t.exists()?$t.data():{});const Ce=(await Uo(xo(dn,"makeups"))).docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>fe.date===he);h(Ce)})()},[]);const[et,ot]=ve.useState([]);ve.useEffect(()=>{(async()=>{const ft=(await Uo(xo(dn,"schedule_changes"))).docs.map(rt=>({id:rt.id,...rt.data()}));ot(ft)})()},[]),ve.useEffect(()=>{(async()=>{const ft=(await Uo(xo(dn,"students_high"))).docs.map(rt=>({id:rt.id,...rt.data()}));O(ft)})()},[]),ve.useEffect(()=>{(async()=>{const pt=new Date().toISOString().split("T")[0],ft=await Uf(qi(dn,"high-attendance",pt));ft.exists()&&w(ft.data())})()},[]);const Ht=(tt,pt)=>{const rt=et.filter(yt=>yt.studentId===tt).filter(yt=>yt.effectiveDate<=pt);if(rt.length===0){const yt=r.find($t=>$t.id===tt);return(yt==null?void 0:yt.schedules)||[]}return rt.sort((yt,$t)=>$t.effectiveDate.localeCompare(yt.effectiveDate)),rt[0].schedules},C=()=>{const tt={},pt=R.toISOString().split("T")[0];return r.forEach(ft=>{if(ft.active===!1||ft.pauseDate&&ft.pauseDate<=pt)return;Ht(ft.id,pt).forEach(({day:yt,time:$t})=>{yt===q&&(tt[$t]||(tt[$t]=[]),tt[$t].push(ft))})}),tt},K=ve.useMemo(()=>C(),[r,et]);ve.useEffect(()=>{(async()=>{const pt=new Date().toISOString().split("T")[0],ft=qi(dn,"dailyLucky",pt),rt=await Uf(ft);if(rt.exists()){const yt=rt.data();dt(yt.name)}})()},[]);const nt=async(tt,pt)=>{var ae;const ft=new Date().toISOString().split("T")[0],rt=i[tt.name];if(rt&&(rt.status==="onTime"||rt.status==="tardy")){alert("이미 출석 처리된 학생입니다.");return}if(prompt(`${tt.name} 생일 뒷 4자리를 입력하세요 (예: 1225)`)!==((ae=tt.birth)==null?void 0:ae.slice(-4))){alert("생일이 일치하지 않습니다.");return}const $t=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[an,Yn]=pt.split(":"),Ce=new Date;Ce.setHours(+an,+Yn,0);const He=(new Date-Ce)/6e4;let on=0,Bn="onTime",Es=!1;if(He>15)Bn="tardy",on=0;else if(He>=-10&&He<=5){on=1;const wt=Date.now(),ge=Ce.getTime()-10*6e4,Le=Ce.getTime()+5*6e4;if(!(dailyLucky!=null&&dailyLucky.winnerId)&&tt.id===(dailyLucky==null?void 0:dailyLucky.candidateId)&&wt>=ge&&wt<=Le){on=2,Es=!0;const As=qi(dn,"dailyLucky",ft);await y_(As,{winnerId:tt.id,time:$t}),dt(tt.name)}}else He>=-15&&He<-10&&(on=1);await Lo(qi(dn,"attendance",ft),{[tt.name]:{time:$t,status:Bn}},{merge:!0}),s(wt=>({...wt,[tt.name]:{time:$t,status:Bn}}));const pi={...tt.points,출석:(tt.points.출석||0)+on},xa=(typeof tt.availablePoints=="number"?tt.availablePoints:Object.values(tt.points).reduce((wt,ge)=>wt+ge,0))+on;await y_(qi(dn,"students",tt.id),{points:pi,availablePoints:xa}),e(wt=>wt.map(ge=>ge.id===tt.id?{...ge,points:pi,availablePoints:xa}:ge)),_(wt=>({...wt,[tt.name]:!0})),setTimeout(()=>_(wt=>({...wt,[tt.name]:!1})),1500),Es?(dt(tt.name),St(!0),setTimeout(()=>St(!1),2500),alert(`🎉 Lucky!!! ${tt.name}님 2pt 당첨!`)):alert(`✅ ${tt.name}님 출석 완료! (+${on}pt)`)},$=()=>{A==="1234"?(H(!0),localStorage.setItem("authenticated","true")):alert("비밀번호가 틀렸습니다.")},ht=()=>{H(!1),localStorage.removeItem("authenticated")};if(!V)return it.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:it.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[it.jsx("input",{type:"password",placeholder:"출석 체크 비밀번호",className:"border p-2 mr-2",value:A,onChange:tt=>I(tt.target.value)}),it.jsx("button",{onClick:$,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"로그인"})]})});const Dt=async tt=>{const pt=i[tt];if(prompt("지각 상태입니다. 선생님 비밀번호를 입력하세요")==="0301"){const rt={time:pt.time,status:"onTime"};await Lo(qi(dn,"attendance",he),{[tt]:rt},{merge:!0}),s(yt=>({...yt,[tt]:rt})),alert(`${tt}님의 출석 상태가 초록으로 변경되었습니다!`)}},vt=tt=>U.reduce((pt,ft)=>pt+(tt[ft]||0),0),Te=tt=>{const pt=r.map(rt=>{var yt;return{name:rt.name,value:((yt=rt.points)==null?void 0:yt[tt])||0}});return[...new Set(pt.map(rt=>rt.value))].sort((rt,yt)=>yt-rt).slice(0,5).map(rt=>({value:rt,names:pt.filter(yt=>yt.value===rt).map(yt=>yt.name)}))},Zt=async tt=>{var $t;if(prompt(`${tt.name} 생일 뒷 4자리를 입력하세요 (예: 1225)`)!==(($t=tt.birth)==null?void 0:$t.slice(-4))){alert("생일이 일치하지 않습니다.");return}const ft=new Date,rt=ft.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),yt=ft.toISOString().split("T")[0];await Lo(qi(dn,"high-attendance",yt),{[tt.name]:{time:rt,status:"출석"}},{merge:!0}),w(an=>({...an,[tt.name]:{time:rt,status:"출석"}})),alert(`✅ ${tt.name}님 고등부 출석 완료!`)};return it.jsxs(it.Fragment,{children:[Lt&&it.jsxs("div",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white text-2xl font-bold px-6 py-3 rounded shadow-lg z-50 animate-bounce",children:["🎉 Lucky!!! ",mt,"님 2pt!"]}),it.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-700 bg-blue-100 px-4 py-2 rounded mb-4",children:[it.jsx("span",{children:"📣"}),it.jsxs("div",{children:[it.jsx("div",{children:"생일 4자리 입력시 출석완료!"}),it.jsx("div",{children:" 랜덤 Lucky 2pt는 10분전~5분후까지만! 지각시 0pt"})]})]}),it.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[it.jsxs("div",{className:"max-w-5xl mx-auto flex space-x-4 mb-6",children:[it.jsx("button",{className:`px-4 py-2 rounded ${d==="attendance"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>p("attendance"),children:"출석 체크"}),it.jsx("button",{onClick:()=>p("ranking"),className:`px-4 py-2 rounded ${d==="ranking"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:"포인트 랭킹"})]}),d==="attendance"&&it.jsxs(it.Fragment,{children:[it.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[it.jsxs("div",{children:[it.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-700",children:["📌 출석 체크 - ",q,"요일"]}),it.jsxs("div",{className:"text-gray-600",children:["📅 ",he," / ⏰ ",M," / ✅ 출석 인원: ",N]}),it.jsxs("div",{className:"text-center text-lg text-yellow-600 font-bold mb-4",children:["🎉 오늘의 Lucky 당첨자: ",mt?`${mt}님`:"아직 없음"]})]}),it.jsx("button",{onClick:ht,className:"bg-red-400 text-white px-4 py-2 rounded",children:"로그아웃"})]}),Object.keys(K).sort().map(tt=>it.jsxs("div",{className:"max-w-5xl mx-auto mb-6 bg-white p-4 rounded-lg shadow-md",children:[it.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 text-gray-800",children:[tt," 수업"]}),it.jsx("div",{className:"grid grid-cols-6 gap-4",children:K[tt].map(pt=>{const ft=i[pt.name],rt=ft&&(ft.status==="onTime"||ft.status==="tardy"),yt=v[pt.name];return it.jsxs("div",{className:`
        card
        ${rt?ft.status==="tardy"?"tardy":"attended":""}
        ${yt?"animated":""}
        ${rt?"cursor-not-allowed opacity-80":"cursor-pointer hover:shadow-lg"}
      `,onClick:()=>{rt?ft.status==="tardy"&&Dt(pt.name):nt(pt,tt)},children:[pt.name===mt&&it.jsx("div",{className:"text-3xl text-yellow-500 text-center mb-1",children:"👑"}),it.jsxs("div",{className:"text-right text-xs font-semibold text-gray-700 leading-none mb-1",children:["총 ",vt(pt.points),"pt",it.jsx("br",{}),it.jsxs("span",{className:"text-green-600",children:["가용 ",pt.availablePoints??vt(pt.points),"pt"]})]}),it.jsx("p",{className:"name m-0 leading-none mb-1",children:pt.name}),rt&&it.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:[ft.status==="tardy"?"⚠️ 지각":"✅ 출석",it.jsx("br",{}),ft.time]})]},pt.id)})})]},tt)),it.jsxs("div",{className:"max-w-5xl mx-auto mt-8",children:[it.jsx("h2",{className:"text-xl font-bold mb-4",children:"🎓 고등부 출석"}),it.jsx("div",{className:"grid grid-cols-6 gap-4",children:qt.map(tt=>{const pt=S[tt.name],ft=(pt==null?void 0:pt.status)==="출석";return it.jsxs("div",{className:`card ${ft?"attended":""} cursor-pointer hover:shadow-lg`,onClick:()=>Zt(tt),children:[it.jsx("p",{className:"name m-0 leading-none mb-1",children:tt.name}),ft&&it.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:["✅ 출석",it.jsx("br",{}),pt.time]})]},tt.id)})})]})]}),d==="ranking"&&it.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[it.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🏆 포인트 랭킹 (실시간)"}),U.map(tt=>{const pt=Te(tt);return it.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[it.jsxs("div",{className:"text-lg font-semibold mb-2",children:[tt," TOP 5"]}),it.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[it.jsx("thead",{className:"bg-gray-50",children:it.jsxs("tr",{className:"sticky top-0",children:[it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"순위"}),it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"이름"}),it.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:"포인트"})]})}),it.jsx("tbody",{className:"divide-y divide-gray-100",children:pt.map((ft,rt)=>{const $t=ft.names.slice(0,3),an=ft.names.length-3;return it.jsxs("tr",{className:rt===0?"bg-blue-50":"",children:[it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[rt+1,"등"]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[$t.join(", "),an>0&&` 외 ${an}명`]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[ft.value,"pt"]})]},`${tt}-${rt}`)})})]})]},tt)}),it.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[it.jsx("div",{className:"text-lg font-semibold mb-2",children:"💯 총합 TOP 5"}),it.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[it.jsx("thead",{className:"bg-gray-50",children:it.jsxs("tr",{className:"sticky top-0",children:[it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"순위"}),it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"이름"}),it.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:"포인트"})]})}),it.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const tt=r.map(rt=>({name:rt.name,value:vt(rt.points)}));return[...new Set(tt.map(rt=>rt.value))].sort((rt,yt)=>yt-rt).slice(0,5).map(rt=>({value:rt,names:tt.filter(yt=>yt.value===rt).map(yt=>yt.name)})).map((rt,yt)=>{const an=rt.names.slice(0,3),Yn=rt.names.length-3;return it.jsxs("tr",{className:yt===0?"bg-blue-50":"",children:[it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[yt+1,"등"]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[an.join(", "),Yn>0&&` 외 ${Yn}명`]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[rt.value,"pt"]})]},`total-${yt}`)})})()})]})]})]})]})]})}HE.createRoot(document.getElementById("root")).render(it.jsx(ve.StrictMode,{children:it.jsx(kb,{})}));
