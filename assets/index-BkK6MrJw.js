(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Cf={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function sT(){if(fy)return jl;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var dy;function lT(){return dy||(dy=1,Cf.exports=sT()),Cf.exports}var it=lT(),Df={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function oT(){if(my)return Ct;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,at={};function $(V,K,nt){this.props=V,this.context=K,this.refs=at,this.updater=nt||j}$.prototype.isReactComponent={},$.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function wt(){}wt.prototype=$.prototype;function mt(V,K,nt){this.props=V,this.context=K,this.refs=at,this.updater=nt||j}var pt=mt.prototype=new wt;pt.constructor=mt,X(pt,$.prototype),pt.isPureReactComponent=!0;var Lt=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function O(V,K,nt,J,ft,Dt){return nt=Dt.ref,{$$typeof:r,type:V,key:K,ref:nt!==void 0?nt:null,props:Dt}}function S(V,K){return O(V.type,K,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return K[nt]})}var x=/\/+/g;function M(V,K){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):K.toString(36)}function R(){}function me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,K,nt,J,ft){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(Dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case r:case e:Et=!0;break;case A:return Et=V._init,se(Et(V._payload),K,nt,J,ft)}}if(Et)return ft=ft(V),Et=J===""?"."+M(V,0):J,Lt(ft)?(nt="",Et!=null&&(nt=Et.replace(x,"$&/")+"/"),se(ft,K,nt,"",function(Vn){return Vn})):ft!=null&&(w(ft)&&(ft=S(ft,nt+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(x,"$&/")+"/")+Et)),K.push(ft)),1;Et=0;var ve=J===""?".":J+":";if(Lt(V))for(var $t=0;$t<V.length;$t++)J=V[$t],Dt=ve+M(J,$t),Et+=se(J,K,nt,Dt,ft);else if($t=D(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(J=V.next()).done;)J=J.value,Dt=ve+M(J,$t++),Et+=se(J,K,nt,Dt,ft);else if(Dt==="object"){if(typeof V.then=="function")return se(me(V),K,nt,J,ft);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(V,K,nt){if(V==null)return V;var J=[],ft=0;return se(V,J,"","",function(Dt){return K.call(nt,Dt,ft++)}),J}function et(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ht(){}return Ct.Children={map:H,forEach:function(V,K,nt){H(V,function(){K.apply(this,arguments)},nt)},count:function(V){var K=0;return H(V,function(){K++}),K},toArray:function(V){return H(V,function(K){return K})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=$,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=mt,Ct.StrictMode=s,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Rt.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,K,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=X({},V.props),ft=V.key,Dt=void 0;if(K!=null)for(Et in K.ref!==void 0&&(Dt=void 0),K.key!==void 0&&(ft=""+K.key),K)!qt.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(J[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)J.children=nt;else if(1<Et){for(var ve=Array(Et),$t=0;$t<Et;$t++)ve[$t]=arguments[$t+2];J.children=ve}return O(V.type,ft,void 0,void 0,Dt,J)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ct.createElement=function(V,K,nt){var J,ft={},Dt=null;if(K!=null)for(J in K.key!==void 0&&(Dt=""+K.key),K)qt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=K[J]);var Et=arguments.length-2;if(Et===1)ft.children=nt;else if(1<Et){for(var ve=Array(Et),$t=0;$t<Et;$t++)ve[$t]=arguments[$t+2];ft.children=ve}if(V&&V.defaultProps)for(J in Et=V.defaultProps,Et)ft[J]===void 0&&(ft[J]=Et[J]);return O(V,Dt,void 0,void 0,null,ft)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:g,render:V}},Ct.isValidElement=w,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:et}},Ct.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},Ct.startTransition=function(V){var K=Rt.T,nt={};Rt.T=nt;try{var J=V(),ft=Rt.S;ft!==null&&ft(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ht,ht)}catch(Dt){ht(Dt)}finally{Rt.T=K}},Ct.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Ct.use=function(V){return Rt.H.use(V)},Ct.useActionState=function(V,K,nt){return Rt.H.useActionState(V,K,nt)},Ct.useCallback=function(V,K){return Rt.H.useCallback(V,K)},Ct.useContext=function(V){return Rt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,K){return Rt.H.useDeferredValue(V,K)},Ct.useEffect=function(V,K,nt){var J=Rt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(V,K)},Ct.useId=function(){return Rt.H.useId()},Ct.useImperativeHandle=function(V,K,nt){return Rt.H.useImperativeHandle(V,K,nt)},Ct.useInsertionEffect=function(V,K){return Rt.H.useInsertionEffect(V,K)},Ct.useLayoutEffect=function(V,K){return Rt.H.useLayoutEffect(V,K)},Ct.useMemo=function(V,K){return Rt.H.useMemo(V,K)},Ct.useOptimistic=function(V,K){return Rt.H.useOptimistic(V,K)},Ct.useReducer=function(V,K,nt){return Rt.H.useReducer(V,K,nt)},Ct.useRef=function(V){return Rt.H.useRef(V)},Ct.useState=function(V){return Rt.H.useState(V)},Ct.useSyncExternalStore=function(V,K,nt){return Rt.H.useSyncExternalStore(V,K,nt)},Ct.useTransition=function(){return Rt.H.useTransition()},Ct.version="19.1.0",Ct}var gy;function md(){return gy||(gy=1,Df.exports=oT()),Df.exports}var ae=md(),Vf={exports:{}},ql={},Nf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function uT(){return py||(py=1,function(r){function e(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var Ht=ht-1>>>1,V=H[Ht];if(0<o(V,et))H[Ht]=et,H[ht]=V,ht=Ht;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var Ht=0,V=H.length,K=V>>>1;Ht<K;){var nt=2*(Ht+1)-1,J=H[nt],ft=nt+1,Dt=H[ft];if(0>o(J,ht))ft<V&&0>o(Dt,J)?(H[Ht]=Dt,H[ft]=ht,Ht=ft):(H[Ht]=J,H[nt]=ht,Ht=nt);else if(ft<V&&0>o(Dt,ht))H[Ht]=Dt,H[ft]=ht,Ht=ft;else break t}}return et}function o(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,D=3,j=!1,X=!1,at=!1,$=!1,wt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Rt(H){if(at=!1,Lt(H),!X)if(i(v)!==null)X=!0,qt||(qt=!0,M());else{var et=i(_);et!==null&&se(Rt,et.startTime-H)}}var qt=!1,O=-1,S=5,w=-1;function I(){return $?!0:!(r.unstable_now()-w<S)}function x(){if($=!1,qt){var H=r.unstable_now();w=H;var et=!0;try{t:{X=!1,at&&(at=!1,mt(O),O=-1),j=!0;var ht=D;try{e:{for(Lt(H),C=i(v);C!==null&&!(C.expirationTime>H&&I());){var Ht=C.callback;if(typeof Ht=="function"){C.callback=null,D=C.priorityLevel;var V=Ht(C.expirationTime<=H);if(H=r.unstable_now(),typeof V=="function"){C.callback=V,Lt(H),et=!0;break e}C===i(v)&&s(v),Lt(H)}else s(v);C=i(v)}if(C!==null)et=!0;else{var K=i(_);K!==null&&se(Rt,K.startTime-H),et=!1}}break t}finally{C=null,D=ht,j=!1}et=void 0}}finally{et?M():qt=!1}}}var M;if(typeof pt=="function")M=function(){pt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,me=R.port2;R.port1.onmessage=x,M=function(){me.postMessage(null)}}else M=function(){wt(x,0)};function se(H,et){O=wt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ht=D;D=et;try{return H()}finally{D=ht}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=D;D=H;try{return et()}finally{D=ht}},r.unstable_scheduleCallback=function(H,et,ht){var Ht=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ht+ht:Ht):ht=Ht,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,H={id:A++,callback:et,priorityLevel:H,startTime:ht,expirationTime:V,sortIndex:-1},ht>Ht?(H.sortIndex=ht,e(_,H),i(v)===null&&H===i(_)&&(at?(mt(O),O=-1):at=!0,se(Rt,ht-Ht))):(H.sortIndex=V,e(v,H),X||j||(X=!0,qt||(qt=!0,M()))),H},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(H){var et=D;return function(){var ht=D;D=et;try{return H.apply(this,arguments)}finally{D=ht}}}}(If)),If}var yy;function cT(){return yy||(yy=1,Nf.exports=uT()),Nf.exports}var Of={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function hT(){if(_y)return Ze;_y=1;var r=md();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ze.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Ze.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ze.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ze.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:j}):A==="script"&&s.d.X(v,{crossOrigin:C,integrity:D,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ze.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ze.requestFormReset=function(v){s.d.r(v)},Ze.unstable_batchedUpdates=function(v,_){return v(_)},Ze.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var vy;function fT(){if(vy)return Of.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=hT(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function dT(){if(Ey)return ql;Ey=1;var r=cT(),e=md(),i=fT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),wt=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case $:return"Profiler";case at:return"StrictMode";case Rt:return"Suspense";case qt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case pt:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return me(t(n))}catch{}}return null}var se=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ht=[],V=-1;function K(t){return{current:t}}function nt(t){0>V||(t.current=Ht[V],Ht[V]=null,V--)}function J(t,n){V++,Ht[V]=t.current,t.current=n}var ft=K(null),Dt=K(null),Et=K(null),ve=K(null);function $t(t,n){switch(J(Et,n),J(Dt,t),J(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ft),J(ft,t)}function Vn(){nt(ft),nt(Dt),nt(Et)}function Nn(t){t.memoizedState!==null&&J(ve,t);var n=ft.current,a=jp(n,t.type);n!==a&&(J(Dt,t),J(ft,a))}function Gn(t){Dt.current===t&&(nt(ft),nt(Dt)),ve.current===t&&(nt(ve),Ll._currentValue=ht)}var Ti=Object.prototype.hasOwnProperty,W=r.unstable_scheduleCallback,dt=r.unstable_cancelCallback,yt=r.unstable_shouldYield,ot=r.unstable_requestPaint,rt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,tn=r.unstable_ImmediatePriority,on=r.unstable_UserBlockingPriority,yn=r.unstable_NormalPriority,Ji=r.unstable_LowPriority,Ai=r.unstable_IdlePriority,In=r.log,en=r.unstable_setDisableYieldValue,Gt=null,Mt=null;function Ke(t){if(typeof In=="function"&&en(t),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Gt,t)}catch{}}var Re=Math.clz32?Math.clz32:Qn,Us=Math.log,wr=Math.LN2;function Qn(t){return t>>>=0,t===0?32:31-(Us(t)/wr|0)|0}var Fn=256,qa=4194304;function Yn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Yn(l):(y&=E,y!==0?c=Yn(y):a||(a=E&~t,a!==0&&(c=Yn(a))))):(E=l&~f,E!==0?c=Yn(E):y!==0?c=Yn(y):a||(a=l&~t,a!==0&&(c=Yn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ha(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ls(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=Fn;return Fn<<=1,(Fn&4194048)===0&&(Fn=256),t}function Ps(){var t=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),t}function Si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function bi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ks(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-Re(a),F=1<<G;E[G]=0,b[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}a&=~F}l!==0&&Wn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Wn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Re(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Bs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Re(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ta(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function po(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var le=Math.random().toString(36).slice(2),we="__reactFiber$"+le,Ee="__reactProps$"+le,On="__reactContainer$"+le,js="__reactEvents$"+le,Vc="__reactListeners$"+le,ea="__reactHandles$"+le,yo="__reactResources$"+le,Ga="__reactMarker$"+le;function na(t){delete t[we],delete t[Ee],delete t[js],delete t[Vc],delete t[ea]}function Ri(t){var n=t[we];if(n)return n;for(var a=t.parentNode;a;){if(n=a[On]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[we])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function ti(t){if(t=t[we]||t[On]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ei(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function nn(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ge(t){t[Ga]=!0}var qs=new Set,Vr={};function Kn(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Vr[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Qa={};function Eo(t){return Ti.call(Qa,t)?!0:Ti.call(vo,t)?!1:_o.test(t)?Qa[t]=!0:(vo[t]=!0,!1)}function ia(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ni(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Fa,To;function Ci(t){if(Fa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Fa=n&&n[1]||"",To=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+To}var Nr=!1;function Ir(t,n){if(!t||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var k=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){k=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){k=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function Hs(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ir(t.type,!1);case 11:return Ir(t.type.render,!1);case 1:return Ir(t.type,!0);case 31:return Ci("Activity");default:return""}}function Or(t){try{var n="";do n+=Hs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nc(t){var n=Gs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xr(t){t._valueTracker||(t._valueTracker=Nc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Gs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ic=/[\n"\\]/g;function Te(t){return t.replace(Ic,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _n(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?aa(t,y,an(n)):a!=null?aa(t,y,an(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+an(E):t.removeAttribute("name")}function Ka(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+an(a):"",n=n!=null?""+an(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function aa(t,n,a){n==="number"&&Ya(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Wt(t,n,a){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+an(a):""}function Xa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=an(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Za.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Ao(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vi=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Ii=null;function Ks(t){var n=ti(t);if(n&&(t=n.stateNode)){var a=t[Ee]||null;t:switch(t=n.stateNode,n.type){case"input":if(_n(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ee]||null;if(!c)throw Error(s(90));_n(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qs(l)}break t;case"textarea":Wt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Di(t,!!a.multiple,n,!1)}}}var ii=!1;function So(t,n,a){if(ii)return t(n,a);ii=!0;try{var l=t(n);return l}finally{if(ii=!1,(Ni!==null||Ii!==null)&&(pu(),Ni&&(n=Ni,t=Ii,Ii=Ni=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function $a(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Xn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Un=!1}var ai=null,ra=null,Oi=null;function Xs(){if(Oi)return Oi;var t,n=ra,a=n.length,l,c="value"in ai?ai.value:ai.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return Oi=c.slice(t,1<l?1-l:void 0)}function ri(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Zs(){return!1}function Me(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?si:Zs,this.isPropagationStopped=Zs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Me(Yt),Wa=A({},Yt,{view:0,detail:0}),bo=Me(Wa),Lr,zr,li,tr=A({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Lr=t.screenX-li.screenX,zr=t.screenY-li.screenY):zr=Lr=0,li=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:zr}}),Ln=Me(tr),Ro=A({},tr,{dataTransfer:0}),Mc=Me(Ro),er=A({},Wa,{relatedTarget:0}),Pr=Me(er),$s=A({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Me($s),wo=A({},Yt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Br=Me(wo),Uc=A({},Yt,{data:0}),Js=Me(Uc),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Do[t])?!!n[t]:!1}function ir(){return Ws}var Vo=A({},Wa,{key:function(t){if(t.key){var n=nr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Co[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jr=Me(Vo),No=A({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Me(No),xi=A({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),Io=Me(xi),Oo=A({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=Me(Oo),Mo=A({},tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qr=Me(Mo),rn=A({},Yt,{newState:0,oldState:0}),Uo=Me(rn),Lo=[9,13,27,32],oi=Xn&&"CompositionEvent"in window,u=null;Xn&&"documentMode"in document&&(u=document.documentMode);var m=Xn&&"TextEvent"in window&&!u,p=Xn&&(!oi||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zt=!1;function Ce(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Pt(t,n){if(zt)return t==="compositionend"||!oi&&q(t,n)?(t=Xs(),Oi=ra=ai=null,zt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ue[t.type]:n==="textarea"}function Mi(t,n,a,l){Ni?Ii?Ii.push(l):Ii=[l]:Ni=l,n=Au(n,"onChange"),0<n.length&&(a=new Ur("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var je=null,ui=null;function el(t){Up(t,0)}function zo(t){var n=ei(t);if(Qs(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(Xn){var Lc;if(Xn){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}Lc=zc}else Lc=!1;im=Lc&&(!document.documentMode||9<document.documentMode)}function rm(){je&&(je.detachEvent("onpropertychange",sm),ui=je=null)}function sm(t){if(t.propertyName==="value"&&zo(ui)){var n=[];Mi(n,ui,t,Mn(t)),So(el,n)}}function L0(t,n,a){t==="focusin"?(rm(),je=n,ui=a,je.attachEvent("onpropertychange",sm)):t==="focusout"&&rm()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(ui)}function P0(t,n){if(t==="click")return zo(n)}function k0(t,n){if(t==="input"||t==="change")return zo(n)}function B0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:B0;function nl(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ti.call(n,c)||!vn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var a=lm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lm(a)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ya(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ya(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var j0=Xn&&"documentMode"in document&&11>=document.documentMode,Hr=null,kc=null,il=null,Bc=!1;function hm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||Hr==null||Hr!==Ya(l)||(l=Hr,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Au(kc,"onSelect"),0<l.length&&(n=new Ur("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Hr)))}function ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Gr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},jc={},fm={};Xn&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function rr(t){if(jc[t])return jc[t];if(!Gr[t])return t;var n=Gr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in fm)return jc[t]=n[a];return t}var dm=rr("animationend"),mm=rr("animationiteration"),gm=rr("animationstart"),q0=rr("transitionrun"),H0=rr("transitionstart"),G0=rr("transitioncancel"),pm=rr("transitionend"),ym=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function Zn(t,n){ym.set(t,n),Kn(n,[t])}var _m=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var a=_m.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Or(n)},_m.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var Pn=[],Qr=0,Hc=0;function Po(){for(var t=Qr,n=Hc=Qr=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var c=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&vm(a,c,f)}}function ko(t,n,a,l){Pn[Qr++]=t,Pn[Qr++]=n,Pn[Qr++]=a,Pn[Qr++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,a,l){return ko(t,n,a,l),Bo(t)}function Fr(t,n){return ko(t,null,null,n),Bo(t)}function vm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Re(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bo(t){if(50<Dl)throw Dl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Yr={};function Q0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,n,a,l){return new Q0(t,n,a,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=En(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Em(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Qc(t)&&(y=1);else if(typeof t=="string")y=YE(t,a,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=En(31,a,n,c),t.elementType=w,t.lanes=f,t;case X:return sr(a.children,c,f,n);case at:y=8,c|=24;break;case $:return t=En(12,a,n,c|2),t.elementType=$,t.lanes=f,t;case Rt:return t=En(13,a,n,c),t.elementType=Rt,t.lanes=f,t;case qt:return t=En(19,a,n,c),t.elementType=qt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wt:case pt:y=10;break t;case mt:y=9;break t;case Lt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=En(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function sr(t,n,a,l){return t=En(7,t,l,n),t.lanes=a,t}function Fc(t,n,a){return t=En(6,t,null,n),t.lanes=a,t}function Yc(t,n,a){return n=En(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kr=[],Xr=0,qo=null,Ho=0,kn=[],Bn=0,lr=null,Li=1,zi="";function or(t,n){Kr[Xr++]=Ho,Kr[Xr++]=qo,qo=t,Ho=n}function Tm(t,n,a){kn[Bn++]=Li,kn[Bn++]=zi,kn[Bn++]=lr,lr=t;var l=Li;t=zi;var c=32-Re(l)-1;l&=~(1<<c),a+=1;var f=32-Re(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Li=1<<32-Re(n)+c|a<<c|l,zi=f+t}else Li=1<<f|a<<c|l,zi=t}function Kc(t){t.return!==null&&(or(t,1),Tm(t,1,0))}function Xc(t){for(;t===qo;)qo=Kr[--Xr],Kr[Xr]=null,Ho=Kr[--Xr],Kr[Xr]=null;for(;t===lr;)lr=kn[--Bn],kn[Bn]=null,zi=kn[--Bn],kn[Bn]=null,Li=kn[--Bn],kn[Bn]=null}var sn=null,fe=null,Ft=!1,ur=null,ci=!1,Zc=Error(s(519));function cr(t){var n=Error(s(418,""));throw sl(zn(n,t)),Zc}function Am(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[we]=t,n[Ee]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)xt(Nl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Xa(n,l.value,l.defaultValue,l.children),xr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||kp(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||cr(t)}function Sm(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:sn=sn.return}}function al(t){if(t!==sn)return!1;if(!Ft)return Sm(t),Ft=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&fe&&cr(t),Sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){fe=Jn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}fe=null}}else n===27?(n=fe,Ta(t.type)?(t=yf,yf=null,fe=t):fe=n):fe=sn?Jn(t.stateNode.nextSibling):null;return!0}function rl(){fe=sn=null,Ft=!1}function bm(){var t=ur;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ur=null),t}function sl(t){ur===null?ur=[t]:ur.push(t)}var $c=K(null),hr=null,Pi=null;function sa(t,n,a){J($c,n._currentValue),n._currentValue=a}function ki(t){t._currentValue=$c.current,nt($c)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Jc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;vn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ve.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&Wc(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fr(t){hr=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xe(t){return Rm(hr,t)}function Qo(t,n){return hr===null&&fr(t),Rm(t,n)}function Rm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return a}var F0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Y0=r.unstable_scheduleCallback,K0=r.unstable_NormalPriority,Ve={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new F0,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Y0(K0,function(){t.controller.abort()})}var ul=null,eh=0,Zr=0,$r=null;function X0(t,n){if(ul===null){var a=ul=[];eh=0,Zr=af(),$r={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,n.then(wm,wm),n}function wm(){if(--eh===0&&ul!==null){$r!==null&&($r.status="fulfilled");var t=ul;ul=null,Zr=0,$r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Z0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Cm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&X0(t,n),Cm!==null&&Cm(t,n)};var dr=K(null);function nh(){var t=dr.current;return t!==null?t:re.pooledCache}function Fo(t,n){n===null?J(dr,dr.current):J(dr,n.pool)}function Dm(){var t=nh();return t===null?null:{parent:Ve._currentValue,pool:t}}var cl=Error(s(460)),Vm=Error(s(474)),Yo=Error(s(542)),ih={then:function(){}};function Nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Im(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ko,Ko),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw hl=n,cl}}var hl=null;function Om(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function xm(t){if(t===cl||t===Yo)throw Error(s(483))}var la=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),vm(t,null,a),n}return ko(t,l,n,a),Bo(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Bs(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lh=!1;function dl(){if(lh){var t=$r;if(t!==null)throw t}}function ml(t,n,a,l){lh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=P=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(kt&k)===k:(l&k)===k){k!==0&&k===Zr&&(lh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=t,_t=E;k=n;var ne=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){F=At.call(ne,F,k);break t}F=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,k=typeof At=="function"?At.call(ne,F,k):At,k==null)break t;F=A({},F,k);break t;case 2:la=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,b=F):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ya|=y,t.lanes=y,t.memoizedState=F}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Um(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mm(a[t],n)}var Jr=K(null),Xo=K(0);function Lm(t,n){t=Fi,J(Xo,t),J(Jr,n),Fi=t|n.baseLanes}function oh(){J(Xo,Fi),J(Jr,Jr.current)}function uh(){Fi=Xo.current,nt(Jr),nt(Xo)}var ca=0,Vt=null,te=null,Ae=null,Zo=!1,Wr=!1,mr=!1,$o=0,gl=0,ts=null,$0=0;function pe(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!vn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return ca=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?vg:Eg,mr=!1,f=a(l,c),mr=!1,Wr&&(f=Pm(n,a,l,c)),zm(t),f}function zm(t){H.H=iu;var n=te!==null&&te.next!==null;if(ca=0,Ae=te=Vt=null,Zo=!1,gl=0,ts=null,n)throw Error(s(300));t===null||Le||(t=t.dependencies,t!==null&&Go(t)&&(Le=!0))}function Pm(t,n,a,l){Vt=t;var c=0;do{if(Wr&&(ts=null),gl=0,Wr=!1,25<=c)throw Error(s(301));if(c+=1,Ae=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=aE,f=n(a,l)}while(Wr);return f}function J0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Vt.flags|=1024),n}function fh(){var t=$o!==0;return $o=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}ca=0,Ae=te=Vt=null,Wr=!1,gl=$o=0,ts=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Vt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function Se(){if(te===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var n=Ae===null?Vt.memoizedState:Ae.next;if(n!==null)Ae=n,te=t;else{if(t===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?Vt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,ts===null&&(ts=[]),t=Im(ts,t,n),n=Vt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?vg:Eg),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===pt)return Xe(t)}throw Error(s(438,String(t)))}function ph(t){var n=null,a=Vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=gh(),Vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=Se();return yh(n,te,t)}function yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(kt&F)===F:(ca&F)===F){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Zr&&(G=!0);else if((ca&k)===k){P=P.next,k===Zr&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Vt.lanes|=k,ya|=k;F=P.action,mr&&a(f,F),f=P.hasEagerState?P.eagerState:a(f,F)}else k={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,Vt.lanes|=F,ya|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!vn(f,t.memoizedState)&&(Le=!0,G&&(a=$r,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=Se(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);vn(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function km(t,n,a){var l=Vt,c=Se(),f=Ft;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!vn((te||c).memoizedState,a);y&&(c.memoizedState=a,Le=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(yl(2048,8,E,[t]),c.getSnapshot!==n||y||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,es(9,tu(),jm.bind(null,l,c,a,n),null),re===null)throw Error(s(349));f||(ca&124)!==0||Bm(l,n,a)}return a}function Bm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Vt.updateQueue,n===null?(n=gh(),Vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function jm(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&Gm(t)}function qm(t,n,a){return a(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!vn(t,a)}catch{return!0}}function Gm(t){var n=Fr(t,2);n!==null&&Rn(n,t,2)}function vh(t){var n=un();if(typeof t=="function"){var a=t;if(t=a(),mr){Ke(!0);try{a()}finally{Ke(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function Qm(t,n,a,l){return t.baseState=a,yh(t,te,typeof l=="function"?l:Bi)}function W0(t,n,a,l,c){if(nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Fm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Fm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Ym(t,n,E)}catch(P){Eh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),Ym(t,n,f)}catch(P){Eh(t,n,P)}}function Ym(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Km(t,n,l)},function(l){return Eh(t,n,l)}):Km(t,n,a)}function Km(t,n,a){n.status="fulfilled",n.value=a,Xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Fm(t,a)))}function Eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zm(t,n){return n}function $m(t,n){if(Ft){var a=re.formState;if(a!==null){t:{var l=Vt;if(Ft){if(fe){e:{for(var c=fe,f=ci;c.nodeType!==8;){if(!f){c=null;break e}if(c=Jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){fe=Jn(c.nextSibling),l=c.data==="F!";break t}}cr(l)}l=!1}l&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:n},a.queue=l,a=pg.bind(null,Vt,l),l.dispatch=a,l=vh(!1),f=Rh.bind(null,Vt,!1,l.queue),l=un(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=W0.bind(null,Vt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Jm(t){var n=Se();return Wm(n,te,t)}function Wm(t,n,a){if(n=yh(t,n,Zm)[0],t=Wo(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(y){throw y===cl?Yo:y}else l=n;n=Se();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Vt.flags|=2048,es(9,tu(),tE.bind(null,c,a),null)),[l,f,t]}function tE(t,n){t.action=n}function tg(t){var n=Se(),a=te;if(a!==null)return Wm(n,a,t);Se(),n=n.memoizedState,a=Se();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function es(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=gh(),Vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function eg(){return Se().memoizedState}function eu(t,n,a,l){var c=un();l=l===void 0?null:l,Vt.flags|=t,c.memoizedState=es(1|n,tu(),a,l)}function yl(t,n,a,l){var c=Se();l=l===void 0?null:l;var f=c.memoizedState.inst;te!==null&&l!==null&&ch(l,te.memoizedState.deps)?c.memoizedState=es(n,f,a,l):(Vt.flags|=t,c.memoizedState=es(1|n,f,a,l))}function ng(t,n){eu(8390656,8,t,n)}function ig(t,n){yl(2048,8,t,n)}function ag(t,n){return yl(4,2,t,n)}function rg(t,n){return yl(4,4,t,n)}function sg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,a){a=a!=null?a.concat([t]):null,yl(4,4,sg.bind(null,n,t),a)}function Th(){}function og(t,n){var a=Se();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ug(t,n){var a=Se();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),mr){Ke(!0);try{t()}finally{Ke(!1)}}return a.memoizedState=[l,n],l}function Ah(t,n,a){return a===void 0||(ca&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=fp(),Vt.lanes|=t,ya|=t,a)}function cg(t,n,a,l){return vn(a,n)?a:Jr.current!==null?(t=Ah(t,a,l),vn(t,n)||(Le=!0),t):(ca&42)===0?(Le=!0,t.memoizedState=a):(t=fp(),Vt.lanes|=t,ya|=t,n)}function hg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Rh(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=Z0(b,l);_l(t,n,G,bn(t))}else _l(t,n,l,bn(t))}catch(F){_l(t,n,{then:function(){},status:"rejected",reason:F},bn())}finally{et.p=f,H.T=y}}function eE(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=fg(t).queue;hg(t,c,n,ht,a===null?eE:function(){return dg(t),a(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t).next.queue;_l(t,n,{},bn())}function bh(){return Xe(Ll)}function mg(){return Se().memoizedState}function gg(){return Se().memoizedState}function nE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=oa(a);var l=ua(n,t,a);l!==null&&(Rn(l,n,a),fl(l,n,a)),n={cache:th()},t.payload=n;return}n=n.return}}function iE(t,n,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nu(t)?yg(n,a):(a=Gc(t,n,a,l),a!==null&&(Rn(a,t,l),_g(a,n,l)))}function pg(t,n,a){var l=bn();_l(t,n,a,l)}function _l(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nu(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,vn(E,y))return ko(t,n,c,0),re===null&&Po(),!1}catch{}finally{}if(a=Gc(t,n,c,l),a!==null)return Rn(a,t,l),_g(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(s(479))}else n=Gc(t,a,l,2),n!==null&&Rn(n,t,2)}function nu(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function yg(t,n){Wr=Zo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Bs(t,a)}}var iu={readContext:Xe,use:Jo,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},vg={readContext:Xe,use:Jo,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Xe,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eu(4194308,4,sg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var a=un();n=n===void 0?null:n;var l=t();if(mr){Ke(!0);try{t()}finally{Ke(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=un();if(a!==void 0){var c=a(n);if(mr){Ke(!0);try{a(n)}finally{Ke(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=iE.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=pg.bind(null,Vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=un();return Ah(a,t,n)},useTransition:function(){var t=vh(!1);return t=hg.bind(null,Vt,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Vt,c=un();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),re===null)throw Error(s(349));(kt&124)!==0||Bm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,ng(qm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,tu(),jm.bind(null,l,f,a,n),null),a},useId:function(){var t=un(),n=re.identifierPrefix;if(Ft){var a=zi,l=Li;a=(l&~(1<<32-Re(l)-1)).toString(32)+a,n=""+n+"R"+a,a=$o++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=$0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:$m,useActionState:$m,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,Vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return un().memoizedState=nE.bind(null,Vt)}},Eg={readContext:Xe,use:Jo,useCallback:og,useContext:Xe,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:ug,useReducer:Wo,useRef:eg,useState:function(){return Wo(Bi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=Se();return cg(a,te.memoizedState,t,n)},useTransition:function(){var t=Wo(Bi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:km,useId:mg,useHostTransitionStatus:bh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var a=Se();return Qm(a,te,t,n)},useMemoCache:ph,useCacheRefresh:gg},aE={readContext:Xe,use:Jo,useCallback:og,useContext:Xe,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:ug,useReducer:_h,useRef:eg,useState:function(){return _h(Bi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=Se();return te===null?Ah(a,t,n):cg(a,te.memoizedState,t,n)},useTransition:function(){var t=_h(Bi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:km,useId:mg,useHostTransitionStatus:bh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=Se();return te!==null?Qm(a,te,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:gg},ns=null,vl=0;function au(t){var n=vl;return vl+=1,ns===null&&(ns=[]),Im(ns,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){var n=t._init;return n(t._payload)}function Ag(t){function n(U,N){if(t){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function a(U,N){if(!t)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=Ui(U,N),U.index=0,U.sibling=null,U}function f(U,N,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=67108866,N):z):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,z,Q){return N===null||N.tag!==6?(N=Fc(z,U.mode,Q),N.return=U,N):(N=c(N,z),N.return=U,N)}function b(U,N,z,Q){var lt=z.type;return lt===X?G(U,N,z.props.children,Q,z.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Tg(lt)===N.type)?(N=c(N,z.props),El(N,z),N.return=U,N):(N=jo(z.type,z.key,z.props,null,U.mode,Q),El(N,z),N.return=U,N)}function P(U,N,z,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Yc(z,U.mode,Q),N.return=U,N):(N=c(N,z.children||[]),N.return=U,N)}function G(U,N,z,Q,lt){return N===null||N.tag!==7?(N=sr(z,U.mode,Q,lt),N.return=U,N):(N=c(N,z),N.return=U,N)}function F(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Fc(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return z=jo(N.type,N.key,N.props,null,U.mode,z),El(z,N),z.return=U,z;case j:return N=Yc(N,U.mode,z),N.return=U,N;case S:var Q=N._init;return N=Q(N._payload),F(U,N,z)}if(se(N)||M(N))return N=sr(N,U.mode,z,null),N.return=U,N;if(typeof N.then=="function")return F(U,au(N),z);if(N.$$typeof===pt)return F(U,Qo(U,N),z);ru(U,N)}return null}function k(U,N,z,Q){var lt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(U,N,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===lt?b(U,N,z,Q):null;case j:return z.key===lt?P(U,N,z,Q):null;case S:return lt=z._init,z=lt(z._payload),k(U,N,z,Q)}if(se(z)||M(z))return lt!==null?null:G(U,N,z,Q,null);if(typeof z.then=="function")return k(U,N,au(z),Q);if(z.$$typeof===pt)return k(U,N,Qo(U,z),Q);ru(U,z)}return null}function B(U,N,z,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(N,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return U=U.get(Q.key===null?z:Q.key)||null,b(N,U,Q,lt);case j:return U=U.get(Q.key===null?z:Q.key)||null,P(N,U,Q,lt);case S:var It=Q._init;return Q=It(Q._payload),B(U,N,z,Q,lt)}if(se(Q)||M(Q))return U=U.get(z)||null,G(N,U,Q,lt,null);if(typeof Q.then=="function")return B(U,N,z,au(Q),lt);if(Q.$$typeof===pt)return B(U,N,z,Qo(N,Q),lt);ru(N,Q)}return null}function At(U,N,z,Q){for(var lt=null,It=null,ct=N,vt=N=0,Pe=null;ct!==null&&vt<z.length;vt++){ct.index>vt?(Pe=ct,ct=null):Pe=ct.sibling;var Qt=k(U,ct,z[vt],Q);if(Qt===null){ct===null&&(ct=Pe);break}t&&ct&&Qt.alternate===null&&n(U,ct),N=f(Qt,N,vt),It===null?lt=Qt:It.sibling=Qt,It=Qt,ct=Pe}if(vt===z.length)return a(U,ct),Ft&&or(U,vt),lt;if(ct===null){for(;vt<z.length;vt++)ct=F(U,z[vt],Q),ct!==null&&(N=f(ct,N,vt),It===null?lt=ct:It.sibling=ct,It=ct);return Ft&&or(U,vt),lt}for(ct=l(ct);vt<z.length;vt++)Pe=B(ct,U,vt,z[vt],Q),Pe!==null&&(t&&Pe.alternate!==null&&ct.delete(Pe.key===null?vt:Pe.key),N=f(Pe,N,vt),It===null?lt=Pe:It.sibling=Pe,It=Pe);return t&&ct.forEach(function(wa){return n(U,wa)}),Ft&&or(U,vt),lt}function _t(U,N,z,Q){if(z==null)throw Error(s(151));for(var lt=null,It=null,ct=N,vt=N=0,Pe=null,Qt=z.next();ct!==null&&!Qt.done;vt++,Qt=z.next()){ct.index>vt?(Pe=ct,ct=null):Pe=ct.sibling;var wa=k(U,ct,Qt.value,Q);if(wa===null){ct===null&&(ct=Pe);break}t&&ct&&wa.alternate===null&&n(U,ct),N=f(wa,N,vt),It===null?lt=wa:It.sibling=wa,It=wa,ct=Pe}if(Qt.done)return a(U,ct),Ft&&or(U,vt),lt;if(ct===null){for(;!Qt.done;vt++,Qt=z.next())Qt=F(U,Qt.value,Q),Qt!==null&&(N=f(Qt,N,vt),It===null?lt=Qt:It.sibling=Qt,It=Qt);return Ft&&or(U,vt),lt}for(ct=l(ct);!Qt.done;vt++,Qt=z.next())Qt=B(ct,U,vt,Qt.value,Q),Qt!==null&&(t&&Qt.alternate!==null&&ct.delete(Qt.key===null?vt:Qt.key),N=f(Qt,N,vt),It===null?lt=Qt:It.sibling=Qt,It=Qt);return t&&ct.forEach(function(rT){return n(U,rT)}),Ft&&or(U,vt),lt}function ne(U,N,z,Q){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var lt=z.key;N!==null;){if(N.key===lt){if(lt=z.type,lt===X){if(N.tag===7){a(U,N.sibling),Q=c(N,z.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Tg(lt)===N.type){a(U,N.sibling),Q=c(N,z.props),El(Q,z),Q.return=U,U=Q;break t}a(U,N);break}else n(U,N);N=N.sibling}z.type===X?(Q=sr(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=jo(z.type,z.key,z.props,null,U.mode,Q),El(Q,z),Q.return=U,U=Q)}return y(U);case j:t:{for(lt=z.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(U,N.sibling),Q=c(N,z.children||[]),Q.return=U,U=Q;break t}else{a(U,N);break}else n(U,N);N=N.sibling}Q=Yc(z,U.mode,Q),Q.return=U,U=Q}return y(U);case S:return lt=z._init,z=lt(z._payload),ne(U,N,z,Q)}if(se(z))return At(U,N,z,Q);if(M(z)){if(lt=M(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),_t(U,N,z,Q)}if(typeof z.then=="function")return ne(U,N,au(z),Q);if(z.$$typeof===pt)return ne(U,N,Qo(U,z),Q);ru(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(U,N.sibling),Q=c(N,z),Q.return=U,U=Q):(a(U,N),Q=Fc(z,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,N)}return function(U,N,z,Q){try{vl=0;var lt=ne(U,N,z,Q);return ns=null,lt}catch(ct){if(ct===cl||ct===Yo)throw ct;var It=En(29,ct,null,U.mode);return It.lanes=Q,It.return=U,It}finally{}}}var is=Ag(!0),Sg=Ag(!1),jn=K(null),hi=null;function ha(t){var n=t.alternate;J(Ne,Ne.current&1),J(jn,t),hi===null&&(n===null||Jr.current!==null||n.memoizedState!==null)&&(hi=t)}function bg(t){if(t.tag===22){if(J(Ne,Ne.current),J(jn,t),hi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(hi=t)}}else fa()}function fa(){J(Ne,Ne.current),J(jn,jn.current)}function ji(t){nt(jn),hi===t&&(hi=null),nt(Ne)}var Ne=K(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(Rn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(Rn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(Rn(n,t,a),fl(n,t,a))}};function Rg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function gr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cg(t){lu(t)}function Dg(t){console.error(t)}function Vg(t){lu(t)}function ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(t,n)},a}function Ig(t){return t=oa(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ng(n,a,l),typeof c!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function rE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,c,!0),a=jn.current,a!==null){switch(a.tag){case 13:return hi===null?Jh():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),Jh(),!1}if(Ft)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(s(422),{cause:l}),sl(zn(t,a)))):(l!==Zc&&(n=Error(s(423),{cause:l}),sl(zn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=zn(l,a),c=Dh(t.stateNode,l,c),sh(t,c),de!==4&&(de=2)),!1;var f=Error(s(520),{cause:l});if(f=zn(f,a),Cl===null?Cl=[f]:Cl.push(f),de!==4&&(de=2),n===null)return!0;l=zn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Dh(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ig(c),Og(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var xg=Error(s(461)),Le=!1;function qe(t,n,a,l){n.child=t===null?Sg(n,null,a,l):is(n,t.child,a,l)}function Mg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return fr(n),l=hh(t,n,a,y,f,c),E=fh(),t!==null&&!Le?(dh(t,n,c),qi(t,n,c)):(Ft&&E&&Kc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=jo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(y,l)&&t.ref===n.ref)return qi(t,n,c)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Le=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(Le=!0);else return n.lanes=t.lanes,qi(t,n,c)}return Vh(t,n,a,l,c)}function zg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Pg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):oh(),bg(n);else return n.lanes=n.childLanes=536870912,Pg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Fo(n,f.cachePool),Lm(n,f),fa(),n.memoizedState=null):(t!==null&&Fo(n,null),oh(),fa());return qe(t,n,c,a),n.child}function Pg(t,n,a,l){var c=nh();return c=c===null?null:{parent:Ve._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Fo(n,null),oh(),bg(n),t!==null&&ll(t,n,l,!0),null}function uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vh(t,n,a,l,c){return fr(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!Le?(dh(t,n,c),qi(t,n,c)):(Ft&&l&&Kc(n),n.flags|=1,qe(t,n,a,c),n.child)}function kg(t,n,a,l,c,f){return fr(n),n.updateQueue=null,a=Pm(n,l,a,c),zm(t),l=fh(),t!==null&&!Le?(dh(t,n,f),qi(t,n,f)):(Ft&&l&&Kc(n),n.flags|=1,qe(t,n,a,f),n.child)}function Bg(t,n,a,l,c){if(fr(n),n.stateNode===null){var f=Yr,y=a.contextType;typeof y=="object"&&y!==null&&(f=Xe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Xe(y):Yr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ch.enqueueReplaceState(f,f.state,null),ml(n,l,f,c),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=gr(a,E);f.props=b;var P=f.context,G=a.contextType;y=Yr,typeof G=="object"&&G!==null&&(y=Xe(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&wg(n,f,l,y),la=!1;var k=n.memoizedState;f.state=k,ml(n,l,f,c),dl(),P=n.memoizedState,E||k!==P||la?(typeof F=="function"&&(wh(n,a,F,l),P=n.memoizedState),(b=la||Rg(n,a,b,l,k,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,G=gr(a,y),f.props=G,F=n.pendingProps,k=f.context,P=a.contextType,b=Yr,typeof P=="object"&&P!==null&&(b=Xe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||k!==b)&&wg(n,f,l,b),la=!1,k=n.memoizedState,f.state=k,ml(n,l,f,c),dl();var B=n.memoizedState;y!==F||k!==B||la||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(wh(n,a,E,l),B=n.memoizedState),(G=la||Rg(n,a,G,l,k,B,b)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=is(n,t.child,null,c),n.child=is(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=qi(t,n,c),t}function jg(t,n,a,l){return rl(),n.flags|=256,qe(t,n,a,l),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:Dm()}}function Oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?ha(n):fa(),Ft){var E=fe,b;if(b=E){t:{for(b=E,E=ci;b.nodeType!==8;){if(!E){E=null;break t}if(b=Jn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:lr!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},b=En(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,sn=n,fe=null,b=!0):b=!1}b||cr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;ji(n)}return E=l.children,l=l.fallback,c?(fa(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=sr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ih(a),c.childLanes=Oh(t,y,a),n.memoizedState=Nh,l):(ha(n),xh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=sr(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,is(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=Oh(t,y,a),n.memoizedState=Nh,n=c);else if(ha(n),pf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,sl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Le||ll(t,n,a,!1),y=(a&t.childLanes)!==0,Le||y){if(y=re,y!==null&&(l=a&-a,l=(l&42)!==0?1:Wi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Fr(t,l),Rn(y,t,l),xg;E.data==="$?"||Jh(),n=Mh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,fe=Jn(E.nextSibling),sn=n,Ft=!0,ur=null,ci=!1,t!==null&&(kn[Bn++]=Li,kn[Bn++]=zi,kn[Bn++]=lr,Li=t.id,zi=t.overflow,lr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(fa(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ui(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ui(P,c):(c=sr(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(b=E.cachePool,b!==null?(P=Ve._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Dm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Oh(t,y,a),n.memoizedState=Nh,l):(ha(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function xh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=En(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mh(t,n,a){return is(n,t.child,null,a),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Uh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Gg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(qe(t,n,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,a,n);else if(t.tag===19)Hg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ne,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function sE(t,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),sa(n,Ve,t.memoizedState.cache),rl();break;case 27:case 5:Nn(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?qg(t,n,a):(ha(n),t=qi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ll(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Gg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,a);case 24:sa(n,Ve,t.memoizedState.cache)}return qi(t,n,a)}function Qg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Le=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return Le=!1,sE(t,n,a);Le=(t.flags&131072)!==0}else Le=!1,Ft&&(n.flags&1048576)!==0&&Tm(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=gr(l,t),n.tag=1,n=Bg(null,n,l,t,a)):(n.tag=0,n=Vh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=Mg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=Ug(null,n,l,t,a);break t}}throw n=me(l)||l,Error(s(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gr(l,n.pendingProps),Bg(t,n,l,c,a);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),ml(n,l,null,a);var y=n.memoizedState;if(l=y.cache,sa(n,Ve,l),l!==f.cache&&Wc(n,[Ve],a,!0),dl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(t,n,l,a);break t}else if(l!==c){c=zn(Error(s(424)),n),sl(c),n=jg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Jn(t.firstChild),sn=n,Ft=!0,ur=null,ci=!0,a=Sg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===c){n=qi(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return uu(t,n),t===null?(a=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ft||(a=n.type,t=n.pendingProps,l=bu(Et.current).createElement(a),l[we]=n,l[Ee]=t,Ge(l,a,t),ge(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Nn(n),t===null&&Ft&&(l=n.stateNode=Fp(n.type,n.pendingProps,Et.current),sn=n,ci=!0,c=fe,Ta(n.type)?(yf=c,fe=Jn(l.firstChild)):fe=c),qe(t,n,n.pendingProps.children,a),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=fe)&&(l=ME(l,n.type,n.pendingProps,ci),l!==null?(n.stateNode=l,sn=n,fe=Jn(l.firstChild),ci=!1,c=!0):c=!1),c||cr(n)),Nn(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:y!==null&&df(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,J0,null,null,a),Ll._currentValue=c),uu(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ft&&((t=a=fe)&&(a=UE(a,n.pendingProps,ci),a!==null?(n.stateNode=a,sn=n,fe=null,t=!0):t=!1),t||cr(n)),null;case 13:return qg(t,n,a);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=is(n,null,l,a):qe(t,n,l,a),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,fr(n),c=Xe(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,a);case 15:return Lg(t,n,n.type,n.pendingProps,a);case 19:return Gg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=cu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ui(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return zg(t,n,a);case 24:return fr(n),l=Xe(Ve),t===null?(c=nh(),c===null&&(c=re,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ah(n),sa(n,Ve,c)):((t.lanes&a)!==0&&(rh(t,n),ml(n,null,null,a),dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ve,l)):(l=f.cache,sa(n,Ve,l),l!==c.cache&&Wc(n,[Ve],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(t){t.flags|=4}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=jn.current,n!==null&&((kt&4194048)===kt?hi!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==hi))throw hl=ih,Vm;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ps():536870912,t.lanes|=n,ls|=n)}function Tl(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function lE(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Ve),Vn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bm())),ce(n),null;case 26:return a=n.memoizedState,t===null?(Hi(n),a!==null?(ce(n),Fg(n,a)):(ce(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Hi(n),ce(n),Fg(n,a)):(ce(n),n.flags&=-16777217):(t.memoizedProps!==l&&Hi(n),ce(n),n.flags&=-16777217),null;case 27:Gn(n),a=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}t=ft.current,al(n)?Am(n):(t=Fp(c,l,a),n.stateNode=t,Hi(n))}return ce(n),null;case 5:if(Gn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}if(t=ft.current,al(n))Am(n);else{switch(c=bu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[we]=n,t[Ee]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ge(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Hi(n)}}return ce(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,a)),t||cr(n)}else t=bu(t).createTextNode(l),t[we]=n,n.stateNode=t}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[we]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),c=!1}else c=bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ji(n),n):(ji(n),null)}if(ji(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),ce(n),null;case 4:return Vn(),t===null&&of(n.stateNode.containerInfo),ce(n),null;case 10:return ki(n.type),ce(n),null;case 19:if(nt(Ne),c=n.memoizedState,c===null)return ce(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Em(a,t),a=a.sibling;return J(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&rt()>mu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=su(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ft)return ce(n),null}else 2*rt()-c.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=rt(),n.sibling=null,t=Ne.current,J(Ne,l?t&1|2:t&1),n):(ce(n),null);case 22:case 23:return ji(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(dr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ki(Ve),ce(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oE(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Ve),Vn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Gn(n),null;case 13:if(ji(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ne),null;case 4:return Vn(),null;case 10:return ki(n.type),null;case 22:case 23:return ji(n),uh(),t!==null&&nt(dr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Ve),null;case 25:return null;default:return null}}function Yg(t,n){switch(Xc(n),n.tag){case 3:ki(Ve),Vn();break;case 26:case 27:case 5:Gn(n);break;case 4:Vn();break;case 13:ji(n);break;case 19:nt(Ne);break;case 10:ki(n.type);break;case 22:case 23:ji(n),uh(),t!==null&&nt(dr);break;case 24:ki(Ve)}}function Al(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){ie(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){ie(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){ie(n,n.return,G)}}function Kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Um(n,a)}catch(l){ie(t,t.return,l)}}}function Xg(t,n,a){a.props=gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ie(t,n,l)}}function Sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ie(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ie(t,n,c)}else a.current=null}function Zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ie(t,t.return,c)}}function zh(t,n,a){try{var l=t.stateNode;VE(l,t.type,a,n),l[Ee]=n}catch(c){ie(t,t.return,c)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(kh(t,n,a),t=t.sibling;t!==null;)kh(t,n,a),t=t.sibling}function fu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,n,a),t=t.sibling;t!==null;)fu(t,n,a),t=t.sibling}function Jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,a),n[we]=t,n[Ee]=a}catch(f){ie(t,t.return,f)}}var Gi=!1,ye=!1,Bh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function uE(t,n){if(t=t.containerInfo,hf=Nu,t=cm(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,k=null;e:for(;;){for(var B;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(B=F.firstChild)!==null;)k=F,F=B;for(;;){if(F===t)break e;if(k===a&&++P===c&&(E=y),k===f&&++G===l&&(b=y),(B=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Nu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var At=gr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(At,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){ie(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function tp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ma(t,a),l&4&&Al(5,a);break;case 1:if(ma(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ie(a,a.return,y)}else{var c=gr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ie(a,a.return,y)}}l&64&&Kg(a),l&512&&Sl(a,a.return);break;case 3:if(ma(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Um(t,n)}catch(y){ie(a,a.return,y)}}break;case 27:n===null&&l&4&&Jg(a);case 26:case 5:ma(t,a),n===null&&l&4&&Zg(a),l&512&&Sl(a,a.return);break;case 12:ma(t,a);break;case 13:ma(t,a),l&4&&ip(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_E.bind(null,a),LE(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||ye,c=Gi;var f=ye;Gi=l,(ye=n)&&!f?ga(t,a,(a.subtreeFlags&8772)!==0):ma(t,a),Gi=c,ye=f}break;case 30:break;default:ma(t,a)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,cn=!1;function Qi(t,n,a){for(a=a.child;a!==null;)np(t,n,a),a=a.sibling}function np(t,n,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Gt,a)}catch{}switch(a.tag){case 26:ye||fi(a,n),Qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||fi(a,n);var l=oe,c=cn;Ta(a.type)&&(oe=a.stateNode,cn=!1),Qi(t,n,a),Ol(a.stateNode),oe=l,cn=c;break;case 5:ye||fi(a,n);case 6:if(l=oe,c=cn,oe=null,Qi(t,n,a),oe=l,cn=c,oe!==null)if(cn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){ie(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){ie(a,n,f)}break;case 18:oe!==null&&(cn?(t=oe,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bl(t)):Gp(oe,a.stateNode));break;case 4:l=oe,c=cn,oe=a.stateNode.containerInfo,cn=!0,Qi(t,n,a),oe=l,cn=c;break;case 0:case 11:case 14:case 15:ye||da(2,a,n),ye||da(4,a,n),Qi(t,n,a);break;case 1:ye||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xg(a,n,l)),Qi(t,n,a);break;case 21:Qi(t,n,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,Qi(t,n,a),ye=l;break;default:Qi(t,n,a)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(a){ie(n,n.return,a)}}function cE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(s(435,t.tag))}}function jh(t,n){var a=cE(t);n.forEach(function(l){var c=vE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){oe=E.stateNode,cn=!1;break t}break;case 5:oe=E.stateNode,cn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(oe===null)throw Error(s(160));np(f,y,c),oe=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var $n=null;function ap(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(da(3,t,t.return),Al(3,t),da(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(ye||a===null||fi(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=$n;if(Tn(n,t),An(t),l&512&&(ye||a===null||fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ga]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,a),f[we]=t,ge(f),l=f;break t;case"link":var y=Jp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Jp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[we]=t,ge(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Wp(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),An(t),l&512&&(ye||a===null||fi(a,a.return)),a!==null&&l&4&&zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),An(t),l&512&&(ye||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{xn(c,"")}catch(B){ie(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){ie(t,t.return,B)}}break;case 3:if(Cu=null,c=$n,$n=Ru(n.containerInfo),Tn(n,t),$n=c,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(B){ie(t,t.return,B)}Bh&&(Bh=!1,rp(t));break;case 4:l=$n,$n=Ru(t.stateNode.containerInfo),Tn(n,t),An(t),$n=l;break;case 12:Tn(n,t),An(t);break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yh=rt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Gi,G=ye;if(Gi=P||c,ye=G||b,Tn(n,t),ye=G,Gi=P,An(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Gi||ye||pr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){ie(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){ie(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jh(t,a))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if($g(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Ph(t);fu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(xn(y,""),a.flags&=-33);var E=Ph(t);fu(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=Ph(t);kh(t,P,b);break;default:throw Error(s(161))}}catch(G){ie(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ma(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),pr(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Xg(n,n.return,a),pr(n);break;case 27:Ol(n.stateNode);case 26:case 5:fi(n,n.return),pr(n);break;case 22:n.memoizedState===null&&pr(n);break;case 30:pr(n);break;default:pr(n)}t=t.sibling}}function ga(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ga(c,f,a),Al(4,f);break;case 1:if(ga(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ie(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Mm(b[c],E)}catch(P){ie(l,l.return,P)}}a&&y&64&&Kg(f),Sl(f,f.return);break;case 27:Jg(f);case 26:case 5:ga(c,f,a),a&&l===null&&y&4&&Zg(f),Sl(f,f.return);break;case 12:ga(c,f,a);break;case 13:ga(c,f,a),a&&y&4&&ip(c,f);break;case 22:f.memoizedState===null&&ga(c,f,a),Sl(f,f.return);break;case 30:break;default:ga(c,f,a)}n=n.sibling}}function qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function di(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,a,l),n=n.sibling}function sp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,a,l),c&2048&&Al(9,n);break;case 1:di(t,n,a,l);break;case 3:di(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(c&2048){di(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ie(n,n.return,b)}}else di(t,n,a,l);break;case 13:di(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,a,l):bl(t,n):f._visibility&2?di(t,n,a,l):(f._visibility|=2,as(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&qh(y,n);break;case 24:di(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:di(t,n,a,l)}}function as(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:as(f,y,E,b,c),Al(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?as(f,y,E,b,c):bl(f,y):(G._visibility|=2,as(f,y,E,b,c)),c&&P&2048&&qh(y.alternate,y);break;case 24:as(f,y,E,b,c),c&&P&2048&&Hh(y.alternate,y);break;default:as(f,y,E,b,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:bl(a,l),c&2048&&qh(l.alternate,l);break;case 24:bl(a,l),c&2048&&Hh(l.alternate,l);break;default:bl(a,l)}n=n.sibling}}var Rl=8192;function rs(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 26:rs(t),t.flags&Rl&&t.memoizedState!==null&&XE($n,t.memoizedState,t.memoizedProps);break;case 5:rs(t);break;case 3:case 4:var n=$n;$n=Ru(t.stateNode.containerInfo),rs(t),$n=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,rs(t),Rl=n):rs(t));break;default:rs(t)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,cp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&da(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):wl(t);break;default:wl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,cp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function cp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(ep(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var hE={getCacheForType:function(t){var n=Xe(Ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},fE=typeof WeakMap=="function"?WeakMap:Map,Xt=0,re=null,Ot=null,kt=0,Zt=0,Sn=null,pa=!1,ss=!1,Gh=!1,Fi=0,de=0,ya=0,yr=0,Qh=0,qn=0,ls=0,Cl=null,hn=null,Fh=!1,Yh=0,mu=1/0,gu=null,_a=null,He=0,va=null,os=null,us=0,Kh=0,Xh=null,hp=null,Dl=0,Zh=null;function bn(){if((Xt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var t=Zr;return t!==0?t:af()}return ta()}function fp(){qn===0&&(qn=(kt&536870912)===0||Ft?zs():536870912);var t=jn.current;return t!==null&&(t.flags|=32),qn}function Rn(t,n,a){(t===re&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(cs(t,0),Ea(t,kt,qn,!1)),bi(t,a),((Xt&2)===0||t!==re)&&(t===re&&((Xt&2)===0&&(yr|=a),de===4&&Ea(t,kt,qn,!1)),mi(t))}function dp(t,n,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ha(t,n),c=l?gE(t,n):Wh(t,n,!0),f=l;do{if(c===0){ss&&!l&&Ea(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!dE(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Cl;var b=E.current.memoizedState.isDehydrated;if(b&&(cs(E,y).flags|=256),y=Wh(E,y,!1),y!==2){if(Gh&&!b){E.errorRecoveryDisabledLanes|=f,yr|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){cs(t,0),Ea(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ea(l,n,qn,!pa);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Yh+300-rt(),10<c)){if(Ea(l,n,qn,!pa),Cr(l,0,!0)!==0)break t;l.timeoutHandle=qp(mp.bind(null,l,a,hn,gu,Fh,n,qn,yr,ls,pa,f,2,-0,0),c);break t}mp(l,a,hn,gu,Fh,n,qn,yr,ls,pa,f,0,-0,0)}}break}while(!0);mi(t)}function mp(t,n,a,l,c,f,y,E,b,P,G,F,k,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:KE},lp(n),F=ZE(),F!==null)){t.cancelPendingCommit=F(Tp.bind(null,t,n,f,a,l,c,y,E,b,G,1,k,B)),Ea(t,f,y,!P);return}Tp(t,n,f,a,l,c,y,E,b)}function dE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!vn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(t,n,a,l){n&=~Qh,n&=~yr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Re(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Wn(t,a,n)}function pu(){return(Xt&6)===0?(Vl(0),!1):!0}function $h(){if(Ot!==null){if(Zt===0)var t=Ot.return;else t=Ot,Pi=hr=null,mh(t),ns=null,vl=0,t=Ot;for(;t!==null;)Yg(t.alternate,t),t=t.return;Ot=null}}function cs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$h(),re=t,Ot=a=Ui(t.current,null),kt=n,Zt=0,Sn=null,pa=!1,ss=Ha(t,n),Gh=!1,ls=qn=Qh=yr=ya=de=0,hn=Cl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Re(l),f=1<<c;n|=t[c],l&=~f}return Fi=n,Po(),a}function gp(t,n){Vt=null,H.H=iu,n===cl||n===Yo?(n=Om(),Zt=3):n===Vm?(n=Om(),Zt=4):Zt=n===xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ot===null&&(de=1,ou(t,zn(n,t.current)))}function pp(){var t=H.H;return H.H=iu,t===null?iu:t}function yp(){var t=H.A;return H.A=hE,t}function Jh(){de=4,pa||(kt&4194048)!==kt&&jn.current!==null||(ss=!0),(ya&134217727)===0&&(yr&134217727)===0||re===null||Ea(re,kt,qn,!1)}function Wh(t,n,a){var l=Xt;Xt|=2;var c=pp(),f=yp();(re!==t||kt!==n)&&(gu=null,cs(t,n)),n=!1;var y=de;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,b=Sn;switch(Zt){case 8:$h(),y=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var P=Zt;if(Zt=0,Sn=null,hs(t,E,b,P),a&&ss){y=0;break t}break;default:P=Zt,Zt=0,Sn=null,hs(t,E,b,P)}}mE(),y=de;break}catch(G){gp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Pi=hr=null,Xt=l,H.H=c,H.A=f,Ot===null&&(re=null,kt=0,Po()),y}function mE(){for(;Ot!==null;)_p(Ot)}function gE(t,n){var a=Xt;Xt|=2;var l=pp(),c=yp();re!==t||kt!==n?(gu=null,mu=rt()+500,cs(t,n)):ss=Ha(t,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,hs(t,n,f,1);break;case 2:case 9:if(Nm(f)){Zt=0,Sn=null,vp(n);break}n=function(){Zt!==2&&Zt!==9||re!==t||(Zt=7),mi(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Nm(f)?(Zt=0,Sn=null,vp(n)):(Zt=0,Sn=null,hs(t,n,f,7));break;case 5:var y=null;switch(Ot.tag){case 26:y=Ot.memoizedState;case 5:case 27:var E=Ot;if(!y||ty(y)){Zt=0,Sn=null;var b=E.sibling;if(b!==null)Ot=b;else{var P=E.return;P!==null?(Ot=P,yu(P)):Ot=null}break e}}Zt=0,Sn=null,hs(t,n,f,5);break;case 6:Zt=0,Sn=null,hs(t,n,f,6);break;case 8:$h(),de=6;break t;default:throw Error(s(462))}}pE();break}catch(G){gp(t,G)}while(!0);return Pi=hr=null,H.H=l,H.A=c,Xt=a,Ot!==null?0:(re=null,kt=0,Po(),de)}function pE(){for(;Ot!==null&&!yt();)_p(Ot)}function _p(t){var n=Qg(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,n===null?yu(t):Ot=n}function vp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=kg(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=kg(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:mh(n);default:Yg(a,n),n=Ot=Em(n,Fi),n=Qg(a,n,Fi)}t.memoizedProps=t.pendingProps,n===null?yu(t):Ot=n}function hs(t,n,a,l){Pi=hr=null,mh(n),ns=null,vl=0;var c=n.return;try{if(rE(t,c,n,a,kt)){de=1,ou(t,zn(a,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;de=1,ou(t,zn(a,t.current)),Ot=null;return}n.flags&32768?(Ft||l===1?t=!0:ss||(kt&536870912)!==0?t=!1:(pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,pa);return}t=n.return;var a=lE(n.alternate,n,Fi);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);de===0&&(de=5)}function Ep(t,n){do{var a=oE(t.alternate,t);if(a!==null){a.flags&=32767,Ot=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=a}while(t!==null);de=6,Ot=null}function Tp(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do _u();while(He!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hc,ks(t,a,f,y,E,b),t===re&&(Ot=re=null,kt=0),os=n,va=t,us=a,Kh=f,Xh=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,EE(yn,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Xt,Xt|=4;try{uE(t,n,a)}finally{Xt=y,et.p=c,H.T=l}}He=1,Ap(),Sp(),bp()}}function Ap(){if(He===1){He=0;var t=va,n=os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Xt;Xt|=4;try{ap(n,t);var f=ff,y=cm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(b!==null&&Pc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var B=k.getSelection(),At=E.textContent.length,_t=Math.min(b.start,At),ne=b.end===void 0?_t:Math.min(b.end,At);!B.extend&&_t>ne&&(y=ne,ne=_t,_t=y);var U=om(E,_t),N=om(E,ne);if(U&&N&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var z=F.createRange();z.setStart(U.node,U.offset),B.removeAllRanges(),_t>ne?(B.addRange(z),B.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),B.addRange(z))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nu=!!hf,ff=hf=null}finally{Xt=c,et.p=l,H.T=a}}t.current=n,He=2}}function Sp(){if(He===2){He=0;var t=va,n=os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Xt;Xt|=4;try{tp(t,n.alternate,n)}finally{Xt=c,et.p=l,H.T=a}}He=3}}function bp(){if(He===4||He===3){He=0,ot();var t=va,n=os,a=us,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,os=va=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_a=null),Dr(a),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Gt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(us&3)!==0&&_u(),mi(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Zh?Dl++:(Dl=0,Zh=t):Dl=0,Vl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function _u(t){return Ap(),Sp(),bp(),wp()}function wp(){if(He!==5)return!1;var t=va,n=Kh;Kh=0;var a=Dr(us),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var f=va,y=us;if(He=0,os=va=null,us=0,(Xt&6)!==0)throw Error(s(331));var E=Xt;if(Xt|=4,up(f.current),sp(f,f.current,y,a),Xt=E,Vl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Gt,f)}catch{}return!0}finally{et.p=c,H.T=l,Rp(t,n)}}function Cp(t,n,a){n=zn(a,n),n=Dh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(bi(t,2),mi(t))}function ie(t,n,a){if(t.tag===3)Cp(t,t,a);else for(;n!==null;){if(n.tag===3){Cp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_a===null||!_a.has(l))){t=zn(a,t),a=Ig(2),l=ua(n,a,2),l!==null&&(Og(a,l,n,t),bi(l,2),mi(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Gh=!0,c.add(a),t=yE.bind(null,t,n,a),n.then(t,t))}function yE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,re===t&&(kt&a)===a&&(de===4||de===3&&(kt&62914560)===kt&&300>rt()-Yh?(Xt&2)===0&&cs(t,0):Qh|=a,ls===kt&&(ls=0)),mi(t)}function Dp(t,n){n===0&&(n=Ps()),t=Fr(t,n),t!==null&&(bi(t,n),mi(t))}function _E(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Dp(t,a)}function vE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Dp(t,a)}function EE(t,n){return W(t,n)}var vu=null,fs=null,ef=!1,Eu=!1,nf=!1,_r=0;function mi(t){t!==fs&&t.next===null&&(fs===null?vu=fs=t:fs=fs.next=t),Eu=!0,ef||(ef=!0,AE())}function Vl(t,n){if(!nf&&Eu){nf=!0;do for(var a=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Re(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Op(l,f))}else f=kt,f=Cr(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ha(l,f)||(a=!0,Op(l,f));l=l.next}while(a);nf=!1}}function TE(){Vp()}function Vp(){Eu=ef=!1;var t=0;_r!==0&&(NE()&&(t=_r),_r=0);for(var n=rt(),a=null,l=vu;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,a===null?vu=c:a.next=c,c===null&&(fs=a)):(a=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Vl(t)}function Np(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Re(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ls(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=re,a=kt,a=Cr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&dt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ha(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&dt(l),Dr(a)){case 2:case 8:a=on;break;case 32:a=yn;break;case 268435456:a=Ai;break;default:a=yn}return l=Ip.bind(null,t),a=W(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&dt(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(He!==0&&He!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_u()&&t.callbackNode!==a)return null;var l=kt;return l=Cr(t,t===re?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Np(t,rt()),t.callbackNode!=null&&t.callbackNode===a?Ip.bind(null,t):null)}function Op(t,n){if(_u())return null;dp(t,n,!0)}function AE(){OE(function(){(Xt&6)!==0?W(tn,TE):Vp()})}function af(){return _r===0&&(_r=zs()),_r}function xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mr(""+t)}function Mp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function SE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=xp((c[Ee]||null).action),y=l.submitter;y&&(n=(n=y[Ee]||null)?xp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ur("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_r!==0){var b=y?Mp(c,y):new FormData(c);Sh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Mp(c,y):new FormData(c),Sh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var rf=0;rf<qc.length;rf++){var sf=qc[rf],bE=sf.toLowerCase(),RE=sf[0].toUpperCase()+sf.slice(1);Zn(bE,"on"+RE)}Zn(dm,"onAnimationEnd"),Zn(mm,"onAnimationIteration"),Zn(gm,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(q0,"onTransitionRun"),Zn(H0,"onTransitionStart"),Zn(G0,"onTransitionCancel"),Zn(pm,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Up(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){lu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){lu(G)}c.currentTarget=null,f=b}}}}function xt(t,n){var a=n[js];a===void 0&&(a=n[js]=new Set);var l=t+"__bubble";a.has(l)||(Lp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),Lp(a,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[Tu]){t[Tu]=!0,qs.forEach(function(a){a!=="selectionchange"&&(wE.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,lf("selectionchange",!1,n))}}function Lp(t,n,a,l){switch(sy(n)){case 2:var c=WE;break;case 8:c=tT;break;default:c=Af}a=c.bind(null,n,a,t),c=void 0,!Un||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ri(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}So(function(){var P=f,G=Mn(a),F=[];t:{var k=ym.get(t);if(k!==void 0){var B=Ur,At=t;switch(t){case"keypress":if(ri(a)===0)break t;case"keydown":case"keyup":B=jr;break;case"focusin":At="focus",B=Pr;break;case"focusout":At="blur",B=Pr;break;case"beforeblur":case"afterblur":B=Pr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Io;break;case dm:case mm:case gm:B=kr;break;case pm:B=xo;break;case"scroll":case"scrollend":B=bo;break;case"wheel":B=qr;break;case"copy":case"cut":case"paste":B=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=tl;break;case"toggle":case"beforetoggle":B=Uo}var _t=(n&4)!==0,ne=!_t&&(t==="scroll"||t==="scrollend"),U=_t?k!==null?k+"Capture":null:k;_t=[];for(var N=P,z;N!==null;){var Q=N;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=$a(N,U),Q!=null&&_t.push(Il(N,Q,z))),ne)break;N=N.return}0<_t.length&&(k=new B(k,At,null,a,G),F.push({event:k,listeners:_t}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&a!==Vi&&(At=a.relatedTarget||a.fromElement)&&(Ri(At)||At[On]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(At=a.relatedTarget||a.toElement,B=P,At=At?Ri(At):null,At!==null&&(ne=h(At),_t=At.tag,At!==ne||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(B=null,At=P),B!==At)){if(_t=Ln,Q="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(_t=tl,Q="onPointerLeave",U="onPointerEnter",N="pointer"),ne=B==null?k:ei(B),z=At==null?k:ei(At),k=new _t(Q,N+"leave",B,a,G),k.target=ne,k.relatedTarget=z,Q=null,Ri(G)===P&&(_t=new _t(U,N+"enter",At,a,G),_t.target=z,_t.relatedTarget=ne,Q=_t),ne=Q,B&&At)e:{for(_t=B,U=At,N=0,z=_t;z;z=ds(z))N++;for(z=0,Q=U;Q;Q=ds(Q))z++;for(;0<N-z;)_t=ds(_t),N--;for(;0<z-N;)U=ds(U),z--;for(;N--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=ds(_t),U=ds(U)}_t=null}else _t=null;B!==null&&zp(F,k,B,_t,!1),At!==null&&ne!==null&&zp(F,ne,At,_t,!0)}}t:{if(k=P?ei(P):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var lt=nm;else if(De(k))if(im)lt=k0;else{lt=z0;var It=L0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Ys(P.elementType)&&(lt=nm):lt=P0;if(lt&&(lt=lt(t,P))){Mi(F,lt,a,G);break t}It&&It(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&aa(k,"number",k.value)}switch(It=P?ei(P):window,t){case"focusin":(De(It)||It.contentEditable==="true")&&(Hr=It,kc=P,il=null);break;case"focusout":il=kc=Hr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,hm(F,a,G);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":hm(F,a,G)}var ct;if(oi)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else zt?q(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(p&&a.locale!=="ko"&&(zt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&zt&&(ct=Xs()):(ai=G,ra="value"in ai?ai.value:ai.textContent,zt=!0)),It=Au(P,vt),0<It.length&&(vt=new Js(vt,t,null,a,G),F.push({event:vt,listeners:It}),ct?vt.data=ct:(ct=tt(a),ct!==null&&(vt.data=ct)))),(ct=m?Ce(t,a):Pt(t,a))&&(vt=Au(P,"onBeforeInput"),0<vt.length&&(It=new Js("onBeforeInput","beforeinput",null,a,G),F.push({event:It,listeners:vt}),It.data=ct)),SE(F,t,P,a,G)}Up(F,n)})}function Il(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$a(t,a),c!=null&&l.unshift(Il(t,c,f)),c=$a(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=$a(a,f),P!=null&&y.unshift(Il(a,P,b))):c||(P=$a(a,f),P!=null&&y.push(Il(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var CE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(CE,`
`).replace(DE,"")}function kp(t,n){return n=Pp(n),Pp(t)===n}function Su(){}function ee(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&xn(t,""+l);break;case"className":ni(t,"class",l);break;case"tabIndex":ni(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,a,l);break;case"style":Fs(t,l,f);break;case"data":if(n!=="object"){ni(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Mr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ee(t,n,"name",c.name,c,null),ee(t,n,"formEncType",c.formEncType,c,null),ee(t,n,"formMethod",c.formMethod,c,null),ee(t,n,"formTarget",c.formTarget,c,null)):(ee(t,n,"encType",c.encType,c,null),ee(t,n,"method",c.method,c,null),ee(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Mr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Mr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),ia(t,"popover",l);break;case"xlinkActuate":Be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,ia(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":Fs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Ee]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ia(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ee(t,n,f,y,a,null)}}c&&ee(t,n,"srcSet",a.srcSet,a,null),l&&ee(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:ee(t,n,l,G,a,null)}}Ka(t,f,E,b,P,y,c,!1),xr(t);return;case"select":xt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:ee(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Di(t,!!l,n,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ee(t,n,y,E,a,null)}Xa(t,l,c,f),xr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,n,b,l,a,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)xt(Nl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ee(t,n,P,l,a,null)}return;default:if(Ys(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&cf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ee(t,n,E,l,a,null))}function VE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(B in a){var F=a[B];if(a.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(B)||ee(t,n,B,null,l,F)}}for(var k in l){var B=l[k];if(F=a[k],l.hasOwnProperty(k)&&(B!=null||F!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==F&&ee(t,n,k,B,l,F)}}_n(t,y,E,b,P,G,f,c);return;case"select":B=y=E=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||ee(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&ee(t,n,c,f,l,b)}n=E,a=y,l=B,k!=null?Di(t,!!a,k,!1):!!l!=!!a&&(n!=null?Di(t,!!a,n,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&ee(t,n,y,c,l,f)}Wt(t,k,B);return;case"option":for(var At in a)if(k=a[At],a.hasOwnProperty(At)&&k!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:ee(t,n,At,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ee(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)k=a[_t],a.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t)&&ee(t,n,_t,null,l,k);for(P in l)if(k=l[P],B=a[P],l.hasOwnProperty(P)&&k!==B&&(k!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:ee(t,n,P,k,l,B)}return;default:if(Ys(n)){for(var ne in a)k=a[ne],a.hasOwnProperty(ne)&&k!==void 0&&!l.hasOwnProperty(ne)&&cf(t,n,ne,void 0,l,k);for(G in l)k=l[G],B=a[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||cf(t,n,G,k,l,B);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&ee(t,n,U,null,l,k);for(F in l)k=l[F],B=a[F],!l.hasOwnProperty(F)||k===B||k==null&&B==null||ee(t,n,F,k,l,B)}var hf=null,ff=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function NE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(xE)}:qp;function xE(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function Gp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Ol(y.documentElement),a&2&&Ol(y.body),a&4)for(a=y.head,Ol(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ga]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Bl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Bl(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ME(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ga])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function UE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function LE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Fp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var Hn=new Map,Yp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=et.d;et.d={f:zE,r:PE,D:kE,C:BE,L:jE,m:qE,X:GE,S:HE,M:QE};function zE(){var t=Yi.f(),n=pu();return t||n}function PE(t){var n=ti(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):Yi.r(t)}var ms=typeof document>"u"?null:document;function Kp(t,n,a){var l=ms;if(l&&typeof n=="string"&&n){var c=Te(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),ge(n),l.head.appendChild(n)))}}function kE(t){Yi.D(t),Kp("dns-prefetch",t,null)}function BE(t,n){Yi.C(t,n),Kp("preconnect",t,n)}function jE(t,n,a){Yi.L(t,n,a);var l=ms;if(l&&t&&n){var c='link[rel="preload"][as="'+Te(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Te(a.imageSizes)+'"]')):c+='[href="'+Te(t)+'"]';var f=c;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}Hn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),Ge(n,"link",t),ge(n),l.head.appendChild(n)))}}function qE(t,n){Yi.m(t,n);var a=ms;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!Hn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Hn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),Ge(l,"link",t),ge(l),a.head.appendChild(l)}}}function HE(t,n,a){Yi.S(t,n,a);var l=ms;if(l&&t){var c=nn(l).hoistableStyles,f=gs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(f))&&_f(t,a);var b=y=l.createElement("link");ge(b),Ge(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function GE(t,n){Yi.X(t,n);var a=ms;if(a&&t){var l=nn(a).hoistableScripts,c=ps(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=Hn.get(c))&&vf(t,n),f=a.createElement("script"),ge(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function QE(t,n){Yi.M(t,n);var a=ms;if(a&&t){var l=nn(a).hoistableScripts,c=ps(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Hn.get(c))&&vf(t,n),f=a.createElement("script"),ge(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xp(t,n,a,l){var c=(c=Et.current)?Ru(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gs(a.href),a=nn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gs(a.href);var f=nn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),f||FE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(a),a=nn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+Te(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function FE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),ge(n),t.head.appendChild(n))}function ps(t){return'[src="'+Te(t)+'"]'}function Ml(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return n.instance=l,ge(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ge(l),Ge(l,"style",c),wu(l,a.precedence,t),n.instance=l;case"stylesheet":c=gs(a.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ge(f),f;l=Zp(a),(c=Hn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),ge(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ge(f,"link",l),n.state.loading|=4,wu(f,a.precedence,t),n.instance=f;case"script":return f=ps(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,ge(c),c):(l=a,(c=Hn.get(f))&&(l=A({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ge(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function Jp(t,n,a){if(Cu===null){var l=new Map,c=Cu=new Map;c.set(a,l)}else c=Cu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ga]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function YE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function KE(){}function XE(t,n,a){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=gs(a.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ge(f);return}f=t.ownerDocument||t,a=Zp(a),(c=Hn.get(c))&&_f(a,c),f=f.createElement("link"),ge(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ge(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function ZE(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,n.forEach($E,t),Vu=null,Du.call(t))}function $E(t,n){if(!(n.state.loading&4)){var a=Vu.get(t);if(a)var l=a.get(null);else{a=new Map,Vu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function JE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ey(t,n,a,l,c,f,y,E,b,P,G,F){return t=new JE(t,n,a,y,E,b,P,F),n=1,f===!0&&(n|=24),f=En(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ah(f),t}function ny(t){return t?(t=Yr,t):Yr}function iy(t,n,a,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(Rn(a,t,n),fl(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ry(t){if(t.tag===13){var n=Fr(t,67108864);n!==null&&Rn(n,t,67108864),Tf(t,67108864)}}var Nu=!0;function WE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Af(t,n,a,l)}finally{et.p=f,H.T=c}}function tT(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Af(t,n,a,l)}finally{et.p=f,H.T=c}}function Af(t,n,a,l){if(Nu){var c=Sf(l);if(c===null)uf(t,n,l,Iu,a),ly(t,l);else if(nT(c,t,n,a,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<eT.indexOf(t)){for(;c!==null;){var f=ti(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Yn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Re(y);E.entanglements[1]|=b,y&=~b}mi(f),(Xt&6)===0&&(mu=rt()+500,Vl(0))}}break;case 13:E=Fr(f,2),E!==null&&Rn(E,f,2),pu(),Tf(f,2)}if(f=Sf(l),f===null&&uf(t,n,l,Iu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Sf(t){return t=Mn(t),bf(t)}var Iu=null;function bf(t){if(Iu=null,t=Ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Iu=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case tn:return 2;case on:return 8;case yn:case Ji:return 32;case Ai:return 268435456;default:return 32}default:return 32}}var Rf=!1,Aa=null,Sa=null,ba=null,zl=new Map,Pl=new Map,Ra=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function kl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ti(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function nT(t,n,a,l,c){switch(n){case"focusin":return Aa=kl(Aa,t,n,a,l,c),!0;case"dragenter":return Sa=kl(Sa,t,n,a,l,c),!0;case"mouseover":return ba=kl(ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,kl(zl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pl.set(f,kl(Pl.get(f)||null,t,n,a,l,c)),!0}return!1}function oy(t){var n=Ri(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,po(t.priority,function(){if(a.tag===13){var l=bn();l=Wi(l);var c=Fr(a,l);c!==null&&Rn(c,a,l),Tf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return n=ti(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){Ou(t)&&a.delete(n)}function iT(){Rf=!1,Aa!==null&&Ou(Aa)&&(Aa=null),Sa!==null&&Ou(Sa)&&(Sa=null),ba!==null&&Ou(ba)&&(ba=null),zl.forEach(uy),Pl.forEach(uy)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iT)))}var Mu=null;function cy(t){Mu!==t&&(Mu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var f=ti(a);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Bl(t){function n(b){return xu(b,t)}Aa!==null&&xu(Aa,t),Sa!==null&&xu(Sa,t),ba!==null&&xu(ba,t),zl.forEach(n),Pl.forEach(n);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[Ee]||null;if(typeof f=="function")y||cy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ee]||null)E=y.formAction;else if(bf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),cy(a)}}}function wf(t){this._internalRoot=t}Uu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=bn();iy(a,l,t,n,null,null)},Uu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),pu(),n[On]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ta();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ra.length&&n!==0&&n<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&oy(t)}};var hy=e.version;if(hy!=="19.1.0")throw Error(s(527,hy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Gt=Lu.inject(aT),Mt=Lu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Cg,f=Dg,y=Vg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ey(t,1,!1,null,null,a,l,c,f,y,E,null),t[On]=n.current,of(t),new wf(n)},ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Cg,y=Dg,E=Vg,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=ey(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=ny(null),a=n.current,l=bn(),l=Wi(l),c=oa(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,bi(n,a),mi(n),t[On]=n.current,of(t),new Uu(n)},ql.version="19.1.0",ql}var Ty;function mT(){if(Ty)return Vf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=dT(),Vf.exports}var gT=mT();const pT=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},yT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(D=64)),s.push(i[A],i[C],i[D],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||C==null)throw new _T;const D=h<<2|g>>4;if(s.push(D),_!==64){const j=g<<4&240|_>>2;if(s.push(j),C!==64){const X=_<<6&192|C;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vT=function(r){const e=P_(r);return k_.encodeByteArray(e,!0)},Ku=function(r){return vT(r).replace(/\./g,"")},ET=function(r){try{return k_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=()=>TT().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof Ay>"u")return;const r=Ay.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ET(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return pT()||AT()||ST()||bT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},RT=r=>{var e,i;return(i=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},B_=r=>{const e=RT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},j_=()=>{var r;return(r=gd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){return r.endsWith(".cloudworkstations.dev")}async function q_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Kl={};function DT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function VT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Sy=!1;function H_(r,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||Kl[r]===e||Kl[r]||Sy)return;Kl[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=DT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Sy=!0,d()},D}function A(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=VT(s),j=i("text"),X=document.getElementById(j)||document.createElement("span"),at=i("learnmore"),$=document.getElementById(at)||document.createElement("a"),wt=i("preprendIcon"),mt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pt=D.element;g(pt),A($,at);const Lt=_();v(mt,wt),pt.append(mt,X,$,Lt),document.body.appendChild(pt)}h?(X.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){var r;const e=(r=gd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xT(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="FirebaseError";class Sr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=UT,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G_.prototype.create)}}class G_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?LT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Sr(o,g,s)}}function LT(r,e){return r.replace(zT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zT=/\{\$([^}]+)}/g;function Xu(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(by(h)&&by(d)){if(!Xu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function by(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kT(r){return r===vr?void 0:r}function BT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const qT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},HT=jt.INFO,GT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},QT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=GT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q_{constructor(e){this.name=e,this._logLevel=HT,this._logHandler=QT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const FT=(r,e)=>e.some(i=>r instanceof i);let Ry,wy;function YT(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KT(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,Qf=new WeakMap,Y_=new WeakMap,xf=new WeakMap,pd=new WeakMap;function XT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&F_.set(i,r)}).catch(()=>{}),pd.set(e,r),e}function ZT(r){if(Qf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Qf.set(r,e)}let Ff={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Qf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Y_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $T(r){Ff=r(Ff)}function JT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Mf(this),e,...i);return Y_.set(s,e.sort?e.sort():[e]),Da(s)}:KT().includes(r)?function(...e){return r.apply(Mf(this),e),Da(F_.get(this))}:function(...e){return Da(r.apply(Mf(this),e))}}function WT(r){return typeof r=="function"?JT(r):(r instanceof IDBTransaction&&ZT(r),FT(r,YT())?new Proxy(r,Ff):r)}function Da(r){if(r instanceof IDBRequest)return XT(r);if(xf.has(r))return xf.get(r);const e=WT(r);return e!==r&&(xf.set(r,e),pd.set(e,r)),e}const Mf=r=>pd.get(r);function t1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Da(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Da(d.result),v.oldVersion,v.newVersion,Da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const e1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],Uf=new Map;function Cy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=n1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||e1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Uf.set(e,h),h}$T(r=>({...r,get:(e,i,s)=>Cy(e,i)||r.get(e,i,s),has:(e,i)=>!!Cy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(a1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function a1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",Dy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Q_("@firebase/app"),r1="@firebase/app-compat",s1="@firebase/analytics-compat",l1="@firebase/analytics",o1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",d1="@firebase/data-connect",m1="@firebase/database-compat",g1="@firebase/functions",p1="@firebase/functions-compat",y1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",E1="@firebase/messaging-compat",T1="@firebase/performance",A1="@firebase/performance-compat",S1="@firebase/remote-config",b1="@firebase/remote-config-compat",R1="@firebase/storage",w1="@firebase/storage-compat",C1="@firebase/firestore",D1="@firebase/ai",V1="@firebase/firestore-compat",N1="firebase",I1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",O1={[Yf]:"fire-core",[r1]:"fire-core-compat",[l1]:"fire-analytics",[s1]:"fire-analytics-compat",[u1]:"fire-app-check",[o1]:"fire-app-check-compat",[c1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[d1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[g1]:"fire-fn",[p1]:"fire-fn-compat",[y1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[E1]:"fire-fcm-compat",[T1]:"fire-perf",[A1]:"fire-perf-compat",[S1]:"fire-rc",[b1]:"fire-rc-compat",[R1]:"fire-gcs",[w1]:"fire-gcs-compat",[C1]:"fire-fst",[V1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,x1=new Map,Xf=new Map;function Vy(r,e){try{r.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wl(r){const e=r.name;if(Xf.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,r);for(const i of Zu.values())Vy(i,r);for(const i of x1.values())Vy(i,r);return!0}function K_(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function X_(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new G_("app","Firebase",M1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=I1;function Z_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Va.create("bad-app-name",{appName:String(o)});if(i||(i=j_()),!i)throw Va.create("no-options");const h=Zu.get(o);if(h){if(Xu(i,h.options)&&Xu(s,h.config))return h;throw Va.create("duplicate-app",{appName:o})}const d=new jT(o);for(const v of Xf.values())d.addComponent(v);const g=new U1(i,s,d);return Zu.set(o,g),g}function $_(r=Kf){const e=Zu.get(r);if(!e&&r===Kf&&j_())return Z_();if(!e)throw Va.create("no-app",{appName:r});return e}function Na(r,e,i){var s;let o=(s=O1[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(g.join(" "));return}Wl(new As(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",P1=1,to="firebase-heartbeat-store";let Lf=null;function J_(){return Lf||(Lf=t1(z1,P1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function k1(r){try{const i=(await J_()).transaction(to),s=await i.objectStore(to).get(W_(r));return await i.done,s}catch(e){if(e instanceof Sr)Xi.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(i.message)}}}async function Ny(r,e){try{const s=(await J_()).transaction(to,"readwrite");await s.objectStore(to).put(e,W_(r)),await s.done}catch(i){if(i instanceof Sr)Xi.warn(i.message);else{const s=Va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Xi.warn(s.message)}}}function W_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=1024,j1=30;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new G1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Iy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>j1){const d=Q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Iy(),{heartbeatsToSend:s,unsentEntries:o}=H1(this._heartbeatsCache.heartbeats),h=Ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Xi.warn(i),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function H1(r,e=B1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Oy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Oy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class G1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xT()?MT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await k1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Oy(r){return Ku(JSON.stringify({version:2,heartbeats:r})).length}function Q1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){Wl(new As("platform-logger",e=>new i1(e),"PRIVATE")),Wl(new As("heartbeat",e=>new q1(e),"PRIVATE")),Na(Yf,Dy,r),Na(Yf,Dy,"esm2017"),Na("fire-js","")}F1("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="type.googleapis.com/google.protobuf.Int64Value",K1="type.googleapis.com/google.protobuf.UInt64Value";function tv(r,e){const i={};for(const s in r)r.hasOwnProperty(s)&&(i[s]=e(r[s]));return i}function $u(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>$u(e));if(typeof r=="function"||typeof r=="object")return tv(r,e=>$u(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Ss(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case Y1:case K1:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Ss(e)):typeof r=="function"||typeof r=="object"?tv(r,e=>Ss(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gn extends Sr{constructor(e,i,s){super(`${yd}/${e}`,i||""),this.details=s,Object.setPrototypeOf(this,gn.prototype)}}function X1(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ju(r,e){let i=X1(r),s=i,o;try{const h=e&&e.error;if(h){const d=h.status;if(typeof d=="string"){if(!xy[d])return new gn("internal","internal");i=xy[d],s=d}const g=h.message;typeof g=="string"&&(s=g),o=h.details,o!==void 0&&(o=Ss(o))}}catch{}return i==="ok"?null:new gn(i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,X_(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||i.get().then(h=>this.auth=h,()=>{}),this.messaging||s.get().then(h=>this.messaging=h,()=>{}),this.appCheck||o==null||o.get().then(h=>this.appCheck=h,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:i,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="us-central1",$1=/^data: (.*?)(?:\n|$)/;function J1(r){let e=null;return{promise:new Promise((i,s)=>{e=setTimeout(()=>{s(new gn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class W1{constructor(e,i,s,o,h=Zf,d=(...g)=>fetch(...g)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new Z1(e,i,s,o),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(h);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=Zf}catch{this.customDomain=null,this.region=h}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function tA(r,e,i){const s=hc(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${i}`,s&&(q_(r.emulatorOrigin),H_("Functions",!0))}function eA(r,e,i){const s=o=>iA(r,e,o,{});return s.stream=(o,h)=>rA(r,e,o,h),s}async function nA(r,e,i,s){i["Content-Type"]="application/json";let o;try{o=await s(r,{method:"POST",body:JSON.stringify(e),headers:i})}catch{return{status:0,json:null}}let h=null;try{h=await o.json()}catch{}return{status:o.status,json:h}}async function ev(r,e){const i={},s=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(i.Authorization="Bearer "+s.authToken),s.messagingToken&&(i["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=s.appCheckToken),i}function iA(r,e,i,s){const o=r._url(e);return aA(r,o,i,s)}async function aA(r,e,i,s){i=$u(i);const o={data:i},h=await ev(r,s),d=s.timeout||7e4,g=J1(d),v=await Promise.race([nA(e,o,h,r.fetchImpl),g.promise,r.cancelAllRequests]);if(g.cancel(),!v)throw new gn("cancelled","Firebase Functions instance was deleted.");const _=Ju(v.status,v.json);if(_)throw _;if(!v.json)throw new gn("internal","Response is not valid JSON object.");let A=v.json.data;if(typeof A>"u"&&(A=v.json.result),typeof A>"u")throw new gn("internal","Response is missing data field.");return{data:Ss(A)}}function rA(r,e,i,s){const o=r._url(e);return sA(r,o,i,s||{})}async function sA(r,e,i,s){var o;i=$u(i);const h={data:i},d=await ev(r,s);d["Content-Type"]="application/json",d.Accept="text/event-stream";let g;try{g=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(h),headers:d,signal:s==null?void 0:s.signal})}catch(j){if(j instanceof Error&&j.name==="AbortError"){const at=new gn("cancelled","Request was cancelled.");return{data:Promise.reject(at),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(at)}}}}}}const X=Ju(0,null);return{data:Promise.reject(X),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(X)}}}}}}let v,_;const A=new Promise((j,X)=>{v=j,_=X});(o=s==null?void 0:s.signal)===null||o===void 0||o.addEventListener("abort",()=>{const j=new gn("cancelled","Request was cancelled.");_(j)});const C=g.body.getReader(),D=lA(C,v,_,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const j=D.getReader();return{async next(){const{value:X,done:at}=await j.read();return{value:X,done:at}},async return(){return await j.cancel(),{done:!0,value:void 0}}}}},data:A}}function lA(r,e,i,s){const o=(d,g)=>{const v=d.match($1);if(!v)return;const _=v[1];try{const A=JSON.parse(_);if("result"in A){e(Ss(A.result));return}if("message"in A){g.enqueue(Ss(A.message));return}if("error"in A){const C=Ju(0,A);g.error(C),i(C);return}}catch(A){if(A instanceof gn){g.error(A),i(A);return}}},h=new TextDecoder;return new ReadableStream({start(d){let g="";return v();async function v(){if(s!=null&&s.aborted){const _=new gn("cancelled","Request was cancelled");return d.error(_),i(_),Promise.resolve()}try{const{value:_,done:A}=await r.read();if(A){g.trim()&&o(g.trim(),d),d.close();return}if(s!=null&&s.aborted){const D=new gn("cancelled","Request was cancelled");d.error(D),i(D),await r.cancel();return}g+=h.decode(_,{stream:!0});const C=g.split(`
`);g=C.pop()||"";for(const D of C)D.trim()&&o(D.trim(),d);return v()}catch(_){const A=_ instanceof gn?_:Ju(0,null);d.error(A),i(A)}}},cancel(){return r.cancel()}})}const My="@firebase/functions",Uy="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="auth-internal",uA="app-check-internal",cA="messaging-internal";function hA(r){const e=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),h=i.getProvider(oA),d=i.getProvider(cA),g=i.getProvider(uA);return new W1(o,h,d,g,s)};Wl(new As(yd,e,"PUBLIC").setMultipleInstances(!0)),Na(My,Uy,r),Na(My,Uy,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r=$_(),e=Zf){const s=K_(pn(r),yd).getImmediate({identifier:e}),o=B_("functions");return o&&dA(s,...o),s}function dA(r,e,i){tA(pn(r),e,i)}function mA(r,e,i){return eA(pn(r),e)}hA();var gA="firebase",pA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Na(gA,pA,"app");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,nv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,x,M){for(var R=Array(arguments.length-2),me=2;me<arguments.length;me++)R[me-2]=arguments[me];return S.prototype[x].apply(I,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)I[x]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(x=0;16>x;++x)I[x]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],x=O.g[2];var M=O.g[3],R=S+(M^w&(x^M))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=M+(x^S&(w^x))+I[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(w^M&(S^w))+I[2]+606105819&4294967295,x=M+(R<<17&4294967295|R>>>15),R=w+(S^x&(M^S))+I[3]+3250441966&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(M^w&(x^M))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(x^S&(w^x))+I[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(w^M&(S^w))+I[6]+2821735955&4294967295,x=M+(R<<17&4294967295|R>>>15),R=w+(S^x&(M^S))+I[7]+4249261313&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(M^w&(x^M))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(x^S&(w^x))+I[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(w^M&(S^w))+I[10]+4294925233&4294967295,x=M+(R<<17&4294967295|R>>>15),R=w+(S^x&(M^S))+I[11]+2304563134&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(M^w&(x^M))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(x^S&(w^x))+I[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(w^M&(S^w))+I[14]+2792965006&4294967295,x=M+(R<<17&4294967295|R>>>15),R=w+(S^x&(M^S))+I[15]+1236535329&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(x^M&(w^x))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^x&(S^w))+I[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(M^S))+I[11]+643717713&4294967295,x=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(x^M))+I[0]+3921069994&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(w^x))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^x&(S^w))+I[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(M^S))+I[15]+3634488961&4294967295,x=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(x^M))+I[4]+3889429448&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(w^x))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^x&(S^w))+I[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(M^S))+I[3]+4107603335&4294967295,x=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(x^M))+I[8]+1163531501&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(w^x))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^x&(S^w))+I[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(M^S))+I[7]+1735328473&4294967295,x=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(x^M))+I[12]+2368359562&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(w^x^M)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^x)+I[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^w)+I[11]+1839030562&4294967295,x=M+(R<<16&4294967295|R>>>16),R=w+(x^M^S)+I[14]+4259657740&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^M)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^x)+I[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^w)+I[7]+4139469664&4294967295,x=M+(R<<16&4294967295|R>>>16),R=w+(x^M^S)+I[10]+3200236656&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^M)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^x)+I[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^w)+I[3]+3572445317&4294967295,x=M+(R<<16&4294967295|R>>>16),R=w+(x^M^S)+I[6]+76029189&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^M)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^x)+I[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^w)+I[15]+530742520&4294967295,x=M+(R<<16&4294967295|R>>>16),R=w+(x^M^S)+I[2]+3299628645&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(x^(w|~M))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~x))+I[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~w))+I[14]+2878612391&4294967295,x=M+(R<<15&4294967295|R>>>17),R=w+(M^(x|~S))+I[5]+4237533241&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~M))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~x))+I[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~w))+I[10]+4293915773&4294967295,x=M+(R<<15&4294967295|R>>>17),R=w+(M^(x|~S))+I[1]+2240044497&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~M))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~x))+I[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~w))+I[6]+2734768916&4294967295,x=M+(R<<15&4294967295|R>>>17),R=w+(M^(x|~S))+I[13]+1309151649&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~M))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~x))+I[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~w))+I[2]+718787259&4294967295,x=M+(R<<15&4294967295|R>>>17),R=w+(M^(x|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,x=this.h,M=0;M<S;){if(x==0)for(;M<=w;)o(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<S;)if(I[x++]=O.charCodeAt(M++),x==this.blockSize){o(this,I),x=0;break}}else for(;M<S;)if(I[x++]=O[M++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,x=O.length-1;0<=x;x--){var M=O[x]|0;I&&M==S||(w[x]=M,I=!1)}this.g=w}var g={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return $(_(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),I=C,x=0;x<O.length;x+=8){var M=Math.min(8,O.length-x),R=parseInt(O.substring(x,x+M),S);8>M?(M=_(Math.pow(S,M)),I=I.j(M).add(_(R))):(I=I.j(w),I=I.add(_(R)))}return I}var C=v(0),D=v(1),j=v(16777216);r=d.prototype,r.m=function(){if(at(this))return-$(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(X(this))return"0";if(at(this))return"-"+$(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,I="";;){var x=Lt(w,S).g;w=wt(w,x.j(S));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=x,X(w))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function X(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function at(O){return O.h==-1}r.l=function(O){return O=wt(this,O),at(O)?-1:X(O)?0:1};function $(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(D)}r.abs=function(){return at(this)?$(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,x=0;x<=S;x++){var M=I+(this.i(x)&65535)+(O.i(x)&65535),R=(M>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);I=R>>>16,M&=65535,R&=65535,w[x]=R<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function wt(O,S){return O.add($(S))}r.j=function(O){if(X(this)||X(O))return C;if(at(this))return at(O)?$(this).j($(O)):$($(this).j(O));if(at(O))return $(this.j($(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<O.g.length;x++){var M=this.i(I)>>>16,R=this.i(I)&65535,me=O.i(x)>>>16,se=O.i(x)&65535;w[2*I+2*x]+=R*se,mt(w,2*I+2*x),w[2*I+2*x+1]+=M*se,mt(w,2*I+2*x+1),w[2*I+2*x+1]+=R*me,mt(w,2*I+2*x+1),w[2*I+2*x+2]+=M*me,mt(w,2*I+2*x+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function mt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function pt(O,S){this.g=O,this.h=S}function Lt(O,S){if(X(S))throw Error("division by zero");if(X(O))return new pt(C,C);if(at(O))return S=Lt($(O),S),new pt($(S.g),$(S.h));if(at(S))return S=Lt(O,$(S)),new pt($(S.g),S.h);if(30<O.g.length){if(at(O)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,I=S;0>=I.l(O);)w=Rt(w),I=Rt(I);var x=qt(w,1),M=qt(I,1);for(I=qt(I,2),w=qt(w,2);!X(I);){var R=M.add(I);0>=R.l(O)&&(x=x.add(w),M=R),I=qt(I,1),w=qt(w,1)}return S=wt(O,x.j(S)),new pt(x,S)}for(x=C;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=_(w),R=M.j(S);at(R)||0<R.l(O);)w-=I,M=_(w),R=M.j(S);X(M)&&(M=D),x=x.add(M),O=wt(O,R)}return new pt(x,O)}r.A=function(O){return Lt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function Rt(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function qt(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,x=[],M=0;M<I;M++)x[M]=0<S?O.i(M+w)>>>S|O.i(M+w+1)<<32-S:O.i(M+w);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ia=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iv,Gl,av,qu,$f,rv,sv,lv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)tt[zt-2]=arguments[zt];return m.prototype[L].apply(T,tt)}}function at(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class wt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(u){return/^[\s\xa0]*$/.test(u)}function pt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var Rt=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function qt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function x(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function M(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,p){const T=se.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var se=new wt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Ht=new me,V=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){M(p)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Dt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Rt){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}X(Dt,J);var Et={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Vn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$t,this.da=this.fa=!1}function Nn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gn(u){this.src=u,this.g={},this.h=0}Gn.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=W(u,m,T,L);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new Vn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Ti(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Nn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function W(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),yt={};function ot(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ot(u,m[q],p,T,L);return null}return p=en(p),u&&u[ve]?u.K(m,p,_(T)?!!T.capture:!1,L):rt(u,m,p,!1,T,L)}function rt(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,zt=Ai(u);if(zt||(u[dt]=zt=new Gn(u)),p=zt.add(m,p,T,tt,q),p.proxy)return p;if(T=Jt(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Jt(){function u(p){return m.call(u.src,u.listener,p)}const m=Ji;return u}function tn(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)tn(u,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=en(p),u&&u[ve]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=W(q,p,T,L),-1<p&&(Nn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=W(m,p,T,L)),(p=-1<u?m[u]:null)&&on(p))}function on(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])Ti(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ai(m))?(Ti(p,u),p.h==0&&(p.src=null,m[dt]=null)):Nn(u)}}}function yn(u){return u in yt?yt[u]:yt[u]="on"+u}function Ji(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&on(u),u=p.call(T,m)}return u}function Ai(u){return u=u[dt],u instanceof Gn?u:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(u){return typeof u=="function"?u:(u[In]||(u[In]=function(m){return u.handleEvent(m)}),u[In])}function Gt(){nt.call(this),this.i=new Gn(this),this.M=this,this.F=null}X(Gt,nt),Gt.prototype[ve]=!0,Gt.prototype.removeEventListener=function(u,m,p,T){tn(this,u,m,p,T)};function Mt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var L=m;m=new J(T,u),I(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=Ke(tt,T,!0,m)&&L}if(tt=m.g=u,L=Ke(tt,T,!0,m)&&L,L=Ke(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=Ke(tt,T,!1,m)&&L}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Nn(p[T]);delete u.g[m],u.h--}}this.F=null},Gt.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Gt.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Ke(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var zt=tt.listener,Ce=tt.ha||tt.src;tt.fa&&Ti(u.i,tt),L=zt.call(Ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function Re(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Us(u){u.g=Re(()=>{u.g=null,u.i&&(u.i=!1,Us(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wr extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(u){nt.call(this),this.h=u,this.g={}}X(Qn,nt);var Fn=[];function qa(u){qt(u.g,function(m,p){this.g.hasOwnProperty(p)&&on(m)},u),u.g={}}Qn.prototype.N=function(){Qn.aa.N.call(this),qa(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=g.JSON.stringify,Cr=g.JSON.parse,Ha=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ls(){}Ls.prototype.h=null;function zs(u){return u.h||(u.h=u.i())}function Ps(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){J.call(this,"d")}X(bi,J);function ks(){J.call(this,"c")}X(ks,J);var Wn={},Bs=null;function Wi(){return Bs=Bs||new Gt}Wn.La="serverreachability";function Dr(u){J.call(this,Wn.La,u)}X(Dr,J);function ta(u){const m=Wi();Mt(m,new Dr(m))}Wn.STAT_EVENT="statevent";function po(u,m){J.call(this,Wn.STAT_EVENT,u),this.stat=m}X(po,J);function le(u){const m=Wi();Mt(m,new po(m,u))}Wn.Ma="timingevent";function we(u,m){J.call(this,Wn.Ma,u),this.size=m}X(we,J);function Ee(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function js(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",zt=q.split("&"),Ce=0;Ce<zt.length;Ce++){var Pt=zt[Ce].split("=");if(1<Pt.length){var Ue=Pt[0];Pt=Pt[1];var De=Ue.split("_");tt=2<=De.length&&De[1]=="type"?tt+(Ue+"="+Pt+"&"):tt+(Ue+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Vc(u,m,p,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function ea(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ga(u,p)+(T?" "+T:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Ga(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Yn(p)}catch{return m}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ei(){}X(ei,Ls),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},ti=new ei;function nn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var qs={},Vr={};function Kn(u,m,p){u.L=1,u.v=Xa(_n(m)),u.m=p,u.P=!0,wi(u,null)}function wi(u,m){u.F=Date.now(),Qa(u),u.A=_n(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ks(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ge,u.g=xo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new wr(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Fn[0]=L.toString()),L=Fn);for(var q=0;q<L.length;q++){var tt=ot(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ta(),js(u.i,u.u,u.A,u.l,u.R,u.m)}nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ln(u)==3?m.j():this.Y(u)},nn.prototype.Y=function(u){try{if(u==this.g)t:{const De=Ln(this.g);var m=this.g.Ba();const Mi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||De!=4||m==7||(m==8||0>=Mi?ta(3):ta(2)),ia(this);var p=this.g.Z();this.X=p;e:if(_o(this)){var T=Ro(this.g);u="";var L=T.length,q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),ni(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Vc(this.i,this.u,this.A,this.l,this.R,De,p),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ce=this.g;if((zt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(zt)){var Pt=zt;break e}}Pt=null}if(p=Pt)ea(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,p);else{this.o=!1,this.s=3,le(12),Be(this),ni(this);break t}}if(this.P){p=!0;let je;for(;!this.J&&this.C<tt.length;)if(je=vo(this,tt),je==Vr){De==4&&(this.s=4,le(14),p=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(je==qs){this.s=4,le(15),ea(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else ea(this.i,this.l,je,null),Fa(this,je);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||tt.length!=0||this.h.h||(this.s=1,le(16),p=!1),this.o=this.o&&p,!p)ea(this.i,this.l,tt,"[Invalid Chunked Response]"),Be(this),ni(this);else if(0<tt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ir(Ue),Ue.M=!0,le(11))}}else ea(this.i,this.l,tt,null),Fa(this,tt);De==4&&Be(this),this.o&&!this.J&&(De==4?No(this.j,this):(this.o=!1,Qa(this)))}else Mc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Be(this),ni(this)}}}catch{}finally{}};function _o(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Vr:(p=Number(m.substring(p,T)),isNaN(p)?qs:(T+=1,T+p>m.length?Vr:(m=m.slice(T,T+p),u.C=T+p,m)))}nn.prototype.cancel=function(){this.J=!0,Be(this)};function Qa(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ee(D(u.ba,u),m)}function ia(u){u.B&&(g.clearTimeout(u.B),u.B=null)}nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(ta(),le(17)),Be(this),this.s=2,ni(this)):Eo(this,this.S-u)};function ni(u){u.j.G==0||u.J||No(u.j,u)}function Be(u){ia(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fa(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Hs(p.h,u))){if(!u.K&&Hs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)jr(p),kr(p);else break t;Ws(p),le(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ee(D(p.Za,p),6e3));if(1>=Ir(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else xi(p,11)}else if((u.K||p.g==u)&&jr(p),!mt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];if(p.T=Pt[0],Pt=Pt[1],p.G==2)if(Pt[0]=="c"){p.K=Pt[1],p.ia=Pt[2];const Ue=Pt[3];Ue!=null&&(p.la=Ue,p.j.info("VER="+p.la));const De=Pt[4];De!=null&&(p.Aa=De,p.j.info("SVER="+p.Aa));const Mi=Pt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(T=1.5*Mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const je=u.g;if(je){const ui=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var q=T.h;q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Or(q,q.h),q.h=null))}if(T.D){const el=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(T.ya=el,Wt(T.I,T.D,el))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Oo(T,T.J?T.ia:null,T.W),tt.K){an(T.h,tt);var zt=tt,Ce=T.L;Ce&&(zt.I=Ce),zt.B&&(ia(zt),Qa(zt)),T.g=tt}else Do(T);0<p.i.length&&Br(p)}else Pt[0]!="stop"&&Pt[0]!="close"||xi(p,7);else p.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?xi(p,7):$s(p):Pt[0]!="noop"&&p.l&&p.l.ta(Pt),p.v=0)}}ta(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function Ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function Hs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Or(u,m){u.g?u.g.add(m):u.h=m}function an(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return at(u.i)}function Nc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function xr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=xr(u),T=Nc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Te(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Te){this.h=u.h,Ka(this,u.j),this.o=u.o,this.g=u.g,aa(this,u.s),this.l=u.l;var m=u.i,p=new Vi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Di(this,p),this.m=u.m}else u&&(m=String(u).match(Ya))?(this.h=!1,Ka(this,m[1]||"",!0),this.o=xn(m[2]||""),this.g=xn(m[3]||"",!0),aa(this,m[4]),this.l=xn(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=xn(m[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Te.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Za(m,Fs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Za(m,Fs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Za(p,p.charAt(0)=="/"?Oc:Ys,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Za(p,Mr)),u.join("")};function _n(u){return new Te(u)}function Ka(u,m,p){u.j=p?xn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function aa(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Di(u,m,p){m instanceof Vi?(u.i=m,So(u.i,u.h)):(p||(m=Za(m,xc)),u.i=new Vi(m,u.h))}function Wt(u,m,p){u.i.set(m,p)}function Xa(u){return Wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Za(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ao),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ao(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fs=/[#\/\?@]/g,Ys=/[#\?:]/g,Oc=/[#\?]/g,xc=/[#\?@]/g,Mr=/#/g;function Vi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ic(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Vi.prototype,r.add=function(u,m){Mn(this),this.i=null,u=ii(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ni(u,m){Mn(u),m=ii(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ii(u,m){return Mn(u),m=ii(u,m),u.g.has(m)}r.forEach=function(u,m){Mn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){Mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},r.V=function(u){Mn(this);let m=[];if(typeof u=="string")Ii(this,u)&&(m=m.concat(this.g.get(ii(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return Mn(this),this.i=null,u=ii(this,u),Ii(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ks(u,m,p){Ni(u,m),0<p.length&&(u.i=null,u.g.set(ii(u,m),at(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function ii(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function So(u,m){m&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(Ni(this,T),Ks(this,L,p))},u)),u.j=m}function $a(u,m){const p=new On;if(g.Image){const T=new Image;T.onload=j(Un,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(Un,p,"TestLoadImage: error",!1,m,T),T.onabort=j(Un,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(Un,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xn(u,m){const p=new On,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Un(p,"TestPingServer: ok",!0,m):Un(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(p,"TestPingServer: error",!1,m)})}function Un(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ja(){this.g=new Ha}function ai(u,m,p){const T=p||"";try{Qs(u,function(L,q){let tt=L;_(L)&&(tt=Yn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ra(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ra,Ls),ra.prototype.g=function(){return new Oi(this.l,this.j)},ra.prototype.i=function(u){return function(){return u}}({});function Oi(u,m){Gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Oi,Gt),r=Oi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ri(this):si(this),this.readyState==3&&Xs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ri(this))},r.Qa=function(u){this.g&&(this.response=u,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(u){u.readyState=4,u.l=null,u.j=null,u.v=null,si(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zs(u){let m="";return qt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Me(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Zs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Wt(u,m,p))}function Yt(u){Gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Yt,Gt);var Ur=/^https?$/i,Wa=["POST","PUT"];r=Yt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?zs(this.o):zs(ti),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){bo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Wa,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){bo(this,q)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Lr(u),li(u)}function Lr(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zr(this):this.bb())},r.bb=function(){zr(this)};function zr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)Re(u.Ea,0,u);else if(Mt(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(u.D).match(Ya)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ur.test(L?L.toLowerCase():"")}p=T}if(p)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var q=2<Ln(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Lr(u)}}finally{li(u)}}}}function li(u,m){if(u.g){tr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Mt(u,"ready");try{p.onreadystatechange=T}catch{}}}function tr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cr(m)}};function Ro(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(u){const m={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(mt(u[T]))continue;var p=x(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Pr(u){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(u&&u.concurrentRequestLimit),this.Da=new Ja,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){le(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Oo(this,null,this.W),Br(this)};function $s(u){if(wo(u),u.G==3){var m=u.U++,p=_n(u.I);if(Wt(p,"SID",u.K),Wt(p,"RID",m),Wt(p,"TYPE","terminate"),nr(u,p),m=new nn(u,u.j,m),m.L=2,m.v=Xa(_n(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=xo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qa(m)}Io(u)}function kr(u){u.g&&(ir(u),u.g.cancel(),u.g=null)}function wo(u){kr(u),u.u&&(g.clearTimeout(u.u),u.u=null),jr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Br(u){if(!Nr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||V(),ht||(et(),ht=!0),Ht.add(m,u),u.B=0}}function Uc(u,m){return Ir(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ee(D(u.Ga,u,m),tl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new nn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Co(this,L,m),p=_n(this.I),Wt(p,"RID",u),Wt(p,"CVER",22),this.D&&Wt(p,"X-HTTP-Session-Id",this.D),nr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Zs(q)))+"&"+m:this.m&&Me(p,this.m,q)),Or(this.h,L),this.Ua&&Wt(p,"TYPE","init"),this.P?(Wt(p,"$req",m),Wt(p,"SID","null"),L.T=!0,Kn(L,p,null)):Kn(L,p,m),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||Nr(this.h)||Js(this))};function Js(u,m){var p;m?p=m.l:p=u.U++;const T=_n(u.I);Wt(T,"SID",u.K),Wt(T,"RID",p),Wt(T,"AID",u.T),nr(u,T),u.m&&u.o&&Me(T,u.m,u.o),p=new nn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Co(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Or(u.h,p),Kn(p,T,m)}function nr(u,m){u.H&&qt(u.H,function(p,T){Wt(m,T,p)}),u.l&&Qs({},function(p,T){Wt(m,T,p)})}function Co(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let zt=!0;for(let Ce=0;Ce<p;Ce++){let Pt=L[Ce].g;const Ue=L[Ce].map;if(Pt-=q,0>Pt)q=Math.max(0,L[Ce].g-100),zt=!1;else try{ai(Ue,tt,"req"+Pt+"_")}catch{T&&T(Ue)}}if(zt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||V(),ht||(et(),ht=!0),Ht.add(m,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ee(D(u.Fa,u),tl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ee(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),kr(this),Vo(this))};function ir(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Vo(u){u.g=new nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_n(u.qa);Wt(m,"RID","rpc"),Wt(m,"SID",u.K),Wt(m,"AID",u.T),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Wt(m,"TO",u.ja),Wt(m,"TYPE","xmlhttp"),nr(u,m),u.m&&u.o&&Me(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Xa(_n(m)),p.m=null,p.P=!0,wi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,kr(this),Ws(this),le(19))};function jr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function No(u,m){var p=null;if(u.g==m){jr(u),ir(u),u.g=null;var T=2}else if(Hs(u.h,m))p=m.D,an(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Wi(),Mt(T,new we(T,p)),Br(u)}else Do(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Uc(u,m)||T==2&&Ws(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function tl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const L=!T;T=new Te(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ka(T,"https"),Xa(T),L?$a(T.toString(),p):Xn(T.toString(),p)}else le(2);u.G=0,u.l&&u.l.sa(m),Io(u),wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Io(u){if(u.G=0,u.ka=[],u.l){const m=Gs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,at(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,p){var T=p instanceof Te?_n(p):new Te(p);if(T.g!="")m&&(T.g=m+"."+T.g),aa(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Te(null);T&&Ka(q,T),m&&(q.g=m),L&&aa(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Wt(T,p,m),Wt(T,"VER",u.la),nr(u,T),T}function xo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Yt(new ra({eb:p})):new Yt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}r=Mo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qr(){}qr.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){Gt.call(this),this.g=new Pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!mt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new oi(this)}X(rn,Gt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){$s(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Yn(u),u=p);m.i.push(new To(m.Ya++,u)),m.G==3&&Br(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,rn.aa.N.call(this)};function Uo(u){bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Uo,bi);function Lo(){ks.call(this),this.status=1}X(Lo,ks);function oi(u){this.g=u}X(oi,Mo),oi.prototype.ua=function(){Mt(this.g,"a")},oi.prototype.ta=function(u){Mt(this.g,new Uo(u))},oi.prototype.sa=function(u){Mt(this.g,new Lo)},oi.prototype.ra=function(){Mt(this.g,"b")},qr.prototype.createWebChannel=qr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,lv=function(){return new qr},sv=function(){return Wi()},rv=Wn,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,qu=na,Ri.COMPLETE="complete",av=Ri,Ps.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Gl=Ps,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,iv=Yt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Py="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Q_("@firebase/firestore");function ys(){return Tr.logLevel}function st(r,...e){if(Tr.logLevel<=jt.DEBUG){const i=e.map(_d);Tr.debug(`Firestore (${Is}): ${r}`,...i)}}function Zi(r,...e){if(Tr.logLevel<=jt.ERROR){const i=e.map(_d);Tr.error(`Firestore (${Is}): ${r}`,...i)}}function bs(r,...e){if(Tr.logLevel<=jt.WARN){const i=e.map(_d);Tr.warn(`Firestore (${Is}): ${r}`,...i)}}function _d(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,ov(r,s,i)}function ov(r,e,i){let s=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Zi(s),new Error(s)}function Kt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||ov(e,o,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Sr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Je.UNAUTHENTICATED))}shutdown(){}}class _A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class vA{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ki)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new uv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Je(e)}}class EA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new EA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,X_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Jf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Nt(s,o);{const h=cv(),d=bA(h.encode(By(r,i)),h.encode(By(e,i)));return d!==0?d:Nt(s,o)}}i+=s>65535?2:1}return Nt(r.length,e.length)}function By(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function bA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Nt(r[i],e[i]);return Nt(r.length,e.length)}function Rs(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,qy=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*qy);return new Oe(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<jy)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Oe(0,0))}static max(){return new St(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="__name__";class pi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=pi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=pi.isNumericId(e),o=pi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ue extends pi{construct(e,i,s){return new ue(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ue(i)}static emptyPath(){return new ue([])}}const RA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends pi{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return RA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Fe([Hy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ue.fromString(e))}static fromName(e){return new gt(ue.fromString(e).popFirst(5))}static empty(){return new gt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ue.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function wA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new Oe(i+1,0):new Oe(i,s));return new xa(o,gt.empty(),e)}function CA(r){return new xa(r.readTime,r.key,eo)}class xa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xa(St.min(),gt.empty(),eo)}static max(){return new xa(St.max(),gt.empty(),eo)}}function DA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==VA)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function IA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function dc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function OA(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="";function xA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Gy(e)),e=MA(r.get(i),e);return Gy(e)}function MA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case fv:i+="";break;default:i+=h}}return i}function Gy(r){return r+fv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ba(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function dv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new he(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Qe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new wn([])}unionWith(e){let i=new xe(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new mv("Invalid base64 string: "+h):h}}(e);return new Ye(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(r){if(Kt(!!r,39018),typeof r=="string"){let e=0;const i=UA.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ua(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="server_timestamp",pv="__type__",yv="__previous_value__",_v="__local_write_time__";function Ed(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[pv])===null||i===void 0?void 0:i.stringValue)===gv}function mc(r){const e=r.mapValue.fields[yv];return Ed(e)?mc(e):e}function no(r){const e=Ma(r.mapValue.fields[_v].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i,s,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__type__",zA="__max__",ku={mapValue:{}},Ev="__vector__",ec="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ed(r)?4:kA(r)?9007199254740991:PA(r)?10:11:Tt(28295,{value:r})}function vi(r,e){if(r===e)return!0;const i=La(r);if(i!==La(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return no(r).isEqual(no(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ma(o.timestampValue),g=Ma(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Ua(o.bytesValue).isEqual(Ua(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return _e(o.geoPointValue.latitude)===_e(h.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return _e(o.integerValue)===_e(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=_e(o.doubleValue),g=_e(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Rs(r.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Qy(d)!==Qy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!vi(d[v],g[v])))return!1;return!0}(r,e);default:return Tt(52216,{left:r})}}function ao(r,e){return(r.values||[]).find(i=>vi(i,e))!==void 0}function ws(r,e){if(r===e)return 0;const i=La(r),s=La(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=_e(h.integerValue||h.doubleValue),v=_e(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return Yy(r.timestampValue,e.timestampValue);case 4:return Yy(no(r),no(e));case 5:return Jf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Ua(h),v=Ua(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Nt(g[_],v[_]);if(A!==0)return A}return Nt(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(_e(h.latitude),_e(d.latitude));return g!==0?g:Nt(_e(h.longitude),_e(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ky(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const C=h.fields||{},D=d.fields||{},j=(g=C[ec])===null||g===void 0?void 0:g.arrayValue,X=(v=D[ec])===null||v===void 0?void 0:v.arrayValue,at=Nt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return at!==0?at:Ky(j,X)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const D=Jf(v[C],A[C]);if(D!==0)return D;const j=ws(g[v[C]],_[A[C]]);if(j!==0)return j}return Nt(v.length,A.length)}(r.mapValue,e.mapValue);default:throw Tt(23264,{Pe:i})}}function Yy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Ma(r),s=Ma(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function Ky(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ws(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function Cs(r){return Wf(r)}function Wf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ma(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ua(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Wf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Hu(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+Hu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ua(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Hu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ba(s.fields,(h,d)=>{o+=h.length+Hu(d)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function td(r){return!!r&&"integerValue"in r}function Td(r){return!!r&&"arrayValue"in r}function Xy(r){return!!r&&"nullValue"in r}function Zy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gu(r){return!!r&&"mapValue"in r}function PA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vv])===null||i===void 0?void 0:i.stringValue)===Ev}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function kA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ba(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new mn(Xl(this.value))}}function Tv(r){const e=[];return Ba(r.fields,(i,s)=>{const o=new Fe([i]);if(Gu(s)){const h=Tv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new We(e,0,St.min(),St.min(),St.min(),mn.empty(),0)}static newFoundDocument(e,i,s,o){return new We(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new We(e,2,i,St.min(),St.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new We(e,3,i,St.min(),St.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function $y(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=ws(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!vi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function BA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class Ie extends Av{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new qA(e,i,s):i==="array-contains"?new QA(e,s):i==="in"?new FA(e,s):i==="not-in"?new YA(e,s):i==="array-contains-any"?new KA(e,s):new Ie(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new HA(e,s):new GA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ws(i,this.value)):i!==null&&La(this.value)===La(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ei(e,i)}matches(e){return Sv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Sv(r){return r.op==="and"}function bv(r){return jA(r)&&Sv(r)}function jA(r){for(const e of r.filters)if(e instanceof Ei)return!1;return!0}function ed(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Cs(r.value);if(bv(r))return r.filters.map(e=>ed(e)).join(",");{const e=r.filters.map(i=>ed(i)).join(",");return`${r.op}(${e})`}}function Rv(r,e){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(r,e):r instanceof Ei?function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Rv(d,o.filters[g]),!0):!1}(r,e):void Tt(19439)}function wv(r){return r instanceof Ie?function(i){return`${i.field.canonicalString()} ${i.op} ${Cs(i.value)}`}(r):r instanceof Ei?function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"}(r):"Filter"}class qA extends Ie{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class HA extends Ie{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class GA extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Cv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class QA extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&ao(i.arrayValue,this.value)}}class FA extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class YA extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class KA extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Wy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new XA(r,e,i,s,o,h,d)}function Ad(r){const e=bt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>ed(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Cs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Cs(s)).join(",")),e.Ie=i}return e.Ie}function Sd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!BA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Rv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jy(r.startAt,e.startAt)&&Jy(r.endAt,e.endAt)}function nd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZA(r,e,i,s,o,h,d,g){return new gc(r,e,i,s,o,h,d,g)}function pc(r){return new gc(r)}function t_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $A(r){return r.collectionGroup!==null}function Zl(r){const e=bt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Fe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new ic(h,s))}),i.has(Fe.keyField().canonicalString())||e.Ee.push(new ic(Fe.keyField(),s))}return e.Ee}function yi(r){const e=bt(r);return e.de||(e.de=JA(e,Zl(r))),e.de}function JA(r,e){if(r.limitType==="F")return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)});const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function id(r,e,i){return new gc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yc(r,e){return Sd(yi(r),yi(e))&&r.limitType===e.limitType}function Dv(r){return`${Ad(yi(r))}|lt:${r.limitType}`}function _s(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>wv(o)).join(", ")}]`),dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Cs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Cs(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function _c(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=$y(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Zl(s),o)||s.endAt&&!function(d,g,v){const _=$y(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Zl(s),o))}(r,e)}function WA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vv(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const h=tS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function tS(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ws(v,_):Tt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new he(gt.comparator);function $i(){return eS}const Nv=new he(gt.comparator);function Ql(...r){let e=Nv;for(const i of r)e=e.insert(i.key,i);return e}function Iv(r){let e=Nv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Er(){return $l()}function Ov(){return $l()}function $l(){return new br(r=>r.toString(),(r,e)=>r.isEqual(e))}const nS=new he(gt.comparator),iS=new xe(gt.comparator);function Ut(...r){let e=iS;for(const i of r)e=e.add(i);return e}const aS=new xe(Nt);function rS(){return aS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function xv(r){return{integerValue:""+r}}function Mv(r,e){return OA(e)?xv(e):bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function sS(r,e,i){return r instanceof ac?function(o,h){const d={fields:{[pv]:{stringValue:gv},[_v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ed(h)&&(h=mc(h)),h&&(d.fields[yv]=h),{mapValue:d}}(i,e):r instanceof ro?Lv(r,e):r instanceof so?zv(r,e):function(o,h){const d=Uv(o,h),g=e_(d)+e_(o.Re);return td(d)&&td(o.Re)?xv(g):bd(o.serializer,g)}(r,e)}function lS(r,e,i){return r instanceof ro?Lv(r,e):r instanceof so?zv(r,e):i}function Uv(r,e){return r instanceof lo?function(s){return td(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ac extends vc{}class ro extends vc{constructor(e){super(),this.elements=e}}function Lv(r,e){const i=Pv(e);for(const s of r.elements)i.some(o=>vi(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends vc{constructor(e){super(),this.elements=e}}function zv(r,e){let i=Pv(e);for(const s of r.elements)i=i.filter(o=>!vi(o,s));return{arrayValue:{values:i}}}class lo extends vc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function e_(r){return _e(r.integerValue||r.doubleValue)}function Pv(r){return Td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.field=e,this.transform=i}}function uS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ro&&o instanceof ro||s instanceof so&&o instanceof so?Rs(s.elements,o.elements,vi):s instanceof lo&&o instanceof lo?vi(s.Re,o.Re):s instanceof ac&&o instanceof ac}(r.transform,e.transform)}class cS{constructor(e,i){this.version=e,this.transformResults=i}}class Cn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ec{}function kv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rd(r.key,Cn.none()):new oo(r.key,r.data,Cn.none());{const i=r.data,s=mn.empty();let o=new xe(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new ja(r.key,s,new wn(o.toArray()),Cn.none())}}function hS(r,e,i){r instanceof oo?function(o,h,d){const g=o.value.clone(),v=i_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof ja?function(o,h,d){if(!Qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=i_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Bv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(r,e,i,s){return r instanceof oo?function(h,d,g,v){if(!Qu(h.precondition,d))return g;const _=h.value.clone(),A=a_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof ja?function(h,d,g,v){if(!Qu(h.precondition,d))return g;const _=a_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Bv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(r,e,i,s):function(h,d,g){return Qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function fS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Uv(s.transform,o||null);h!=null&&(i===null&&(i=mn.empty()),i.set(s.field,h))}return i||null}function n_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,(h,d)=>uS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class oo extends Ec{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends Ec{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function i_(r,e,i){const s=new Map;Kt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,lS(d,g,i[o]))}return s}function a_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,sS(h,d,e))}return s}class Rd extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dS extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&hS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Ov();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=kv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(i,s)=>n_(i,s))&&Rs(this.baseMutations,e.baseMutations,(i,s)=>n_(i,s))}}class wd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Kt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return nS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new wd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function yS(r){switch(r){case Z.OK:return Tt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function jv(r){if(r===void 0)return Zi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Ia([4294967295,4294967295],0);function r_(r){const e=cv().encode(r),i=new nv;return i.update(e),new Uint8Array(i.digest())}function s_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ia([i,s],0),new Ia([o,h],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=Ia.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(Ia.fromNumber(s)));return o.compare(_S)===1&&(o=new Ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=r_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=r_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(St.min(),o,new he(Nt),$i(),Ut())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class qv{constructor(e,i){this.targetId=e,this.Ce=i}}class Hv{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class l_{constructor(){this.Fe=0,this.Me=o_(),this.xe=Ye.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ut(),i=Ut(),s=Ut();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:h})}}),new uo(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=o_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vS{constructor(e){this.ze=e,this.je=new Map,this.He=$i(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new he(Nt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(nd(h))if(s===0){const d=new gt(h.path);this.tt(i,d,We.newNoDocument(d,St.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ua(s).toUint8Array()}catch(v){if(v instanceof mv)return bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Cd(d,o,h)}catch(v){return bs(v instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&nd(g.target)){const v=new gt(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,We.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Ut();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new Tc(e,i,this.Ze,this.He,s);return this.He=$i(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new he(Nt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new l_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new xe(Nt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new xe(Nt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new l_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new he(gt.comparator)}function o_(){return new he(gt.comparator)}const ES={asc:"ASCENDING",desc:"DESCENDING"},TS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AS={and:"AND",or:"OR"};class SS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(r,e){return r.useProto3Json||dc(e)?e:{value:e}}function rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bS(r,e){return rc(r,e.toTimestamp())}function _i(r){return Kt(!!r,49232),St.fromTimestamp(function(i){const s=Ma(i);return new Oe(s.seconds,s.nanos)}(r))}function Dd(r,e){return rd(r,e).canonicalString()}function rd(r,e){const i=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Qv(r){const e=ue.fromString(r);return Kt(Zv(e),10190,{key:e.toString()}),e}function sd(r,e){return Dd(r.databaseId,e.path)}function zf(r,e){const i=Qv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(Yv(i))}function Fv(r,e){return Dd(r.databaseId,e)}function RS(r){const e=Qv(r);return e.length===4?ue.emptyPath():Yv(e)}function ld(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Yv(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,i){return{name:sd(r,e),fields:i.value.mapValue.fields}}function wS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:jv(_.code);return new ut(A,_.message||"")}(d);i=new Hv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):St.min(),g=new mn({mapValue:{fields:s.document.fields}}),v=We.newFoundDocument(o,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Fu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zf(r,s.document),h=s.readTime?_i(s.readTime):St.min(),d=We.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zf(r,s.document),h=s.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return Tt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new pS(o,h),g=s.targetId;i=new qv(g,d)}}return i}function CS(r,e){let i;if(e instanceof oo)i={update:u_(r,e.key,e.value)};else if(e instanceof Rd)i={delete:sd(r,e.key)};else if(e instanceof ja)i={update:u_(r,e.key,e.data),updateMask:LS(e.fieldMask)};else{if(!(e instanceof dS))return Tt(16599,{ft:e.type});i={verify:sd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Tt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:bS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Tt(27497)}(r,e.precondition)),i}function DS(r,e){return r&&r.length>0?(Kt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?_i(o.updateTime):_i(h);return d.isEqual(St.min())&&(d=_i(h)),new cS(d,o.transformResults||[])}(i,e))):[]}function VS(r,e){return{documents:[Fv(r,e.path)]}}function NS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Fv(r,o);const h=function(_){if(_.length!==0)return Xv(Ei.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:vs(D.field),direction:xS(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ad(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:o}}function IS(r){let e=RS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const D=Kv(C);return D instanceof Ei&&bv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(X){return new ic(Es(X.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,dc(D)?null:D}(i.limit));let v=null;i.startAt&&(v=function(C){const D=!!C.before,j=C.values||[];return new nc(j,D)}(i.startAt));let _=null;return i.endAt&&(_=function(C){const D=!C.before,j=C.values||[];return new nc(j,D)}(i.endAt)),ZA(e,o,d,h,g,"F",v,_)}function OS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Es(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Es(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ie.create(Es(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Ei.create(i.compositeFilter.filters.map(s=>Kv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(r):Tt(30097,{filter:r})}function xS(r){return ES[r]}function MS(r){return TS[r]}function US(r){return AS[r]}function vs(r){return{fieldPath:r.canonicalString()}}function Es(r){return Fe.fromServerFormat(r.fieldPath)}function Xv(r){return r instanceof Ie?function(i){if(i.op==="=="){if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:MS(i.op),value:i.value}}}(r):r instanceof Ei?function(i){const s=i.getFilters().map(o=>Xv(o));return s.length===1?s[0]:{compositeFilter:{op:US(i.op),filters:s}}}(r):Tt(54877,{filter:r})}function LS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Zv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,s,o,h=St.min(),d=St.min(),g=Ye.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.wt=e}}function PS(r){const e=IS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.Cn=new BS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(xa.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class BS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new xe(ue.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn($v,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ds(0)}static lr(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",jS=1048576;function f_([r,e],[i,s]){const o=Nt(r,i);return o===0?Nt(e,s):o}class qS{constructor(e){this.Er=e,this.buffer=new xe(f_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){st(h_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?st(h_,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.mr(3e5)})}}class GS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(fc.le);const s=new qS(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),ys()<=jt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function QS(r,e){return new GS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.changes=new br(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Jl(s.mutation,o,wn.empty(),Oe.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ut()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ut()){const o=Er();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Ql();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Er();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ut()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=$i();const d=$l(),g=function(){return $l()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ja)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Jl(A.mutation,_,A.mutation.getFieldMask(),Oe.now())):d.set(_.key,wn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var C;return g.set(_,new YS(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new he((d,g)=>d-g),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||wn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const C=(o.get(g.batchId)||Ut()).add(v);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=Ov();A.forEach(D=>{if(!h.has(D)){const j=kv(i.get(D),s.get(D));j!==null&&C.set(D,j),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$A(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(Er());let g=eo,v=h;return d.next(_=>Y.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{v=v.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ut())).next(A=>({batchId:g,changes:Iv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,v=>{const _=function(C,D){return new gc(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))});let g=Ql();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Jl(A.mutation,_,wn.empty(),Oe.now()),_c(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Y.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:PS(o.bundledQuery),readTime:_i(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.overlays=new he(gt.comparator),this.Qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Er();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.bt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=Er(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new he((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=Er(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Er(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return Y.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new gS(i,s));let h=this.Qr.get(i);h===void 0&&(h=Ut(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.$r=new xe(ke.Ur),this.Kr=new xe(ke.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new ke(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new ke(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new gt(new ue([])),s=new ke(i,e),o=new ke(i,e+1),h=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new gt(new ue([])),s=new ke(i,e),o=new ke(i,e+1);let h=Ut();return this.Kr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new ke(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ke{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return gt.comparator(e.key,i.key)||Nt(e.Zr,i.Zr)}static Wr(e,i){return Nt(e.Zr,i.Zr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new xe(ke.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new ke(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?vd:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new xe(Nt);return i.forEach(o=>{const h=new ke(o,0),d=new ke(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new ke(new gt(h),0);let g=new xe(Nt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Zr)),!0)},d),Y.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(i.mutations,o=>{const h=new ke(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new ke(i,0),o=this.Xr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.ii=e,this.docs=function(){return new he(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():We.newInvalidDocument(i))}getEntries(e,i){let s=$i();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():We.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=$i();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||DA(CA(A),s)<=0||(o.has(A.key)||_c(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Tt(9500)}si(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new tb(this)}getSize(e){return Y.resolve(this.size)}}class tb extends FS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.persistence=e,this.oi=new br(i=>Ad(i),Sd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Vd,this.targetCount=0,this.ui=Ds.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Y.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Ds(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Tr(i),Y.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i){this.ci={},this.overlays={},this.li=new fc(0),this.hi=!1,this.hi=!0,this.Pi=new $S,this.referenceDelegate=e(this),this.Ti=new eb(this),this.indexManager=new kS,this.remoteDocumentCache=function(o){return new WS(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new zS(i),this.Ei=new XS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new JS(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new nb(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class nb extends NA{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Vi=new Vd,this.mi=null}static fi(e){return new Nd(e)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const o=gt.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,St.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Y.or([()=>Y.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class sc{constructor(e,i){this.persistence=e,this.yi=new br(s=>xA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QS(this,i)}static fi(e,i){return new sc(e,i)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return Y.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hu(e.data.value)),i}Dr(e,i,s){return Y.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=Ut(),o=Ut();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Id(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return OT()?8:IA(NT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ib;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(ys()<=jt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(ys()<=jt.DEBUG&&st("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ys()<=jt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Y.resolve())}ws(e,i){if(t_(i))return Y.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ut(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,id(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,s,o){return t_(i)||o.isEqual(St.min())?Y.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,o)?Y.resolve(null):(ys()<=jt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.Fs(e,d,i,wA(o,eo)).next(g=>g))})}vs(e,i){let s=new xe(Vv(e));return i.forEach((o,h)=>{_c(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}bs(e,i,s){return ys()<=jt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ys.getDocumentsMatchingQuery(e,i,xa.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="LocalStore",rb=3e8;class sb{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new he(Nt),this.Os=new br(h=>Ad(h),Sd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function lb(r,e,i,s){return new sb(r,e,i,s)}async function Wv(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Ut();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function ob(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const C=_.batch,D=C.keys();let j=Y.resolve();return D.forEach(X=>{j=j.next(()=>A.getEntry(v,X)).next(at=>{const $=_.docVersions.get(X);Kt($!==null,48541),at.version.compareTo($)<0&&(C.applyToRemoteDocument(at,_),at.isValidDocument()&&(at.setReadTime(_.commitVersion),A.addEntry(at)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,C))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Ut();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function t0(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function ub(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const D=o.get(C);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let j=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),o=o.insert(C,j),function(at,$,wt){return at.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=rb?!0:wt.addedDocuments.size+wt.modifiedDocuments.size+wt.removedDocuments.size>0}(D,j,A)&&g.push(i.Ti.updateTargetData(h,j))});let v=$i(),_=Ut();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(cb(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(St.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=o,h))}function cb(r,e,i){let s=Ut(),o=Ut();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=$i();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):st(Od,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:o}})}function hb(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fb(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new Ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function od(r,e,i){const s=bt(r),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xs(d))throw d;st(Od,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function d_(r,e,i){const s=bt(r);let o=St.min(),h=Ut();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const C=bt(v),D=C.Os.get(A);return D!==void 0?Y.resolve(C.xs.get(D)):C.Ti.getTargetData(_,A)}(s,d,yi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Ut())).next(g=>(db(s,WA(e),g),{documents:g,$s:h})))}function db(r,e,i){let s=r.Ns.get(e)||St.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class m_{constructor(){this.activeTargetIds=rS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mb{constructor(){this.xo=new m_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new m_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class p_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){st(g_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){st(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function ud(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yb{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const d=ud(),g=this.jo(e,i.toUriEncodedString());st(Pf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,o,h);const{host:_}=new URL(g),A=hc(_);return this.Jo(e,g,v,s,A).then(C=>(st(Pf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw bs(Pf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Yo(e,i,s,o,h,d){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=pb[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class vb extends yb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ud();return new Promise((g,v)=>{const _=new iv;_.setWithCredentials(!0),_.listenOnce(av.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case qu.NO_ERROR:const C=_.getResponseJson();st($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case qu.TIMEOUT:st($e,`RPC '${e}' ${d} timed out`),v(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const D=_.getStatus();if(st($e,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j==null?void 0:j.error;if(X&&X.status&&X.message){const at=function(wt){const mt=wt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(mt)>=0?mt:Z.UNKNOWN}(X.status);v(new ut(at,X.message))}else v(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st($e,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st($e,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)})}T_(e,i,s){const o=ud(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lv(),g=sv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");st($e,`Creating RPC '${e}' stream ${o}: ${A}`,v);const C=d.createWebChannel(A,v);let D=!1,j=!1;const X=new _b({Zo:$=>{j?st($e,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(D||(st($e,`Opening RPC '${e}' stream ${o} transport.`),C.open(),D=!0),st($e,`RPC '${e}' stream ${o} sending:`,$),C.send($))},Xo:()=>C.close()}),at=($,wt,mt)=>{$.listen(wt,pt=>{try{mt(pt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return at(C,Gl.EventType.OPEN,()=>{j||(st($e,`RPC '${e}' stream ${o} transport opened.`),X.__())}),at(C,Gl.EventType.CLOSE,()=>{j||(j=!0,st($e,`RPC '${e}' stream ${o} transport closed`),X.u_())}),at(C,Gl.EventType.ERROR,$=>{j||(j=!0,bs($e,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),X.u_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),at(C,Gl.EventType.MESSAGE,$=>{var wt;if(!j){const mt=$.data[0];Kt(!!mt,16349);const pt=mt,Lt=(pt==null?void 0:pt.error)||((wt=pt[0])===null||wt===void 0?void 0:wt.error);if(Lt){st($e,`RPC '${e}' stream ${o} received error:`,Lt);const Rt=Lt.status;let qt=function(w){const I=be[w];if(I!==void 0)return jv(I)}(Rt),O=Lt.message;qt===void 0&&(qt=Z.INTERNAL,O="Unknown error status: "+Rt+" with message "+Lt.message),j=!0,X.u_(new ut(qt,O)),C.close()}else st($e,`RPC '${e}' stream ${o} received:`,mt),X.c_(mt)}}),at(g,rv.STAT_EVENT,$=>{$.stat===$f.PROXY?st($e,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===$f.NOPROXY&&st($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new SS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=o,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class n0{constructor(e,i,s,o,h,d,g,v){this.xi=e,this.y_=s,this.w_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new e0(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===i&&this.K_(s,o)},s=>{e(()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return st(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(st(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eb extends n0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=wS(this.serializer,e),s=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?_i(d.readTime):St.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=ld(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=nd(v)?{documents:VS(h,v)}:{query:NS(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Gv(h,d.resumeToken);const _=ad(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=rc(h,d.snapshotVersion.toTimestamp());const _=ad(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=OS(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.L_(i)}}class Tb extends n0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=DS(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=ld(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>CS(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class Sb extends Ab{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,rd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,rd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class bb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Zi(i),this.oa=!1):st("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class Rb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{Rr(this)&&(st(Ar,"Restarting streams for network reachability change."),await async function(v){const _=bt(v);_.Ta.add(4),await co(_),_.da.set("Unknown"),_.Ta.delete(4),await Sc(_)}(this))})}),this.da=new bb(s,o)}}async function Sc(r){if(Rr(r))for(const e of r.Ia)await e(!0)}async function co(r){for(const e of r.Ia)await e(!1)}function i0(r,e){const i=bt(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Ld(i)?Ud(i):Ms(i).M_()&&Md(i,e))}function xd(r,e){const i=bt(r),s=Ms(i);i.Pa.delete(e),s.M_()&&a0(i,e),i.Pa.size===0&&(s.M_()?s.N_():Rr(i)&&i.da.set("Unknown"))}function Md(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(r).H_(e)}function a0(r,e){r.Aa.Ke(e),Ms(r).J_(e)}function Ud(r){r.Aa=new vS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ms(r).start(),r.da._a()}function Ld(r){return Rr(r)&&!Ms(r).F_()&&r.Pa.size>0}function Rr(r){return bt(r).Ta.size===0}function r0(r){r.Aa=void 0}async function wb(r){r.da.set("Online")}async function Cb(r){r.Pa.forEach((e,i)=>{Md(r,e)})}async function Db(r,e){r0(r),Ld(r)?(r.da.ca(e),Ud(r)):r.da.set("Unknown")}async function Vb(r,e,i){if(r.da.set("Online"),e instanceof Hv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Pa.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Pa.delete(g),o.Aa.removeTarget(g))}(r,e)}catch(s){st(Ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(r,s)}else if(e instanceof Fu?r.Aa.Xe(e):e instanceof qv?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(St.min()))try{const s=await t0(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),a0(h,v);const C=new Ca(A.target,v,_,A.sequenceNumber);Md(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){st(Ar,"Failed to raise snapshot:",s),await lc(r,s)}}async function lc(r,e,i){if(!xs(e))throw e;r.Ta.add(1),await co(r),r.da.set("Offline"),i||(i=()=>t0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Ar,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await Sc(r)})}function s0(r,e){return e().catch(i=>lc(r,i,e))}async function bc(r){const e=bt(r),i=za(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:vd;for(;Nb(e);)try{const o=await hb(e.localStore,s);if(o===null){e.ha.length===0&&i.N_();break}s=o.batchId,Ib(e,o)}catch(o){await lc(e,o)}l0(e)&&o0(e)}function Nb(r){return Rr(r)&&r.ha.length<10}function Ib(r,e){r.ha.push(e);const i=za(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function l0(r){return Rr(r)&&!za(r).F_()&&r.ha.length>0}function o0(r){za(r).start()}async function Ob(r){za(r).ta()}async function xb(r){const e=za(r);for(const i of r.ha)e.Z_(i.mutations)}async function Mb(r,e,i){const s=r.ha.shift(),o=wd.from(s,e,i);await s0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await bc(r)}async function Ub(r,e){e&&za(r).Y_&&await async function(s,o){if(function(d){return yS(d)&&d!==Z.ABORTED}(o.code)){const h=s.ha.shift();za(s).O_(),await s0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await bc(s)}}(r,e),l0(r)&&o0(r)}async function __(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(Ar,"RemoteStore received new credentials");const s=Rr(i);i.Ta.add(3),await co(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await Sc(i)}async function Lb(r,e){const i=bt(r);e?(i.Ta.delete(2),await Sc(i)):e||(i.Ta.add(2),await co(i),i.da.set("Unknown"))}function Ms(r){return r.Ra||(r.Ra=function(i,s,o){const h=bt(i);return h.ra(),new Eb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:wb.bind(null,r),n_:Cb.bind(null,r),i_:Db.bind(null,r),j_:Vb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Ld(r)?Ud(r):r.da.set("Unknown")):(await r.Ra.stop(),r0(r))})),r.Ra}function za(r){return r.Va||(r.Va=function(i,s,o){const h=bt(i);return h.ra(),new Tb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Ob.bind(null,r),i_:Ub.bind(null,r),X_:xb.bind(null,r),ea:Mb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await bc(r)):(await r.Va.stop(),r.ha.length>0&&(st(Ar,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new zd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),xs(r))return new ut(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ts;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ma=new he(gt.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):Tt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class Vs{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Vs(e,i,Ts.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Pb{constructor(){this.queries=E_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const o=bt(i),h=o.queries;o.queries=E_(),h.forEach((d,g)=>{for(const v of g.ya)v.onError(s)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function E_(){return new br(r=>Dv(r),yc)}async function kd(r,e){const i=bt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.wa()&&e.Sa()&&(s=2):(h=new zb,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(o,!0);break;case 1:h.pa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Pd(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&jd(i)}async function Bd(r,e){const i=bt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?o=e.Sa()?0:1:!h.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function kb(r,e){const i=bt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(o)&&(s=!0);d.pa=o}}s&&jd(i)}function Bb(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const h of o.ya)h.onError(i);s.queries.delete(e)}function jd(r){r.ba.forEach(e=>{e.next()})}var cd,T_;(T_=cd||(cd={})).Ca="default",T_.Cache="cache";class qd{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.key=e}}class c0{constructor(e){this.key=e}}class jb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ut(),this.mutatedKeys=Ut(),this.Ha=Vv(e),this.Ja=new Ts(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new v_,o=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,C)=>{const D=o.get(A),j=_c(this.query,C)?C:null,X=!!D&&this.mutatedKeys.has(D.key),at=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;D&&j?D.data.isEqual(j.data)?X!==at&&(s.track({type:3,doc:j}),$=!0):this.eu(D,j)||(s.track({type:2,doc:j}),$=!0,(v&&this.Ha(j,v)>0||_&&this.Ha(j,_)<0)&&(g=!0)):!D&&j?(s.track({type:0,doc:j}),$=!0):D&&!j&&(s.track({type:1,doc:D}),$=!0,(v||_)&&(g=!0)),$&&(j?(d=d.add(j),h=at?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,C)=>function(j,X){const at=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:$})}};return at(j)-at(X)}(A.type,C.type)||this.Ha(A.doc,C.doc)),this.tu(s),o=o!=null&&o;const g=i&&!o?this.nu():[],v=this.ja.size===0&&this.current&&!o?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new Vs(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ut(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new c0(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new u0(s))}),i}su(e){this.Ga=e.$s,this.ja=Ut();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return Vs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Hd="SyncEngine";class qb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Hb{constructor(e){this.key=e,this._u=!1}}class Gb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new br(g=>Dv(g),yc),this.cu=new Map,this.lu=new Set,this.hu=new he(gt.comparator),this.Pu=new Map,this.Tu=new Vd,this.Iu={},this.Eu=new Map,this.du=Ds.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Qb(r,e,i=!0){const s=p0(r);let o;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.ou()):o=await h0(s,e,i,!0),o}async function Fb(r,e){const i=p0(r);await h0(i,e,!0,!1)}async function h0(r,e,i,s){const o=await fb(r.localStore,yi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Yb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&i0(r.remoteStore,o),g}async function Yb(r,e,i,s,o){r.Ru=(C,D,j)=>async function(at,$,wt,mt){let pt=$.view.Za(wt);pt.Cs&&(pt=await d_(at.localStore,$.query,!1).then(({documents:O})=>$.view.Za(O,pt)));const Lt=mt&&mt.targetChanges.get($.targetId),Rt=mt&&mt.targetMismatches.get($.targetId)!=null,qt=$.view.applyChanges(pt,at.isPrimaryClient,Lt,Rt);return S_(at,$.targetId,qt.ru),qt.snapshot}(r,C,D,j);const h=await d_(r.localStore,e,!0),d=new jb(e,h.$s),g=d.Za(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);S_(r,i,_.ru);const A=new qb(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),_.snapshot}async function Kb(r,e,i){const s=bt(r),o=s.uu.get(e),h=s.cu.get(o.targetId);if(h.length>1)return s.cu.set(o.targetId,h.filter(d=>!yc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await od(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&xd(s.remoteStore,o.targetId),hd(s,o.targetId)}).catch(Os)):(hd(s,o.targetId),await od(s.localStore,o.targetId,!0))}async function Xb(r,e){const i=bt(r),s=i.uu.get(e),o=i.cu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xd(i.remoteStore,s.targetId))}async function Zb(r,e,i){const s=i2(r);try{const o=await function(d,g){const v=bt(d),_=Oe.now(),A=g.reduce((j,X)=>j.add(X.key),Ut());let C,D;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=$i(),at=Ut();return v.Bs.getEntries(j,A).next($=>{X=$,X.forEach((wt,mt)=>{mt.isValidDocument()||(at=at.add(wt))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,X)).next($=>{C=$;const wt=[];for(const mt of g){const pt=fS(mt,C.get(mt.key).overlayedDocument);pt!=null&&wt.push(new ja(mt.key,pt,Tv(pt.value.mapValue),Cn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,wt,g)}).next($=>{D=$;const wt=$.applyToLocalDocumentSet(C,at);return v.documentOverlayCache.saveOverlays(j,$.batchId,wt)})}).then(()=>({batchId:D.batchId,changes:Iv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new he(Nt)),_=_.insert(g,v),d.Iu[d.currentUser.toKey()]=_}(s,o.batchId,i),await ho(s,o.changes),await bc(s.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function f0(r,e){const i=bt(r);try{const s=await ub(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Pu.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?Kt(d._u,14607):o.removedDocuments.size>0&&(Kt(d._u,42227),d._u=!1))}),await ho(i,s,e)}catch(s){await Os(s)}}function A_(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=bt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,C)=>{for(const D of C.ya)D.Da(g)&&(_=!0)}),_&&jd(v)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $b(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Pu.get(e),h=o&&o.key;if(h){let d=new he(gt.comparator);d=d.insert(h,We.newNoDocument(h,St.min()));const g=Ut().add(h),v=new Tc(St.min(),new Map,new he(Nt),d,g);await f0(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),Gd(s)}else await od(s.localStore,e,!1).then(()=>hd(s,e,i)).catch(Os)}async function Jb(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await ob(i.localStore,e);m0(i,s,null),d0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Os(o)}}async function Wb(r,e,i){const s=bt(r);try{const o=await function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(C=>(Kt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);m0(s,e,i),d0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Os(o)}}function d0(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function m0(r,e,i){const s=bt(r);let o=s.Iu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||g0(r,s)})}function g0(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(xd(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),Gd(r))}function S_(r,e,i){for(const s of i)s instanceof u0?(r.Tu.addReference(s.key,e),t2(r,s)):s instanceof c0?(st(Hd,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||g0(r,s.key)):Tt(19791,{mu:s})}function t2(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(st(Hd,"New document in limbo: "+i),r.lu.add(s),Gd(r))}function Gd(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new gt(ue.fromString(e)),s=r.du.next();r.Pu.set(s,new Hb(i)),r.hu=r.hu.insert(i,s),i0(r.remoteStore,new Ca(yi(pc(i.path)),s,"TargetPurposeLimboResolution",fc.le))}}async function ho(r,e,i){const s=bt(r),o=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,v)=>{d.push(s.Ru(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){o.push(_);const C=Id.Rs(v.targetId,_);h.push(C)}}))}),await Promise.all(d),s.au.j_(o),await async function(v,_){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(_,D=>Y.forEach(D.ds,j=>A.persistence.referenceDelegate.addReference(C,D.targetId,j)).next(()=>Y.forEach(D.As,j=>A.persistence.referenceDelegate.removeReference(C,D.targetId,j)))))}catch(C){if(!xs(C))throw C;st(Od,"Failed to update sequence numbers: "+C)}for(const C of _){const D=C.targetId;if(!C.fromCache){const j=A.xs.get(D),X=j.snapshotVersion,at=j.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(D,at)}}}(s.localStore,h))}async function e2(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){st(Hd,"User change. New user:",e.toKey());const s=await Wv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(v=>{v.reject(new ut(Z.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.ks)}}function n2(r,e){const i=bt(r),s=i.Pu.get(e);if(s&&s._u)return Ut().add(s.key);{let o=Ut();const h=i.cu.get(e);if(!h)return o;for(const d of h){const g=i.uu.get(d);o=o.unionWith(g.view.Ya)}return o}}function p0(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$b.bind(null,e),e.au.j_=kb.bind(null,e.eventManager),e.au.Vu=Bb.bind(null,e.eventManager),e}function i2(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wb.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return lb(this.persistence,new ab,e.initialUser,this.serializer)}yu(e){return new Jv(Nd.fi,this.serializer)}pu(e){return new mb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class a2 extends oc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){Kt(this.persistence.referenceDelegate instanceof sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HS(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Jv(s=>sc.fi(s,i),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await Lb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pb}()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=function(h){return new vb(h)}(e.databaseInfo);return function(h,d,g,v){return new Sb(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new Rb(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>A_(this.syncEngine,i,0),function(){return p_.C()?new p_:new gb}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,A){const C=new Gb(o,h,d,g,v,_);return A&&(C.Au=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=bt(o);st(Ar,"RemoteStore shutting down."),h.Ta.add(5),await co(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class r2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(Pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Pd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bf(r,e){r.asyncQueue.verifyOperationInProgress(),st(Pa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await s2(r);st(Pa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>__(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>__(e.remoteStore,o)),r._onlineComponents=e}async function s2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Pa,"Using user provided OfflineComponentProvider");try{await Bf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await Bf(r,new oc)}}else st(Pa,"Using default OfflineComponentProvider"),await Bf(r,new a2(void 0));return r._offlineComponents}async function y0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Pa,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(st(Pa,"Using default OnlineComponentProvider"),await b_(r,new fd))),r._onlineComponents}function l2(r){return y0(r).then(e=>e.syncEngine)}async function uc(r){const e=await y0(r),i=e.eventManager;return i.onListen=Qb.bind(null,e.syncEngine),i.onUnlisten=Kb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Fb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Xb.bind(null,e.syncEngine),i}function o2(r,e,i={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Qd({next:D=>{A.Cu(),d.enqueueAndForget(()=>Bd(h,C));const j=D.docs.has(g);!j&&D.fromCache?_.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&D.fromCache&&v&&v.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new qd(pc(g.path),A,{includeMetadataChanges:!0,La:!0});return kd(h,C)}(await uc(r),r.asyncQueue,e,i,s)),s.promise}function u2(r,e,i={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Qd({next:D=>{A.Cu(),d.enqueueAndForget(()=>Bd(h,C)),D.fromCache&&v.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new qd(g,A,{includeMetadataChanges:!0,La:!0});return kd(h,C)}(await uc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function c2(r,e,i,s){if(e===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w_(r){if(!gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function C_(r){if(gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Dn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fd(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firestore.googleapis.com",D_=!0;class V_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E0,this.ssl=D_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yA;switch(s.type){case"firstParty":return new TA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=R_.get(i);s&&(st("ComponentProvider","Removing Datastore"),R_.delete(i),s.terminate())}(this),Promise.resolve()}}function h2(r,e,i,s={}){var o;r=Dn(r,Rc);const h=hc(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;h&&(q_(`https://${v}`),H_("Firestore",!0)),d.host!==E0&&d.host!==v&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Xu(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Je.MOCK_USER;else{A=CT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Je(D)}r._authCredentials=new _A(new uv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class ln{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Oa extends fo{constructor(e,i,s){super(e,i,pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new gt(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function jf(r,e,...i){if(r=pn(r),v0("collection","path",e),r instanceof Rc){const s=ue.fromString(e,...i);return C_(s),new Oa(r,null,s)}{if(!(r instanceof ln||r instanceof Oa))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(e,...i));return C_(s),new Oa(r.firestore,null,s)}}function gi(r,e,...i){if(r=pn(r),arguments.length===1&&(e=hv.newId()),v0("doc","path",e),r instanceof Rc){const s=ue.fromString(e,...i);return w_(s),new ln(r,null,new gt(s))}{if(!(r instanceof ln||r instanceof Oa))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(e,...i));return w_(s),new ln(r.firestore,r instanceof Oa?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new e0(this,"async_queue_retry"),this.ec=()=>{const s=kf();s&&st(N_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Ki;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!xs(e))throw e;st(N_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Zi("INTERNAL UNHANDLED ERROR: ",O_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(o),o}nc(){this.Ju&&Tt(47125,{_c:O_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function O_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(r,["next","error","complete"])}class ka extends Rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function f2(r,e){const i=typeof r=="object"?r:$_(),s=typeof r=="string"?r:tc,o=K_(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=B_("firestore");h&&h2(o,...h)}return o}function mo(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d2(r),r._firestoreClient}function d2(r){var e,i,s;const o=r._freezeSettings(),h=function(g,v,_,A){return new LA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,_0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new r2(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(Ye.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ns(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^__.*__$/;class g2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}class T0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ja(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function A0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{hc:r})}}class Xd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return cc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(A0(this.hc)&&m2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class p2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}gc(e,i,s,o=!1){return new Xd({hc:e,methodName:i,fc:s,path:Fe.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new p2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function S0(r,e,i,s,o,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,o);Jd("Data must be an object, but it was:",d,s);const g=w0(s,d);let v,_;if(h.merge)v=new wn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const D=dd(e,C,i);if(!d.contains(D))throw new ut(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);D0(A,D)||A.push(D)}v=new wn(A),_=d.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,_=d.fieldTransforms;return new g2(new mn(g),v,_)}class Cc extends wc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}class $d extends wc{constructor(e,i){super(e),this.wc=i}_toFieldTransform(e){const i=new lo(e.serializer,Mv(e.serializer,this.wc));return new oS(e.path,i)}isEqual(e){return e instanceof $d&&this.wc===e.wc}}function b0(r,e,i,s){const o=r.gc(1,e,i);Jd("Data must be an object, but it was:",o,s);const h=[],d=mn.empty();Ba(s,(v,_)=>{const A=Wd(e,v,i);_=pn(_);const C=o.Ac(A);if(_ instanceof Cc)h.push(A);else{const D=Dc(_,C);D!=null&&(h.push(A),d.set(A,D))}});const g=new wn(h);return new T0(d,g,o.fieldTransforms)}function R0(r,e,i,s,o,h){const d=r.gc(1,e,i),g=[dd(e,s,i)],v=[o];if(h.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(dd(e,h[D])),v.push(h[D+1]);const _=[],A=mn.empty();for(let D=g.length-1;D>=0;--D)if(!D0(_,g[D])){const j=g[D];let X=v[D];X=pn(X);const at=d.Ac(j);if(X instanceof Cc)_.push(j);else{const $=Dc(X,at);$!=null&&(_.push(j),A.set(j,$))}}const C=new wn(_);return new T0(A,C,d.fieldTransforms)}function Dc(r,e){if(C0(r=pn(r)))return Jd("Unsupported field value:",e,r),w0(r,e);if(r instanceof wc)return function(s,o){if(!A0(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let v=Dc(g,o.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Mv(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Oe.fromDate(s);return{timestampValue:rc(o.serializer,h)}}if(s instanceof Oe){const h=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rc(o.serializer,h)}}if(s instanceof Yd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:Gv(o.serializer,s._byteString)};if(s instanceof ln){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kd)return function(d,g){return{mapValue:{fields:{[vv]:{stringValue:Ev},[ec]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return bd(g.serializer,_)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Fd(s)}`)}(r,e)}function w0(r,e){const i={};return dv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,(s,o)=>{const h=Dc(o,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function C0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Oe||r instanceof Yd||r instanceof Ns||r instanceof ln||r instanceof wc||r instanceof Kd)}function Jd(r,e,i){if(!C0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Fd(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function dd(r,e,i){if((e=pn(e))instanceof go)return e._internalPath;if(typeof e=="string")return Wd(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const y2=new RegExp("[~\\*/\\[\\]]");function Wd(r,e,i){if(e.search(y2)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new go(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ut(Z.INVALID_ARGUMENT,g+r+v)}function D0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(N0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _2 extends V0{data(){return super.data()}}function N0(r,e){return typeof e=="string"?Wd(r,e):e instanceof go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v2{convertValue(e,i="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ba(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>_e(d.doubleValue));return new Kd(h)}convertGeoPoint(e){return new Yd(_e(e.latitude),_e(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=mc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Ma(e);return new Oe(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ue.fromString(e);Kt(Zv(s),9688,{name:e});const o=new io(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x0 extends V0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(N0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Yu extends x0{data(e={}){return super.data(e)}}class M0{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Yu(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:E2(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function E2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r){r=Dn(r,ln);const e=Dn(r.firestore,ka);return o2(mo(e),r._key).then(i=>U0(e,r,i))}class tm extends v2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,i)}}function qf(r){r=Dn(r,fo);const e=Dn(r.firestore,ka),i=mo(e),s=new tm(e);return I0(r._query),u2(i,r._query).then(o=>new M0(e,s,r,o))}function U_(r,e,i){r=Dn(r,ln);const s=Dn(r.firestore,ka),o=O0(r.converter,e,i);return em(s,[S0(Zd(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Cn.none())])}function Hf(r,e,i,...s){r=Dn(r,ln);const o=Dn(r.firestore,ka),h=Zd(o);let d;return d=typeof(e=pn(e))=="string"||e instanceof go?R0(h,"updateDoc",r._key,e,i,s):b0(h,"updateDoc",r._key,e),em(o,[d.toMutation(r._key,Cn.exists(!0))])}function T2(r,...e){var i,s,o;r=pn(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||x_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(x_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[d+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let v,_,A;if(r instanceof ln)_=Dn(r.firestore,ka),A=pc(r._key.path),v={next:C=>{e[d]&&e[d](U0(_,r,C))},error:e[d+1],complete:e[d+2]};else{const C=Dn(r,fo);_=Dn(C.firestore,ka),A=C._query;const D=new tm(_);v={next:j=>{e[d]&&e[d](new M0(_,D,C,j))},error:e[d+1],complete:e[d+2]},I0(r._query)}return function(D,j,X,at){const $=new Qd(at),wt=new qd(j,$,X);return D.asyncQueue.enqueueAndForget(async()=>kd(await uc(D),wt)),()=>{$.Cu(),D.asyncQueue.enqueueAndForget(async()=>Bd(await uc(D),wt))}}(mo(_),A,g,v)}function em(r,e){return function(s,o){const h=new Ki;return s.asyncQueue.enqueueAndForget(async()=>Zb(await l2(s),o,h)),h.promise}(mo(r),e)}function U0(r,e,i){const s=i.docs.get(e._key),o=new tm(r);return new x0(r,o,e._key,s,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Zd(e)}set(e,i,s){this._verifyNotCommitted();const o=Gf(e,this._firestore),h=O0(o.converter,i,s),d=S0(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,Cn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const h=Gf(e,this._firestore);let d;return d=typeof(i=pn(i))=="string"||i instanceof go?R0(this._dataReader,"WriteBatch.update",h._key,i,s,o):b0(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Gf(e,this._firestore);return this._mutations=this._mutations.concat(new Rd(i._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gf(r,e){if((r=pn(r)).firestore!==e)throw new ut(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function L_(r){return new $d("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){return mo(r=Dn(r,ka)),new A2(r,e=>em(r,e))}(function(e,i=!0){(function(o){Is=o})(L1),Wl(new As("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new ka(new vA(s.getProvider("auth-internal")),new AA(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(_.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Na(zy,Py,e),Na(zy,Py,"esm2017")})();const b2={apiKey:"AIzaSyBbk4SiSqWANAiet8EVvTrIC21aAWBvg",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"601661458034",appId:"1:601661458034:web:8134e270349f9a0b3a3c97"},R2=Z_(b2),fn=f2(R2),w2=fA(void 0,"asia-northeast3"),C2=mA(w2,"sendAttendanceNotifications");async function z_(r,e,i={}){const s=e.parentPhone??"",o=String(s).replace(/\D/g,"");if(!/^0\d{9,10}$/.test(o)){console.warn("   :",e.name,s);return}if(!o){console.warn("     :",e.name);return}const h={kind:r,studentName:e.name,parentPhone:o,classTitle:e.classTitle??"",classTime:i.scheduleTime,timeText:i.timeText,sendBoth:!0};try{await C2(h)}catch(d){console.error("Bizppurio  :",d)}}console.log(" App.jsx v2 ");function Hl(r){const e=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${i}-${s}`}function D2(){const[r,e]=ae.useState([]),[i,s]=ae.useState({}),[o,h]=ae.useState([]),[d,g]=ae.useState("attendance"),[v,_]=ae.useState({}),[A,C]=ae.useState(""),[D,j]=ae.useState(()=>localStorage.getItem("authenticated")==="true"),[X,at]=ae.useState(new Date),[$,wt]=ae.useState(0),[mt,pt]=ae.useState(null),[Lt,Rt]=ae.useState(!1),[qt,O]=ae.useState([]),[S,w]=ae.useState({}),[I,x]=ae.useState(0),M=ae.useMemo(()=>{const W=new Date;return W.setDate(W.getDate()+I),Hl(W)},[I]),R=Hl(new Date),me=M===R,se=Object.keys(i).length,H=X.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});[...r].sort((W,dt)=>W.name.localeCompare(dt.name));const et=["","","","",""],[ht,Ht]=ae.useState({winnerId:null,candidateId:null}),K=["","","","","","",""][new Date(M).getDay()];ae.useEffect(()=>{window.location.hostname==="localhost"&&(j(!0),localStorage.setItem("authenticated","true"))},[]),ae.useEffect(()=>{const W=dt=>{dt.key==="/"&&dt.preventDefault()};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[]),ae.useEffect(()=>{(async()=>{const yt=(await qf(jf(fn,"students"))).docs.map(rt=>({id:rt.id,...rt.data()})),ot=S2(fn);yt.forEach(rt=>{if(typeof rt.points=="number"){const Jt={:rt.points,:0,:0,:0,:0};ot.set(gi(fn,"students",rt.id),{points:Jt},{merge:!0}),rt.points=Jt}else et.forEach(Jt=>{(!rt.points||rt.points[Jt]===void 0)&&(rt.points||(rt.points={}),rt.points[Jt]=0)});rt.availablePoints===void 0&&(rt.availablePoints=0,ot.update(gi(fn,"students",rt.id),{availablePoints:0}))}),await ot.commit(),e(yt)})()},[]);const[nt,J]=ae.useState([]);ae.useEffect(()=>{const W=gi(fn,"attendance",M),dt=T2(W,yt=>{s(yt.exists()?yt.data():{})});return()=>dt()},[M]),ae.useEffect(()=>{(async()=>{const yt=(await qf(jf(fn,"schedule_changes"))).docs.map(ot=>({id:ot.id,...ot.data()}));J(yt)})()},[]),ae.useEffect(()=>{(async()=>{const yt=(await qf(jf(fn,"students_high"))).docs.map(ot=>({id:ot.id,...ot.data()}));O(yt)})()},[]),ae.useEffect(()=>{(async()=>{const dt=await M_(gi(fn,"high-attendance",M));w(dt.exists()?dt.data():{})})()},[M]);const ft=(W,dt)=>{const ot=nt.filter(rt=>rt.studentId===W).filter(rt=>rt.effectiveDate<=dt);if(ot.length===0){const rt=r.find(Jt=>Jt.id===W);return(rt==null?void 0:rt.schedules)||[]}return ot.sort((rt,Jt)=>Jt.effectiveDate.localeCompare(rt.effectiveDate)),ot[0].schedules},Dt=()=>{const W={},dt=M;return r.forEach(yt=>{if(yt.active===!1||yt.pauseDate&&yt.pauseDate<=dt)return;ft(yt.id,dt).forEach(({day:rt,time:Jt})=>{rt===K&&(W[Jt]||(W[Jt]=[]),W[Jt].push(yt))})}),W},Et=ae.useMemo(()=>Dt(),[r,nt,M]);ae.useEffect(()=>{(async()=>{const dt=Hl(new Date),yt=gi(fn,"dailyLucky",dt),ot=await M_(yt);if(ot.exists()){const rt=ot.data();pt(rt.name),Ht(rt)}})()},[]);const ve=async(W,dt)=>{var rt,Jt;const yt=Hl(new Date),ot=i[W.name];if(!ot){if(prompt(`${W.name}   4  (: 1225)`)!==((rt=W.birth)==null?void 0:rt.slice(-4))){alert("  .");return}const on=new Date,yn=on.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),[Ji,Ai]=dt.split(":"),In=new Date;In.setHours(+Ji,+Ai,0);const en=(on-In)/6e4;let Gt="onTime",Mt=0;en>15?(Gt="tardy",Mt=0):(en>=-10&&en<=5||en>=-15&&en<-10)&&(Mt=1),await U_(gi(fn,"attendance",yt),{[W.name]:{time:yn,status:Gt}},{merge:!0}),s(Qn=>({...Qn,[W.name]:{time:yn,status:Gt}}));const Ke=W.points||{},Re={...Ke,:(Ke.||0)+Mt},wr=(W.availablePoints||0)+Mt;await Hf(gi(fn,"students",W.id),{points:Re,availablePoints:wr}),e(Qn=>Qn.map(Fn=>Fn.id===W.id?{...Fn,points:Re,availablePoints:wr}:Fn)),await z_("checkin",W,{scheduleTime:dt,timeText:yn}),alert(` ${W.name}  ! (+${Mt}pt)`);return}if(ot.time&&!ot.departureTime){const tn=new Date,[on,yn]=dt.split(":"),Ji=new Date;if(Ji.setHours(+on,+yn,0),tn-Ji<100*60*1e3){alert("    100  !");return}if(prompt(`${W.name}   4  (: 1225)`)!==((Jt=W.birth)==null?void 0:Jt.slice(-4))){alert(" .");return}const In=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});await Hf(gi(fn,"attendance",yt),{[`${W.name}.departureTime`]:In}),await Hf(gi(fn,"students",W.id),{"points.":L_(1),availablePoints:L_(1)}),e(en=>en.map(Gt=>Gt.id===W.id?{...Gt,points:{...Gt.points,:(Gt.points.||0)+1},availablePoints:(Gt.availablePoints||0)+1}:Gt)),s(en=>({...en,[W.name]:{...en[W.name],departureTime:In}})),await z_("checkout",W,{scheduleTime:dt,timeText:In}),alert(` ${W.name}  ! (+1pt)`);return}},$t=()=>{A==="1234"?(j(!0),localStorage.setItem("authenticated","true")):alert(" .")},Vn=()=>{j(!1),localStorage.removeItem("authenticated")};if(!D)return it.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:it.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[it.jsx("input",{type:"password",placeholder:"  ",className:"border p-2 mr-2",value:A,onChange:W=>C(W.target.value)}),it.jsx("button",{onClick:$t,className:"bg-blue-500 text-white px-4 py-2 rounded",children:""})]})});const Nn=W=>et.reduce((dt,yt)=>dt+(W[yt]||0),0),Gn=W=>{const dt=r.map(ot=>{var rt;return{name:ot.name,value:((rt=ot.points)==null?void 0:rt[W])||0}});return[...new Set(dt.map(ot=>ot.value))].sort((ot,rt)=>rt-ot).slice(0,5).map(ot=>({value:ot,names:dt.filter(rt=>rt.value===ot).map(rt=>rt.name)}))},Ti=async W=>{var Jt;if(prompt(`${W.name}   4  (: 1225)`)!==((Jt=W.birth)==null?void 0:Jt.slice(-4))){alert("  .");return}const yt=new Date,ot=yt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),rt=Hl(yt);await U_(gi(fn,"high-attendance",rt),{[W.name]:{time:ot,status:""}},{merge:!0}),w(tn=>({...tn,[W.name]:{time:ot,status:""}})),alert(` ${W.name}   !`)};return it.jsxs(it.Fragment,{children:[Lt&&it.jsxs("div",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white text-2xl font-bold px-6 py-3 rounded shadow-lg z-50 animate-bounce",children:[" Lucky!!! ",mt," 2pt!"]}),it.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-700 bg-blue-100 px-4 py-2 rounded mb-4",children:[it.jsx("span",{children:""}),it.jsxs("div",{children:[it.jsx("div",{children:" 4  !"}),it.jsx("div",{children:"  Lucky 2pt 10~5!  0pt"})]})]}),it.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[it.jsxs("div",{className:"max-w-5xl mx-auto flex space-x-4 mb-6",children:[it.jsx("button",{className:`px-4 py-2 rounded ${d==="attendance"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>g("attendance"),children:" "}),it.jsx("button",{onClick:()=>g("ranking"),className:`px-4 py-2 rounded ${d==="ranking"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:" "})]}),d==="attendance"&&it.jsxs(it.Fragment,{children:[it.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[it.jsxs("div",{children:[it.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-700",children:["   - ",K,""]}),it.jsxs("div",{className:"text-gray-600",children:[" ",M," /  ",H," /   : ",se]}),it.jsxs("div",{className:"text-center text-lg text-yellow-600 font-bold mb-4",children:["  Lucky : ",mt?`${mt}`:" "]})]}),it.jsxs("div",{className:"flex items-center space-x-2",children:[it.jsx("button",{onClick:()=>x(W=>W-1),className:"bg-gray-300 px-2 py-1 rounded",children:""}),it.jsx("div",{className:"text-gray-700 font-semibold",children:M}),it.jsx("button",{onClick:()=>x(W=>W+1),className:"bg-gray-300 px-2 py-1 rounded",children:""})]}),it.jsx("button",{onClick:Vn,className:"bg-red-400 text-white px-4 py-2 rounded",children:""})]}),Object.keys(Et).sort().map(W=>it.jsxs("div",{className:"max-w-5xl mx-auto mb-6 bg-white p-4 rounded-lg shadow-md",children:[it.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 text-gray-800",children:[W," "]}),it.jsx("div",{className:"grid grid-cols-6 gap-4",children:Et[W].map(dt=>{const yt=i[dt.name],ot=!!yt,rt=!!(yt!=null&&yt.departureTime);return it.jsxs("div",{className:`
   relative card
   ${ot?yt.status==="tardy"?"tardy":"attended":""}
   ${rt?"border-4 border-blue-700 ring-4 ring-blue-300 ring-offset-2 ring-offset-white":""}
   ${me?rt?"cursor-not-allowed pointer-events-none":"cursor-pointer hover:shadow-lg":"cursor-not-allowed pointer-events-none"}
   touch-manipulation
 `,onContextMenu:Jt=>Jt.preventDefault(),onPointerUp:()=>ve(dt,W),children:[rt&&it.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white text-xs font-bold px-1 py-0.5 rounded"}),dt.name===mt&&it.jsx("div",{className:"text-3xl text-yellow-500 text-center mb-1",children:""}),it.jsxs("div",{className:"text-right text-xs font-semibold text-gray-700 leading-none mb-1",children:[" ",Nn(dt.points),"pt",it.jsx("br",{}),it.jsxs("span",{className:"text-green-600",children:[" ",dt.availablePoints??Nn(dt.points),"pt"]})]}),it.jsx("p",{className:"name m-0 leading-none mb-1",children:dt.name}),ot&&it.jsxs("div",{className:"time-text m-0 leading-none mt-1 text-sm",children:[it.jsx("div",{children:yt.status==="tardy"?" ":" "}),it.jsxs("div",{children:[": ",yt.time]}),yt.departureTime&&it.jsxs("div",{children:[": ",yt.departureTime]})]})]},dt.id)})})]},W)),it.jsxs("div",{className:"max-w-5xl mx-auto mt-8",children:[it.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),it.jsx("div",{className:"grid grid-cols-6 gap-4",children:qt.map(W=>{const dt=S[W.name],yt=(dt==null?void 0:dt.status)==="";return it.jsxs("div",{className:`
          card
          ${yt?"attended":""}
          ${me?"cursor-pointer hover:shadow-lg":"cursor-not-allowed pointer-events-none"}
        `,onClick:()=>{if(!me){alert("      !");return}Ti(W)},children:[it.jsx("p",{className:"name m-0 leading-none mb-1",children:W.name}),yt&&it.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:[" ",it.jsx("br",{}),dt.time]})]},W.id)})})]})]}),d==="ranking"&&it.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[it.jsx("h2",{className:"text-xl font-semibold mb-4",children:"   ()"}),et.map(W=>{const dt=Gn(W);return it.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[it.jsxs("div",{className:"text-lg font-semibold mb-2",children:[W," TOP 5"]}),it.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[it.jsx("thead",{className:"bg-gray-50",children:it.jsxs("tr",{className:"sticky top-0",children:[it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),it.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:""})]})}),it.jsx("tbody",{className:"divide-y divide-gray-100",children:dt.map((yt,ot)=>{const Jt=yt.names.slice(0,3),tn=yt.names.length-3;return it.jsxs("tr",{className:ot===0?"bg-blue-50":"",children:[it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[ot+1,""]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[Jt.join(", "),tn>0&&`  ${tn}`]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[yt.value,"pt"]})]},`${W}-${ot}`)})})]})]},W)}),it.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[it.jsx("div",{className:"text-lg font-semibold mb-2",children:"  TOP 5"}),it.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[it.jsx("thead",{className:"bg-gray-50",children:it.jsxs("tr",{className:"sticky top-0",children:[it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),it.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),it.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:""})]})}),it.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const W=r.map(ot=>({name:ot.name,value:Nn(ot.points)}));return[...new Set(W.map(ot=>ot.value))].sort((ot,rt)=>rt-ot).slice(0,5).map(ot=>({value:ot,names:W.filter(rt=>rt.value===ot).map(rt=>rt.name)})).map((ot,rt)=>{const tn=ot.names.slice(0,3),on=ot.names.length-3;return it.jsxs("tr",{className:rt===0?"bg-blue-50":"",children:[it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[rt+1,""]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[tn.join(", "),on>0&&`  ${on}`]}),it.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[ot.value,"pt"]})]},`total-${rt}`)})})()})]})]})]})]})]})}gT.createRoot(document.getElementById("root")).render(it.jsx(ae.StrictMode,{children:it.jsx(D2,{})}));
