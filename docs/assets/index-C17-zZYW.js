(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function aT(){if(hy)return Pl;hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var fy;function rT(){return fy||(fy=1,Df.exports=aT()),Df.exports}var at=rT(),Vf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function sT(){if(dy)return Ct;dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,et={};function J(V,K,it){this.props=V,this.context=K,this.refs=et,this.updater=it||j}J.prototype.isReactComponent={},J.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function wt(){}wt.prototype=J.prototype;function dt(V,K,it){this.props=V,this.context=K,this.refs=et,this.updater=it||j}var gt=dt.prototype=new wt;gt.constructor=dt,X(gt,J.prototype),gt.isPureReactComponent=!0;var Lt=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(V,K,it,W,ft,Dt){return it=Dt.ref,{$$typeof:r,type:V,key:K,ref:it!==void 0?it:null,props:Dt}}function S(V,K){return O(V.type,K,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return K[it]})}var x=/\/+/g;function U(V,K){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):K.toString(36)}function R(){}function be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ie(V,K,it,W,ft){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var yt=!1;if(V===null)yt=!0;else switch(Dt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(V.$$typeof){case r:case e:yt=!0;break;case A:return yt=V._init,ie(yt(V._payload),K,it,W,ft)}}if(yt)return ft=ft(V),yt=W===""?"."+U(V,0):W,Lt(ft)?(it="",yt!=null&&(it=yt.replace(x,"$&/")+"/"),ie(ft,K,it,"",function(Et){return Et})):ft!=null&&(w(ft)&&(ft=S(ft,it+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(x,"$&/")+"/")+yt)),K.push(ft)),1;yt=0;var ye=W===""?".":W+":";if(Lt(V))for(var $=0;$<V.length;$++)W=V[$],Dt=ye+U(W,$),yt+=ie(W,K,it,Dt,ft);else if($=D(V),typeof $=="function")for(V=$.call(V),$=0;!(W=V.next()).done;)W=W.value,Dt=ye+U(W,$++),yt+=ie(W,K,it,Dt,ft);else if(Dt==="object"){if(typeof V.then=="function")return ie(be(V),K,it,W,ft);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(V,K,it){if(V==null)return V;var W=[],ft=0;return ie(V,W,"","",function(Dt){return K.call(it,Dt,ft++)}),W}function nt(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ut(){}return Ct.Children={map:H,forEach:function(V,K,it){H(V,function(){K.apply(this,arguments)},it)},count:function(V){var K=0;return H(V,function(){K++}),K},toArray:function(V){return H(V,function(K){return K})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=J,Ct.Fragment=i,Ct.Profiler=u,Ct.PureComponent=dt,Ct.StrictMode=s,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Rt.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,K,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=X({},V.props),ft=V.key,Dt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(Dt=void 0),K.key!==void 0&&(ft=""+K.key),K)!zt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(W[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)W.children=it;else if(1<yt){for(var ye=Array(yt),$=0;$<yt;$++)ye[$]=arguments[$+2];W.children=ye}return O(V.type,ft,void 0,void 0,Dt,W)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ct.createElement=function(V,K,it){var W,ft={},Dt=null;if(K!=null)for(W in K.key!==void 0&&(Dt=""+K.key),K)zt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=K[W]);var yt=arguments.length-2;if(yt===1)ft.children=it;else if(1<yt){for(var ye=Array(yt),$=0;$<yt;$++)ye[$]=arguments[$+2];ft.children=ye}if(V&&V.defaultProps)for(W in yt=V.defaultProps,yt)ft[W]===void 0&&(ft[W]=yt[W]);return O(V,Dt,void 0,void 0,null,ft)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:g,render:V}},Ct.isValidElement=w,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:nt}},Ct.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},Ct.startTransition=function(V){var K=Rt.T,it={};Rt.T=it;try{var W=V(),ft=Rt.S;ft!==null&&ft(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ut,ht)}catch(Dt){ht(Dt)}finally{Rt.T=K}},Ct.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Ct.use=function(V){return Rt.H.use(V)},Ct.useActionState=function(V,K,it){return Rt.H.useActionState(V,K,it)},Ct.useCallback=function(V,K){return Rt.H.useCallback(V,K)},Ct.useContext=function(V){return Rt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,K){return Rt.H.useDeferredValue(V,K)},Ct.useEffect=function(V,K,it){var W=Rt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(V,K)},Ct.useId=function(){return Rt.H.useId()},Ct.useImperativeHandle=function(V,K,it){return Rt.H.useImperativeHandle(V,K,it)},Ct.useInsertionEffect=function(V,K){return Rt.H.useInsertionEffect(V,K)},Ct.useLayoutEffect=function(V,K){return Rt.H.useLayoutEffect(V,K)},Ct.useMemo=function(V,K){return Rt.H.useMemo(V,K)},Ct.useOptimistic=function(V,K){return Rt.H.useOptimistic(V,K)},Ct.useReducer=function(V,K,it){return Rt.H.useReducer(V,K,it)},Ct.useRef=function(V){return Rt.H.useRef(V)},Ct.useState=function(V){return Rt.H.useState(V)},Ct.useSyncExternalStore=function(V,K,it){return Rt.H.useSyncExternalStore(V,K,it)},Ct.useTransition=function(){return Rt.H.useTransition()},Ct.version="19.1.0",Ct}var my;function dd(){return my||(my=1,Vf.exports=sT()),Vf.exports}var se=dd(),Nf={exports:{}},kl={},If={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function lT(){return gy||(gy=1,function(r){function e(H,nt){var ht=H.length;H.push(nt);t:for(;0<ht;){var Ut=ht-1>>>1,V=H[Ut];if(0<u(V,nt))H[Ut]=nt,H[ht]=V,ht=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],ht=H.pop();if(ht!==nt){H[0]=ht;t:for(var Ut=0,V=H.length,K=V>>>1;Ut<K;){var it=2*(Ut+1)-1,W=H[it],ft=it+1,Dt=H[ft];if(0>u(W,ht))ft<V&&0>u(Dt,W)?(H[Ut]=Dt,H[ft]=ht,Ut=ft):(H[Ut]=W,H[it]=ht,Ut=it);else if(ft<V&&0>u(Dt,ht))H[Ut]=Dt,H[ft]=ht,Ut=ft;else break t}}return nt}function u(H,nt){var ht=H.sortIndex-nt.sortIndex;return ht!==0?ht:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,D=3,j=!1,X=!1,et=!1,J=!1,wt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function Rt(H){if(et=!1,Lt(H),!X)if(i(v)!==null)X=!0,zt||(zt=!0,U());else{var nt=i(_);nt!==null&&ie(Rt,nt.startTime-H)}}var zt=!1,O=-1,S=5,w=-1;function I(){return J?!0:!(r.unstable_now()-w<S)}function x(){if(J=!1,zt){var H=r.unstable_now();w=H;var nt=!0;try{t:{X=!1,et&&(et=!1,dt(O),O=-1),j=!0;var ht=D;try{e:{for(Lt(H),C=i(v);C!==null&&!(C.expirationTime>H&&I());){var Ut=C.callback;if(typeof Ut=="function"){C.callback=null,D=C.priorityLevel;var V=Ut(C.expirationTime<=H);if(H=r.unstable_now(),typeof V=="function"){C.callback=V,Lt(H),nt=!0;break e}C===i(v)&&s(v),Lt(H)}else s(v);C=i(v)}if(C!==null)nt=!0;else{var K=i(_);K!==null&&ie(Rt,K.startTime-H),nt=!1}}break t}finally{C=null,D=ht,j=!1}nt=void 0}}finally{nt?U():zt=!1}}}var U;if(typeof gt=="function")U=function(){gt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,be=R.port2;R.port1.onmessage=x,U=function(){be.postMessage(null)}}else U=function(){wt(x,0)};function ie(H,nt){O=wt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ht=D;D=nt;try{return H()}finally{D=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=D;D=H;try{return nt()}finally{D=ht}},r.unstable_scheduleCallback=function(H,nt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,H={id:A++,callback:nt,priorityLevel:H,startTime:ht,expirationTime:V,sortIndex:-1},ht>Ut?(H.sortIndex=ht,e(_,H),i(v)===null&&H===i(_)&&(et?(dt(O),O=-1):et=!0,ie(Rt,ht-Ut))):(H.sortIndex=V,e(v,H),X||j||(X=!0,zt||(zt=!0,U()))),H},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(H){var nt=D;return function(){var ht=D;D=nt;try{return H.apply(this,arguments)}finally{D=ht}}}}(Of)),Of}var py;function uT(){return py||(py=1,If.exports=lT()),If.exports}var xf={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function oT(){if(yy)return Je;yy=1;var r=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Je.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Je.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:j}):A==="script"&&s.d.X(v,{crossOrigin:C,integrity:D,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Je.requestFormReset=function(v){s.d.r(v)},Je.unstable_batchedUpdates=function(v,_){return v(_)},Je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var _y;function cT(){if(_y)return xf.exports;_y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xf.exports=oT(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function hT(){if(vy)return kl;vy=1;var r=uT(),e=dd(),i=cT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),wt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case J:return"Profiler";case et:return"StrictMode";case Rt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],V=-1;function K(t){return{current:t}}function it(t){0>V||(t.current=Ut[V],Ut[V]=null,V--)}function W(t,n){V++,Ut[V]=t.current,t.current=n}var ft=K(null),Dt=K(null),yt=K(null),ye=K(null);function $(t,n){switch(W(yt,n),W(Dt,t),W(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ft),W(ft,t)}function Et(){it(ft),it(Dt),it(yt)}function _t(t){t.memoizedState!==null&&W(ye,t);var n=ft.current,a=Bp(n,t.type);n!==a&&(W(Dt,t),W(ft,a))}function ut(t){Dt.current===t&&(it(ft),it(Dt)),ye.current===t&&(it(ye),xl._currentValue=ht)}var st=Object.prototype.hasOwnProperty,Yt=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,pn=r.unstable_requestPaint,_e=r.unstable_now,Yi=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,Nn=r.unstable_UserBlockingPriority,Be=r.unstable_NormalPriority,Zn=r.unstable_LowPriority,yn=r.unstable_IdlePriority,Ki=r.log,hu=r.unstable_setDisableYieldValue,ce=null,Kt=null;function _n(t){if(typeof Ki=="function"&&hu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ce,t)}catch{}}var Ze=Math.clz32?Math.clz32:ka,fu=Math.log,Vc=Math.LN2;function ka(t){return t>>>=0,t===0?32:31-(fu(t)/Vc|0)|0}var Ba=256,ja=4194304;function Hn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Hn(l):(y&=E,y!==0?c=Hn(y):a||(a=E&~t,a!==0&&(c=Hn(a))))):(E=l&~f,E!==0?c=Hn(E):y!==0?c=Hn(y):a||(a=l&~t,a!==0&&(c=Hn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function qa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),t}function Us(){var t=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),t}function _i(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-Ze(a),F=1<<G;E[G]=0,b[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}a&=~F}l!==0&&$n(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function $n(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ze(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ze(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function du(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+ae,ve="__reactProps$"+ae,In="__reactContainer$"+ae,Ps="__reactEvents$"+ae,Nc="__reactListeners$"+ae,$i="__reactHandles$"+ae,mu="__reactResources$"+ae,Ha="__reactMarker$"+ae;function Ji(t){delete t[Re],delete t[ve],delete t[Ps],delete t[Nc],delete t[$i]}function Ei(t){var n=t[Re];if(n)return n;for(var a=t.parentNode;a;){if(n=a[In]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gp(t);t!==null;){if(a=t[Re])return a;t=Gp(t)}return n}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[Re]||t[In]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function nn(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(t){t[Ha]=!0}var ks=new Set,Cr={};function Gn(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Cr[t]=n,t=0;t<n.length;t++)ks.add(n[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},Ga={};function yu(t){return st.call(Ga,t)?!0:st.call(pu,t)?!1:gu.test(t)?Ga[t]=!0:(pu[t]=!0,!1)}function Wi(t,n,a){if(yu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ti(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function je(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Qa,_u;function Ai(t){if(Qa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Qa=n&&n[1]||"",_u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+t+_u}var Dr=!1;function Vr(t,n){if(!t||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var k=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){k=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){k=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Vr(t.type,!1);case 11:return Vr(t.type.render,!1);case 1:return Vr(t.type,!0);case 31:return Ai("Activity");default:return""}}function Nr(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ic(t){var n=js(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ir(t){t._valueTracker||(t._valueTracker=Ic(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function Ee(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ta(t,y,an(n)):a!=null?ta(t,y,an(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+an(E):t.removeAttribute("name")}function Ya(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+an(a):"",n=n!=null?""+an(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ta(t,n,a){n==="number"&&Fa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function $t(t,n,a){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+an(a):""}function Ka(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=an(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function On(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Xa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Hs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&vu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&vu(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(t){return Mc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,wi=null;function Qs(t){var n=Jn(t);if(n&&(t=n.stateNode)){var a=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));vn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qs(l)}break t;case"textarea":$t(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Si(t,!!a.multiple,n,!1)}}}var ei=!1;function Eu(t,n,a){if(ei)return t(n,a);ei=!0;try{var l=t(n);return l}finally{if(ei=!1,(Ri!==null||wi!==null)&&(mo(),Ri&&(n=Ri,t=wi,wi=Ri=null,Qs(n),t)))for(n=0;n<t.length;n++)Qs(t[n])}}function Za(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Qn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Mn=!1}var ni=null,ea=null,Ci=null;function Fs(){if(Ci)return Ci;var t,n=ea,a=n.length,l,c="value"in ni?ni.value:ni.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return Ci=c.slice(t,1<l?1-l:void 0)}function ii(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Ys(){return!1}function xe(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ai:Ys,this.isPropagationStopped=Ys,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=xe(Qt),Ja=A({},Qt,{view:0,detail:0}),Tu=xe(Ja),Mr,Ur,ri,Wa=A({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(Mr=t.screenX-ri.screenX,Ur=t.screenY-ri.screenY):Ur=Mr=0,ri=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),Un=xe(Wa),Au=A({},Wa,{dataTransfer:0}),Uc=xe(Au),tr=A({},Ja,{relatedTarget:0}),Lr=xe(tr),Ks=A({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=xe(Ks),Su=A({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pr=xe(Su),Lc=A({},Qt,{data:0}),Xs=xe(Lc),er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function nr(){return Zs}var wu=A({},Ja,{key:function(t){if(t.key){var n=er[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kr=xe(wu),Cu=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=xe(Cu),Di=A({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Du=xe(Di),Vu=A({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=xe(Vu),Iu=A({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Br=xe(Iu),rn=A({},Qt,{newState:0,oldState:0}),Ou=xe(rn),xu=[9,13,27,32],si=Qn&&"CompositionEvent"in window,o=null;Qn&&"documentMode"in document&&(o=document.documentMode);var m=Qn&&"TextEvent"in window&&!o,p=Qn&&(!si||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return xu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pt=!1;function we(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function kt(t,n){if(Pt)return t==="compositionend"||!si&&q(t,n)?(t=Fs(),Ci=ea=ni=null,Pt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function Vi(t,n,a,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,n=Eo(n,"onChange"),0<n.length&&(a=new xr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var qe=null,li=null;function Js(t){Mp(t,0)}function Mu(t){var n=Wn(t);if(qs(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(Qn){var zc;if(Qn){var Pc="oninput"in document;if(!Pc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Pc=typeof im.oninput=="function"}zc=Pc}else zc=!1;nm=zc&&(!document.documentMode||9<document.documentMode)}function am(){qe&&(qe.detachEvent("onpropertychange",rm),li=qe=null)}function rm(t){if(t.propertyName==="value"&&Mu(li)){var n=[];Vi(n,li,t,xn(t)),Eu(Js,n)}}function M0(t,n,a){t==="focusin"?(am(),qe=n,li=a,qe.attachEvent("onpropertychange",rm)):t==="focusout"&&am()}function U0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(li)}function L0(t,n){if(t==="click")return Mu(n)}function z0(t,n){if(t==="input"||t==="change")return Mu(n)}function P0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:P0;function Ws(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!st.call(n,c)||!En(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sm(a)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Fa(t.document)}return n}function kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var k0=Qn&&"documentMode"in document&&11>=document.documentMode,jr=null,Bc=null,tl=null,jc=!1;function cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jc||jr==null||jr!==Fa(l)||(l=jr,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=Eo(Bc,"onSelect"),0<l.length&&(n=new xr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=jr)))}function ir(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},qc={},hm={};Qn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function ar(t){if(qc[t])return qc[t];if(!qr[t])return t;var n=qr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in hm)return qc[t]=n[a];return t}var fm=ar("animationend"),dm=ar("animationiteration"),mm=ar("animationstart"),B0=ar("transitionrun"),j0=ar("transitionstart"),q0=ar("transitioncancel"),gm=ar("transitionend"),pm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Fn(t,n){pm.set(t,n),Gn(n,[t])}var ym=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var a=ym.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Nr(n)},ym.set(t,n),n)}return{value:t,source:n,stack:Nr(n)}}var zn=[],Hr=0,Gc=0;function Uu(){for(var t=Hr,n=Gc=Hr=0;n<t;){var a=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var c=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function Lu(t,n,a,l){zn[Hr++]=t,zn[Hr++]=n,zn[Hr++]=a,zn[Hr++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Lu(t,n,a,l),zu(t)}function Gr(t,n){return Lu(t,null,null,n),zu(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ze(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function zu(t){if(50<Rl)throw Rl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qr={};function H0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,a,l){return new H0(t,n,a,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,n){var a=t.alternate;return a===null?(a=Tn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Pu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Fc(t)&&(y=1);else if(typeof t=="string")y=QE(t,a,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Tn(31,a,n,c),t.elementType=w,t.lanes=f,t;case X:return rr(a.children,c,f,n);case et:y=8,c|=24;break;case J:return t=Tn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case Rt:return t=Tn(13,a,n,c),t.elementType=Rt,t.lanes=f,t;case zt:return t=Tn(19,a,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wt:case gt:y=10;break t;case dt:y=9;break t;case Lt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Tn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rr(t,n,a,l){return t=Tn(7,t,l,n),t.lanes=a,t}function Yc(t,n,a){return t=Tn(6,t,null,n),t.lanes=a,t}function Kc(t,n,a){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fr=[],Yr=0,ku=null,Bu=0,Pn=[],kn=0,sr=null,Ii=1,Oi="";function lr(t,n){Fr[Yr++]=Bu,Fr[Yr++]=ku,ku=t,Bu=n}function Em(t,n,a){Pn[kn++]=Ii,Pn[kn++]=Oi,Pn[kn++]=sr,sr=t;var l=Ii;t=Oi;var c=32-Ze(l)-1;l&=~(1<<c),a+=1;var f=32-Ze(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ii=1<<32-Ze(n)+c|a<<c|l,Oi=f+t}else Ii=1<<f|a<<c|l,Oi=t}function Xc(t){t.return!==null&&(lr(t,1),Em(t,1,0))}function Zc(t){for(;t===ku;)ku=Fr[--Yr],Fr[Yr]=null,Bu=Fr[--Yr],Fr[Yr]=null;for(;t===sr;)sr=Pn[--kn],Pn[kn]=null,Oi=Pn[--kn],Pn[kn]=null,Ii=Pn[--kn],Pn[kn]=null}var sn=null,he=null,Gt=!1,ur=null,ui=!1,$c=Error(s(519));function or(t){var n=Error(s(418,""));throw il(Ln(n,t)),$c}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Re]=t,n[ve]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Cl.length;a++)xt(Cl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Ya(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ir(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Ka(n,l.value,l.defaultValue,l.children),Ir(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Pp(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=To),n=!0):n=!1,n||or(t)}function Am(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:sn=sn.return}}function el(t){if(t!==sn)return!1;if(!Gt)return Am(t),Gt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mf(t.type,t.memoizedProps)),a=!a),a&&he&&or(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){he=Kn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}he=null}}else n===27?(n=he,ya(t.type)?(t=_f,_f=null,he=t):he=n):he=sn?Kn(t.stateNode.nextSibling):null;return!0}function nl(){he=sn=null,Gt=!1}function Sm(){var t=ur;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ur=null),t}function il(t){ur===null?ur=[t]:ur.push(t)}var Jc=K(null),cr=null,xi=null;function na(t,n,a){W(Jc,n._currentValue),n._currentValue=a}function Mi(t){t._currentValue=Jc.current,it(Jc)}function Wc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function th(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Wc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;En(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ye.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&th(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){cr=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return bm(cr,t)}function qu(t,n){return cr===null&&hr(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xi===null){if(t===null)throw Error(s(308));xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xi=xi.next=n;return a}var G0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Q0=r.unstable_scheduleCallback,F0=r.unstable_NormalPriority,De={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new G0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Q0(F0,function(){t.controller.abort()})}var sl=null,nh=0,Kr=0,Xr=null;function Y0(t,n){if(sl===null){var a=sl=[];nh=0,Kr=rf(),Xr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nh++,n.then(Rm,Rm),n}function Rm(){if(--nh===0&&sl!==null){Xr!==null&&(Xr.status="fulfilled");var t=sl;sl=null,Kr=0,Xr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(t,n),wm!==null&&wm(t,n)};var fr=K(null);function ih(){var t=fr.current;return t!==null?t:ne.pooledCache}function Hu(t,n){n===null?W(fr,fr.current):W(fr,n.pool)}function Cm(){var t=ih();return t===null?null:{parent:De._currentValue,pool:t}}var ll=Error(s(460)),Dm=Error(s(474)),Gu=Error(s(542)),ah={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Nm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Qu,Qu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t;default:if(typeof n.status=="string")n.then(Qu,Qu);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t}throw ul=n,ll}}var ul=null;function Im(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}function Om(t){if(t===ll||t===Gu)throw Error(s(483))}var ia=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zu(t),_m(t,null,a),n}return Lu(t,l,n,a),zu(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}function lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uh=!1;function cl(){if(uh){var t=Xr;if(t!==null)throw t}}function hl(t,n,a,l){uh=!1;var c=t.updateQueue;ia=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=P=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Bt&k)===k:(l&k)===k){k!==0&&k===Kr&&(uh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=t,pt=E;k=n;var te=a;switch(pt.tag){case 1:if(At=pt.payload,typeof At=="function"){F=At.call(te,F,k);break t}F=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=pt.payload,k=typeof At=="function"?At.call(te,F,k):At,k==null)break t;F=A({},F,k);break t;case 2:ia=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,b=F):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),da|=y,t.lanes=y,t.memoizedState=F}}function xm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Mm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xm(a[t],n)}var Zr=K(null),Fu=K(0);function Um(t,n){t=ji,W(Fu,t),W(Zr,n),ji=t|n.baseLanes}function oh(){W(Fu,ji),W(Zr,Zr.current)}function ch(){ji=Fu.current,it(Zr),it(Fu)}var sa=0,Vt=null,Jt=null,Te=null,Yu=!1,$r=!1,dr=!1,Ku=0,fl=0,Jr=null,X0=0;function me(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function fh(t,n,a,l,c,f){return sa=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?_g:vg,dr=!1,f=a(l,c),dr=!1,$r&&(f=zm(n,a,l,c)),Lm(t),f}function Lm(t){H.H=to;var n=Jt!==null&&Jt.next!==null;if(sa=0,Te=Jt=Vt=null,Yu=!1,fl=0,Jr=null,n)throw Error(s(300));t===null||Ue||(t=t.dependencies,t!==null&&ju(t)&&(Ue=!0))}function zm(t,n,a,l){Vt=t;var c=0;do{if($r&&(Jr=null),fl=0,$r=!1,25<=c)throw Error(s(301));if(c+=1,Te=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=nE,f=n(a,l)}while($r);return f}function Z0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Vt.flags|=1024),n}function dh(){var t=Ku!==0;return Ku=0,t}function mh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function gh(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}sa=0,Te=Jt=Vt=null,$r=!1,fl=Ku=0,Jr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Vt.memoizedState=Te=t:Te=Te.next=t,Te}function Ae(){if(Jt===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Te===null?Vt.memoizedState:Te.next;if(n!==null)Te=n,Jt=t;else{if(t===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?Vt.memoizedState=Te=t:Te=Te.next=t}return Te}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Jr===null&&(Jr=[]),t=Nm(Jr,t,n),n=Vt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:vg),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===gt)return $e(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,a=Vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ph(),Vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Ui(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Ae();return _h(n,Jt,t)}function _h(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Bt&F)===F:(sa&F)===F){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Kr&&(G=!0);else if((sa&k)===k){P=P.next,k===Kr&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Vt.lanes|=k,da|=k;F=P.action,dr&&a(f,F),f=P.hasEagerState?P.eagerState:a(f,F)}else k={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,Vt.lanes|=F,da|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!En(f,t.memoizedState)&&(Ue=!0,G&&(a=Xr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=Ae(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);En(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=Vt,c=Ae(),f=Gt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!En((Jt||c).memoizedState,a);y&&(c.memoizedState=a,Ue=!0),c=c.queue;var E=jm.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Wr(9,$u(),Bm.bind(null,l,c,a,n),null),ne===null)throw Error(s(349));f||(sa&124)!==0||km(l,n,a)}return a}function km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Vt.updateQueue,n===null?(n=ph(),Vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,qm(n)&&Hm(t)}function jm(t,n,a){return a(function(){qm(n)&&Hm(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Hm(t){var n=Gr(t,2);n!==null&&wn(n,t,2)}function Eh(t){var n=on();if(typeof t=="function"){var a=t;if(t=a(),dr){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Gm(t,n,a,l){return t.baseState=a,_h(t,Jt,typeof l=="function"?l:Ui)}function $0(t,n,a,l,c){if(Wu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Qm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Fm(t,n,E)}catch(P){Th(t,n,P)}finally{H.T=f}}else try{f=a(c,l),Fm(t,n,f)}catch(P){Th(t,n,P)}}function Fm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ym(t,n,l)},function(l){return Th(t,n,l)}):Ym(t,n,a)}function Ym(t,n,a){n.status="fulfilled",n.value=a,Km(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qm(t,a)))}function Th(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Zm(t,n){if(Gt){var a=ne.formState;if(a!==null){t:{var l=Vt;if(Gt){if(he){e:{for(var c=he,f=ui;c.nodeType!==8;){if(!f){c=null;break e}if(c=Kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){he=Kn(c.nextSibling),l=c.data==="F!";break t}}or(l)}l=!1}l&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=gg.bind(null,Vt,l),l.dispatch=a,l=Eh(!1),f=wh.bind(null,Vt,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=$0.bind(null,Vt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=Ae();return Jm(n,Jt,t)}function Jm(t,n,a){if(n=_h(t,n,Xm)[0],t=Zu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?Gu:y}else l=n;n=Ae();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Vt.flags|=2048,Wr(9,$u(),J0.bind(null,c,a),null)),[l,f,t]}function J0(t,n){t.action=n}function Wm(t){var n=Ae(),a=Jt;if(a!==null)return Jm(n,a,t);Ae(),n=n.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=ph(),Vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function $u(){return{destroy:void 0,resource:void 0}}function tg(){return Ae().memoizedState}function Ju(t,n,a,l){var c=on();l=l===void 0?null:l,Vt.flags|=t,c.memoizedState=Wr(1|n,$u(),a,l)}function ml(t,n,a,l){var c=Ae();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&hh(l,Jt.memoizedState.deps)?c.memoizedState=Wr(n,f,a,l):(Vt.flags|=t,c.memoizedState=Wr(1|n,f,a,l))}function eg(t,n){Ju(8390656,8,t,n)}function ng(t,n){ml(2048,8,t,n)}function ig(t,n){return ml(4,2,t,n)}function ag(t,n){return ml(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,ml(4,4,rg.bind(null,n,t),a)}function Ah(){}function lg(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ug(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),dr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Sh(t,n,a){return a===void 0||(sa&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=hp(),Vt.lanes|=t,da|=t,a)}function og(t,n,a,l){return En(a,n)?a:Zr.current!==null?(t=Sh(t,a,l),En(t,n)||(Ue=!0),t):(sa&42)===0?(Ue=!0,t.memoizedState=a):(t=hp(),Vt.lanes|=t,da|=t,n)}function cg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,wh(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=K0(b,l);gl(t,n,G,Rn(t))}else gl(t,n,l,Rn(t))}catch(F){gl(t,n,{then:function(){},status:"rejected",reason:F},Rn())}finally{nt.p=f,H.T=y}}function W0(){}function bh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,ht,a===null?W0:function(){return fg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;gl(t,n,{},Rn())}function Rh(){return $e(xl)}function dg(){return Ae().memoizedState}function mg(){return Ae().memoizedState}function tE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rn();t=aa(a);var l=ra(n,t,a);l!==null&&(wn(l,n,a),ol(l,n,a)),n={cache:eh()},t.payload=n;return}n=n.return}}function eE(t,n,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?pg(n,a):(a=Qc(t,n,a,l),a!==null&&(wn(a,t,l),yg(a,n,l)))}function gg(t,n,a){var l=Rn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,En(E,y))return Lu(t,n,c,0),ne===null&&Uu(),!1}catch{}finally{}if(a=Qc(t,n,c,l),a!==null)return wn(a,t,l),yg(a,n,l),!0}return!1}function wh(t,n,a,l){if(l={lane:2,revertLane:rf(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(s(479))}else n=Qc(t,a,l,2),n!==null&&wn(n,t,2)}function Wu(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function pg(t,n){$r=Yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}var to={readContext:$e,use:Xu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},_g={readContext:$e,use:Xu,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:$e,useEffect:eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var a=on();n=n===void 0?null:n;var l=t();if(dr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=on();if(a!==void 0){var c=a(n);if(dr){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=eE.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,a=gg.bind(null,Vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(t,n){var a=on();return Sh(a,t,n)},useTransition:function(){var t=Eh(!1);return t=cg.bind(null,Vt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Vt,c=on();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ne===null)throw Error(s(349));(Bt&124)!==0||km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,eg(jm.bind(null,l,f,t),[t]),l.flags|=2048,Wr(9,$u(),Bm.bind(null,l,f,a,n),null),a},useId:function(){var t=on(),n=ne.identifierPrefix;if(Gt){var a=Oi,l=Ii;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Ku++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=X0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wh.bind(null,Vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return on().memoizedState=tE.bind(null,Vt)}},vg={readContext:$e,use:Xu,useCallback:lg,useContext:$e,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:ug,useReducer:Zu,useRef:tg,useState:function(){return Zu(Ui)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=Ae();return og(a,Jt.memoizedState,t,n)},useTransition:function(){var t=Zu(Ui)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Rh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=Ae();return Gm(a,Jt,t,n)},useMemoCache:yh,useCacheRefresh:mg},nE={readContext:$e,use:Xu,useCallback:lg,useContext:$e,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:ug,useReducer:vh,useRef:tg,useState:function(){return vh(Ui)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=Ae();return Jt===null?Sh(a,t,n):og(a,Jt.memoizedState,t,n)},useTransition:function(){var t=vh(Ui)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Rh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var a=Ae();return Jt!==null?Gm(a,Jt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:mg},ts=null,pl=0;function eo(t){var n=pl;return pl+=1,ts===null&&(ts=[]),Nm(ts,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function no(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(M,N){if(t){var z=M.deletions;z===null?(M.deletions=[N],M.flags|=16):z.push(N)}}function a(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Ni(M,N),M.index=0,M.sibling=null,M}function f(M,N,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<N?(M.flags|=67108866,N):z):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,z,Q){return N===null||N.tag!==6?(N=Yc(z,M.mode,Q),N.return=M,N):(N=c(N,z),N.return=M,N)}function b(M,N,z,Q){var lt=z.type;return lt===X?G(M,N,z.props.children,Q,z.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Eg(lt)===N.type)?(N=c(N,z.props),yl(N,z),N.return=M,N):(N=Pu(z.type,z.key,z.props,null,M.mode,Q),yl(N,z),N.return=M,N)}function P(M,N,z,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Kc(z,M.mode,Q),N.return=M,N):(N=c(N,z.children||[]),N.return=M,N)}function G(M,N,z,Q,lt){return N===null||N.tag!==7?(N=rr(z,M.mode,Q,lt),N.return=M,N):(N=c(N,z),N.return=M,N)}function F(M,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yc(""+N,M.mode,z),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return z=Pu(N.type,N.key,N.props,null,M.mode,z),yl(z,N),z.return=M,z;case j:return N=Kc(N,M.mode,z),N.return=M,N;case S:var Q=N._init;return N=Q(N._payload),F(M,N,z)}if(ie(N)||U(N))return N=rr(N,M.mode,z,null),N.return=M,N;if(typeof N.then=="function")return F(M,eo(N),z);if(N.$$typeof===gt)return F(M,qu(M,N),z);no(M,N)}return null}function k(M,N,z,Q){var lt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(M,N,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===lt?b(M,N,z,Q):null;case j:return z.key===lt?P(M,N,z,Q):null;case S:return lt=z._init,z=lt(z._payload),k(M,N,z,Q)}if(ie(z)||U(z))return lt!==null?null:G(M,N,z,Q,null);if(typeof z.then=="function")return k(M,N,eo(z),Q);if(z.$$typeof===gt)return k(M,N,qu(M,z),Q);no(M,z)}return null}function B(M,N,z,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(N,M,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return M=M.get(Q.key===null?z:Q.key)||null,b(N,M,Q,lt);case j:return M=M.get(Q.key===null?z:Q.key)||null,P(N,M,Q,lt);case S:var It=Q._init;return Q=It(Q._payload),B(M,N,z,Q,lt)}if(ie(Q)||U(Q))return M=M.get(z)||null,G(N,M,Q,lt,null);if(typeof Q.then=="function")return B(M,N,z,eo(Q),lt);if(Q.$$typeof===gt)return B(M,N,z,qu(N,Q),lt);no(N,Q)}return null}function At(M,N,z,Q){for(var lt=null,It=null,ct=N,vt=N=0,ze=null;ct!==null&&vt<z.length;vt++){ct.index>vt?(ze=ct,ct=null):ze=ct.sibling;var Ht=k(M,ct,z[vt],Q);if(Ht===null){ct===null&&(ct=ze);break}t&&ct&&Ht.alternate===null&&n(M,ct),N=f(Ht,N,vt),It===null?lt=Ht:It.sibling=Ht,It=Ht,ct=ze}if(vt===z.length)return a(M,ct),Gt&&lr(M,vt),lt;if(ct===null){for(;vt<z.length;vt++)ct=F(M,z[vt],Q),ct!==null&&(N=f(ct,N,vt),It===null?lt=ct:It.sibling=ct,It=ct);return Gt&&lr(M,vt),lt}for(ct=l(ct);vt<z.length;vt++)ze=B(ct,M,vt,z[vt],Q),ze!==null&&(t&&ze.alternate!==null&&ct.delete(ze.key===null?vt:ze.key),N=f(ze,N,vt),It===null?lt=ze:It.sibling=ze,It=ze);return t&&ct.forEach(function(Aa){return n(M,Aa)}),Gt&&lr(M,vt),lt}function pt(M,N,z,Q){if(z==null)throw Error(s(151));for(var lt=null,It=null,ct=N,vt=N=0,ze=null,Ht=z.next();ct!==null&&!Ht.done;vt++,Ht=z.next()){ct.index>vt?(ze=ct,ct=null):ze=ct.sibling;var Aa=k(M,ct,Ht.value,Q);if(Aa===null){ct===null&&(ct=ze);break}t&&ct&&Aa.alternate===null&&n(M,ct),N=f(Aa,N,vt),It===null?lt=Aa:It.sibling=Aa,It=Aa,ct=ze}if(Ht.done)return a(M,ct),Gt&&lr(M,vt),lt;if(ct===null){for(;!Ht.done;vt++,Ht=z.next())Ht=F(M,Ht.value,Q),Ht!==null&&(N=f(Ht,N,vt),It===null?lt=Ht:It.sibling=Ht,It=Ht);return Gt&&lr(M,vt),lt}for(ct=l(ct);!Ht.done;vt++,Ht=z.next())Ht=B(ct,M,vt,Ht.value,Q),Ht!==null&&(t&&Ht.alternate!==null&&ct.delete(Ht.key===null?vt:Ht.key),N=f(Ht,N,vt),It===null?lt=Ht:It.sibling=Ht,It=Ht);return t&&ct.forEach(function(iT){return n(M,iT)}),Gt&&lr(M,vt),lt}function te(M,N,z,Q){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var lt=z.key;N!==null;){if(N.key===lt){if(lt=z.type,lt===X){if(N.tag===7){a(M,N.sibling),Q=c(N,z.props.children),Q.return=M,M=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Eg(lt)===N.type){a(M,N.sibling),Q=c(N,z.props),yl(Q,z),Q.return=M,M=Q;break t}a(M,N);break}else n(M,N);N=N.sibling}z.type===X?(Q=rr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Pu(z.type,z.key,z.props,null,M.mode,Q),yl(Q,z),Q.return=M,M=Q)}return y(M);case j:t:{for(lt=z.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(M,N.sibling),Q=c(N,z.children||[]),Q.return=M,M=Q;break t}else{a(M,N);break}else n(M,N);N=N.sibling}Q=Kc(z,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return lt=z._init,z=lt(z._payload),te(M,N,z,Q)}if(ie(z))return At(M,N,z,Q);if(U(z)){if(lt=U(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),pt(M,N,z,Q)}if(typeof z.then=="function")return te(M,N,eo(z),Q);if(z.$$typeof===gt)return te(M,N,qu(M,z),Q);no(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(M,N.sibling),Q=c(N,z),Q.return=M,M=Q):(a(M,N),Q=Yc(z,M.mode,Q),Q.return=M,M=Q),y(M)):a(M,N)}return function(M,N,z,Q){try{pl=0;var lt=te(M,N,z,Q);return ts=null,lt}catch(ct){if(ct===ll||ct===Gu)throw ct;var It=Tn(29,ct,null,M.mode);return It.lanes=Q,It.return=M,It}finally{}}}var es=Tg(!0),Ag=Tg(!1),Bn=K(null),oi=null;function la(t){var n=t.alternate;W(Ve,Ve.current&1),W(Bn,t),oi===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(oi=t)}function Sg(t){if(t.tag===22){if(W(Ve,Ve.current),W(Bn,t),oi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(oi=t)}}else ua()}function ua(){W(Ve,Ve.current),W(Bn,Bn.current)}function Li(t){it(Bn),oi===t&&(oi=null),it(Ve)}var Ve=K(0);function io(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Rn(),c=aa(l);c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(wn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Rn(),c=aa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(wn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Rn(),l=aa(a);l.tag=2,n!=null&&(l.callback=n),n=ra(t,l,a),n!==null&&(wn(n,t,a),ol(n,t,a))}};function bg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,l)||!Ws(c,f):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function mr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ao=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){ao(t)}function Cg(t){console.error(t)}function Dg(t){ao(t)}function ro(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(t,n)},a}function Ng(t){return t=aa(t),t.tag=3,t}function Ig(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Vg(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function iE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&al(n,a,c,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return oi===null?Wh():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ah?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return a.flags|=65536,l===ah?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ef(t,l,c)),!1}throw Error(s(435,a.tag))}return ef(t,l,c),Wh(),!1}if(Gt)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),il(Ln(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),il(Ln(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ln(l,a),c=Vh(t.stateNode,l,c),lh(t,c),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:l});if(f=Ln(f,a),bl===null?bl=[f]:bl.push(f),fe!==4&&(fe=2),n===null)return!0;l=Ln(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),lh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ng(c),Ig(c,t,a,l),lh(a,c),!1}a=a.return}while(a!==null);return!1}var Og=Error(s(461)),Ue=!1;function He(t,n,a,l){n.child=t===null?Ag(n,null,a,l):es(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return hr(n),l=fh(t,n,a,y,f,c),E=dh(),t!==null&&!Ue?(mh(t,n,c),zi(t,n,c)):(Gt&&E&&Xc(n),n.flags|=1,He(t,n,l,c),n.child)}function Mg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=Pu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Ni(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ue=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Ue=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Nh(t,n,a,l,c)}function Lg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?Um(n,f):oh(),Sg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Hu(n,f.cachePool),Um(n,f),ua(),n.memoizedState=null):(t!==null&&Hu(n,null),oh(),ua());return He(t,n,c,a),n.child}function zg(t,n,a,l){var c=ih();return c=c===null?null:{parent:De._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Hu(n,null),oh(),Sg(n),t!==null&&al(t,n,l,!0),null}function so(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Nh(t,n,a,l,c){return hr(n),a=fh(t,n,a,l,void 0,c),l=dh(),t!==null&&!Ue?(mh(t,n,c),zi(t,n,c)):(Gt&&l&&Xc(n),n.flags|=1,He(t,n,a,c),n.child)}function Pg(t,n,a,l,c,f){return hr(n),n.updateQueue=null,a=zm(n,l,a,c),Lm(t),l=dh(),t!==null&&!Ue?(mh(t,n,f),zi(t,n,f)):(Gt&&l&&Xc(n),n.flags|=1,He(t,n,a,f),n.child)}function kg(t,n,a,l,c){if(hr(n),n.stateNode===null){var f=Qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=$e(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?$e(y):Qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ch(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=mr(a,E);f.props=b;var P=f.context,G=a.contextType;y=Qr,typeof G=="object"&&G!==null&&(y=$e(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Rg(n,f,l,y),ia=!1;var k=n.memoizedState;f.state=k,hl(n,l,f,c),cl(),P=n.memoizedState,E||k!==P||ia?(typeof F=="function"&&(Ch(n,a,F,l),P=n.memoizedState),(b=ia||bg(n,a,b,l,k,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),y=n.memoizedProps,G=mr(a,y),f.props=G,F=n.pendingProps,k=f.context,P=a.contextType,b=Qr,typeof P=="object"&&P!==null&&(b=$e(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||k!==b)&&Rg(n,f,l,b),ia=!1,k=n.memoizedState,f.state=k,hl(n,l,f,c),cl();var B=n.memoizedState;y!==F||k!==B||ia||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),B=n.memoizedState),(G=ia||bg(n,a,G,l,k,B,b)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,so(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,c),n.child=es(n,null,a,c)):He(t,n,a,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function Bg(t,n,a,l){return nl(),n.flags|=256,He(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Cm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Gt){if(c?la(n):ua(),Gt){var E=he,b;if(b=E){t:{for(b=E,E=ui;b.nodeType!==8;){if(!E){E=null;break t}if(b=Kn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:sr!==null?{id:Ii,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},b=Tn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,sn=n,he=null,b=!0):b=!1}b||or(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;Li(n)}return E=l.children,l=l.fallback,c?(ua(),c=n.mode,E=lo({mode:"hidden",children:E},c),l=rr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(a),c.childLanes=xh(t,y,a),n.memoizedState=Ih,l):(la(n),Mh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(la(n),n.flags&=-257,n=Uh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),c=l.fallback,E=n.mode,l=lo({mode:"visible",children:l.children},E),c=rr(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,es(n,t.child,null,a),l=n.child,l.memoizedState=Oh(a),l.childLanes=xh(t,y,a),n.memoizedState=Ih,n=c);else if(la(n),yf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=Uh(t,n,a)}else if(Ue||al(t,n,a,!1),y=(a&t.childLanes)!==0,Ue||y){if(y=ne,y!==null&&(l=a&-a,l=(l&42)!==0?1:Xi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Gr(t,l),wn(y,t,l),Og;E.data==="$?"||Wh(),n=Uh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,he=Kn(E.nextSibling),sn=n,Gt=!0,ur=null,ui=!1,t!==null&&(Pn[kn++]=Ii,Pn[kn++]=Oi,Pn[kn++]=sr,Ii=t.id,Oi=t.overflow,sr=n),n=Mh(n,l.children),n.flags|=4096);return n}return c?(ua(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ni(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ni(P,c):(c=rr(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(a):(b=E.cachePool,b!==null?(P=De._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Cm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=xh(t,y,a),n.memoizedState=Ih,l):(la(n),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Mh(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=Tn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,a){return es(n,t.child,null,a),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,a)}function Lh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(He(t,n,l.children,a),l=Ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,a,n);else if(t.tag===19)qg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ve,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&io(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Lh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&io(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Lh(n,!0,a,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(al(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ni(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function aE(t,n,a){switch(n.tag){case 3:$(n,n.stateNode.containerInfo),na(n,De,t.memoizedState.cache),nl();break;case 27:case 5:_t(n);break;case 4:$(n,n.stateNode.containerInfo);break;case 10:na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(la(n),t=zi(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(al(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ve,Ve.current),l)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,a);case 24:na(n,De,t.memoizedState.cache)}return zi(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ue=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return Ue=!1,aE(t,n,a);Ue=(t.flags&131072)!==0}else Ue=!1,Gt&&(n.flags&1048576)!==0&&Em(n,Bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=mr(l,t),n.tag=1,n=kg(null,n,l,t,a)):(n.tag=0,n=Nh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=xg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=Mg(null,n,l,t,a);break t}}throw n=be(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=mr(l,n.pendingProps),kg(t,n,l,c,a);case 3:t:{if($(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),hl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,na(n,De,l),l!==f.cache&&th(n,[De],a,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(t,n,l,a);break t}else if(l!==c){c=Ln(Error(s(424)),n),il(c),n=Bg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=Kn(t.firstChild),sn=n,Gt=!0,ur=null,ui=!0,a=Ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===c){n=zi(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return so(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Gt||(a=n.type,t=n.pendingProps,l=Ao(yt.current).createElement(a),l[Re]=n,l[ve]=t,Qe(l,a,t),de(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return _t(n),t===null&&Gt&&(l=n.stateNode=Qp(n.type,n.pendingProps,yt.current),sn=n,ui=!0,c=he,ya(n.type)?(_f=c,he=Kn(l.firstChild)):he=c),He(t,n,n.pendingProps.children,a),so(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Gt&&((c=l=he)&&(l=OE(l,n.type,n.pendingProps,ui),l!==null?(n.stateNode=l,sn=n,he=Kn(l.firstChild),ui=!1,c=!0):c=!1),c||or(n)),_t(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:y!==null&&mf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,Z0,null,null,a),xl._currentValue=c),so(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Gt&&((t=a=he)&&(a=xE(a,n.pendingProps,ui),a!==null?(n.stateNode=a,sn=n,he=null,t=!0):t=!1),t||or(n)),null;case 13:return jg(t,n,a);case 4:return $(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,a):He(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,na(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,hr(n),c=$e(c),l=l(c),n.flags|=1,He(t,n,l,a),n.child;case 14:return Mg(t,n,n.type,n.pendingProps,a);case 15:return Ug(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=lo(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ni(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Lg(t,n,a);case 24:return hr(n),l=$e(De),t===null?(c=ih(),c===null&&(c=ne,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},rh(n),na(n,De,c)):((t.lanes&a)!==0&&(sh(t,n),hl(n,null,null,a),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),na(n,De,l)):(l=f.cache,na(n,De,l),l!==c.cache&&th(n,[De],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=Bn.current,n!==null&&((Bt&4194048)===Bt?oi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==oi))throw ul=ah,Dm;t.flags|=8192}}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Us():536870912,t.lanes|=n,rs|=n)}function _l(t,n){if(!Gt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ue(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rE(t,n,a){var l=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mi(De),Et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(n)?Pi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ue(n),null;case 26:return a=n.memoizedState,t===null?(Pi(n),a!==null?(ue(n),Qg(n,a)):(ue(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Pi(n),ue(n),Qg(n,a)):(ue(n),n.flags&=-16777217):(t.memoizedProps!==l&&Pi(n),ue(n),n.flags&=-16777217),null;case 27:ut(n),a=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}t=ft.current,el(n)?Tm(n):(t=Qp(c,l,a),n.stateNode=t,Pi(n))}return ue(n),null;case 5:if(ut(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}if(t=ft.current,el(n))Tm(n);else{switch(c=Ao(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Re]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Qe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Pi(n)}}return ue(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,el(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,a)),t||or(n)}else t=Ao(t).createTextNode(l),t[Re]=n,n.stateNode=t}return ue(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Re]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Li(n),n):(Li(n),null)}if(Li(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),uo(n,n.updateQueue),ue(n),null;case 4:return Et(),t===null&&of(n.stateNode.containerInfo),ue(n),null;case 10:return Mi(n.type),ue(n),null;case 19:if(it(Ve),c=n.memoizedState,c===null)return ue(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=io(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return W(Ve,Ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&_e()>ho&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=io(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Gt)return ue(n),null}else 2*_e()-c.renderingStartTime>ho&&a!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=_e(),n.sibling=null,t=Ve.current,W(Ve,l?t&1|2:t&1),n):(ue(n),null);case 22:case 23:return Li(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),a=n.updateQueue,a!==null&&uo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&it(fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Mi(De),ue(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function sE(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(De),Et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ut(n),null;case 13:if(Li(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ve),null;case 4:return Et(),null;case 10:return Mi(n.type),null;case 22:case 23:return Li(n),ch(),t!==null&&it(fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(De),null;case 25:return null;default:return null}}function Fg(t,n){switch(Zc(n),n.tag){case 3:Mi(De),Et();break;case 26:case 27:case 5:ut(n);break;case 4:Et();break;case 13:Li(n);break;case 19:it(Ve);break;case 10:Mi(n.type);break;case 22:case 23:Li(n),ch(),t!==null&&it(fr);break;case 24:Mi(De)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){ee(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){ee(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){ee(n,n.return,G)}}function Yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Mm(n,a)}catch(l){ee(t,t.return,l)}}}function Kg(t,n,a){a.props=mr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ee(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ee(t,n,c)}}function ci(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ee(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ee(t,n,c)}else a.current=null}function Xg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ee(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;CE(l,t.type,a,n),l[ve]=n}catch(c){ee(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=To));else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function oo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oo(t,n,a),t=t.sibling;t!==null;)oo(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Qe(n,l,a),n[Re]=t,n[ve]=a}catch(f){ee(t,t.return,f)}}var ki=!1,ge=!1,jh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Le=null;function lE(t,n){if(t=t.containerInfo,ff=Do,t=om(t),kc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,k=null;e:for(;;){for(var B;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(B=F.firstChild)!==null;)k=F,F=B;for(;;){if(F===t)break e;if(k===a&&++P===c&&(E=y),k===f&&++G===l&&(b=y),(B=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:t,selectionRange:a},Do=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var At=mr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(At,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){ee(a,a.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ca(t,a),l&4&&vl(5,a);break;case 1:if(ca(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ee(a,a.return,y)}else{var c=mr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ee(a,a.return,y)}}l&64&&Yg(a),l&512&&El(a,a.return);break;case 3:if(ca(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Mm(t,n)}catch(y){ee(a,a.return,y)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:ca(t,a),n===null&&l&4&&Xg(a),l&512&&El(a,a.return);break;case 12:ca(t,a);break;case 13:ca(t,a),l&4&&np(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pE.bind(null,a),ME(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||ge,c=ki;var f=ge;ki=l,(ge=n)&&!f?ha(t,a,(a.subtreeFlags&8772)!==0):ca(t,a),ki=c,ge=f}break;case 30:break;default:ca(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,cn=!1;function Bi(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:ge||ci(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ci(a,n);var l=re,c=cn;ya(a.type)&&(re=a.stateNode,cn=!1),Bi(t,n,a),Vl(a.stateNode),re=l,cn=c;break;case 5:ge||ci(a,n);case 6:if(l=re,c=cn,re=null,Bi(t,n,a),re=l,cn=c,re!==null)if(cn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){ee(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){ee(a,n,f)}break;case 18:re!==null&&(cn?(t=re,Hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):Hp(re,a.stateNode));break;case 4:l=re,c=cn,re=a.stateNode.containerInfo,cn=!0,Bi(t,n,a),re=l,cn=c;break;case 0:case 11:case 14:case 15:ge||oa(2,a,n),ge||oa(4,a,n),Bi(t,n,a);break;case 1:ge||(ci(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kg(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,Bi(t,n,a),ge=l;break;default:Bi(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){ee(n,n.return,a)}}function uE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function qh(t,n){var a=uE(t);n.forEach(function(l){var c=yE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function An(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){re=E.stateNode,cn=!1;break t}break;case 5:re=E.stateNode,cn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(re===null)throw Error(s(160));ep(f,y,c),re=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var Yn=null;function ip(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),Sn(t),l&4&&(oa(3,t,t.return),vl(3,t),oa(5,t,t.return));break;case 1:An(n,t),Sn(t),l&512&&(ge||a===null||ci(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Yn;if(An(n,t),Sn(t),l&512&&(ge||a===null||ci(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ha]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Qe(f,l,a),f[Re]=t,de(f),l=f;break t;case"link":var y=$p("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Qe(f,l,a),c.head.appendChild(f);break;case"meta":if(y=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Qe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Re]=t,de(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(n,t),Sn(t),l&512&&(ge||a===null||ci(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(n,t),Sn(t),l&512&&(ge||a===null||ci(a,a.return)),t.flags&32){c=t.stateNode;try{On(c,"")}catch(B){ee(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(An(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){ee(t,t.return,B)}}break;case 3:if(Ro=null,c=Yn,Yn=So(n.containerInfo),An(n,t),Yn=c,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(B){ee(t,t.return,B)}jh&&(jh=!1,ap(t));break;case 4:l=Yn,Yn=So(t.stateNode.containerInfo),An(n,t),Sn(t),Yn=l;break;case 12:An(n,t),Sn(t);break;case 13:An(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=_e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=ki,G=ge;if(ki=P||c,ge=G||b,An(n,t),ge=G,ki=P,Sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||ki||ge||gr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){ee(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){ee(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qh(t,a))));break;case 19:An(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 30:break;case 21:break;default:An(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=kh(t);oo(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(On(y,""),a.flags&=-33);var E=kh(t);oo(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=kh(t);Bh(t,P,b);break;default:throw Error(s(161))}}catch(G){ee(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ca(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),gr(n);break;case 1:ci(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),gr(n);break;case 27:Vl(n.stateNode);case 26:case 5:ci(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}t=t.sibling}}function ha(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ha(c,f,a),vl(4,f);break;case 1:if(ha(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ee(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)xm(b[c],E)}catch(P){ee(l,l.return,P)}}a&&y&64&&Yg(f),El(f,f.return);break;case 27:$g(f);case 26:case 5:ha(c,f,a),a&&l===null&&y&4&&Xg(f),El(f,f.return);break;case 12:ha(c,f,a);break;case 13:ha(c,f,a),a&&y&4&&np(c,f);break;case 22:f.memoizedState===null&&ha(c,f,a),El(f,f.return);break;case 30:break;default:ha(c,f,a)}n=n.sibling}}function Hh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function hi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,a,l),n=n.sibling}function rp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,a,l),c&2048&&vl(9,n);break;case 1:hi(t,n,a,l);break;case 3:hi(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){hi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ee(n,n.return,b)}}else hi(t,n,a,l);break;case 13:hi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,a,l):Tl(t,n):f._visibility&2?hi(t,n,a,l):(f._visibility|=2,ns(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hh(y,n);break;case 24:hi(t,n,a,l),c&2048&&Gh(n.alternate,n);break;default:hi(t,n,a,l)}}function ns(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ns(f,y,E,b,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ns(f,y,E,b,c):Tl(f,y):(G._visibility|=2,ns(f,y,E,b,c)),c&&P&2048&&Hh(y.alternate,y);break;case 24:ns(f,y,E,b,c),c&&P&2048&&Gh(y.alternate,y);break;default:ns(f,y,E,b,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&Hh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Gh(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function is(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 26:is(t),t.flags&Al&&t.memoizedState!==null&&YE(Yn,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=Yn;Yn=So(t.stateNode.containerInfo),is(t),Yn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,is(t),Al=n):is(t));break;default:is(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,op(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,co(t)):Sl(t);break;default:Sl(t)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,op(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),co(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,co(n));break;default:co(n)}t=t.sibling}}function op(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var c=l.sibling,f=l.return;if(tp(l),l===a){Le=null;break t}if(c!==null){c.return=f,Le=c;break t}Le=f}}}var oE={getCacheForType:function(t){var n=$e(De),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},cE=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ne=null,Ot=null,Bt=0,Zt=0,bn=null,fa=!1,as=!1,Qh=!1,ji=0,fe=0,da=0,pr=0,Fh=0,jn=0,rs=0,bl=null,hn=null,Yh=!1,Kh=0,ho=1/0,fo=null,ma=null,Ge=0,ga=null,ss=null,ls=0,Xh=0,Zh=null,cp=null,Rl=0,$h=null;function Rn(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var t=Kr;return t!==0?t:rf()}return Zi()}function hp(){jn===0&&(jn=(Bt&536870912)===0||Gt?Ms():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),jn}function wn(t,n,a){(t===ne&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(us(t,0),pa(t,Bt,jn,!1)),vi(t,a),((Xt&2)===0||t!==ne)&&(t===ne&&((Xt&2)===0&&(pr|=a),fe===4&&pa(t,Bt,jn,!1)),fi(t))}function fp(t,n,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||qa(t,n),c=l?dE(t,n):tf(t,n,!0),f=l;do{if(c===0){as&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!hE(a)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var b=E.current.memoizedState.isDehydrated;if(b&&(us(E,y).flags|=256),y=tf(E,y,!1),y!==2){if(Qh&&!b){E.errorRecoveryDisabledLanes|=f,pr|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){us(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,jn,!fa);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-_e(),10<c)){if(pa(l,n,jn,!fa),Rr(l,0,!0)!==0)break t;l.timeoutHandle=jp(dp.bind(null,l,a,hn,fo,Yh,n,jn,pr,rs,fa,f,2,-0,0),c);break t}dp(l,a,hn,fo,Yh,n,jn,pr,rs,fa,f,0,-0,0)}}break}while(!0);fi(t)}function dp(t,n,a,l,c,f,y,E,b,P,G,F,k,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:FE},sp(n),F=KE(),F!==null)){t.cancelPendingCommit=F(Ep.bind(null,t,n,f,a,l,c,y,E,b,G,1,k,B)),pa(t,f,y,!P);return}Ep(t,n,f,a,l,c,y,E,b)}function hE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!En(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~Fh,n&=~pr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ze(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&$n(t,a,n)}function mo(){return(Xt&6)===0?(wl(0),!1):!0}function Jh(){if(Ot!==null){if(Zt===0)var t=Ot.return;else t=Ot,xi=cr=null,gh(t),ts=null,pl=0,t=Ot;for(;t!==null;)Fg(t.alternate,t),t=t.return;Ot=null}}function us(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Jh(),ne=t,Ot=a=Ni(t.current,null),Bt=n,Zt=0,bn=null,fa=!1,as=qa(t,n),Qh=!1,rs=jn=Fh=pr=da=fe=0,hn=bl=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ze(l),f=1<<c;n|=t[c],l&=~f}return ji=n,Uu(),a}function mp(t,n){Vt=null,H.H=to,n===ll||n===Gu?(n=Im(),Zt=3):n===Dm?(n=Im(),Zt=4):Zt=n===Og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Ot===null&&(fe=1,ro(t,Ln(n,t.current)))}function gp(){var t=H.H;return H.H=to,t===null?to:t}function pp(){var t=H.A;return H.A=oE,t}function Wh(){fe=4,fa||(Bt&4194048)!==Bt&&Bn.current!==null||(as=!0),(da&134217727)===0&&(pr&134217727)===0||ne===null||pa(ne,Bt,jn,!1)}function tf(t,n,a){var l=Xt;Xt|=2;var c=gp(),f=pp();(ne!==t||Bt!==n)&&(fo=null,us(t,n)),n=!1;var y=fe;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,b=bn;switch(Zt){case 8:Jh(),y=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var P=Zt;if(Zt=0,bn=null,os(t,E,b,P),a&&as){y=0;break t}break;default:P=Zt,Zt=0,bn=null,os(t,E,b,P)}}fE(),y=fe;break}catch(G){mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,xi=cr=null,Xt=l,H.H=c,H.A=f,Ot===null&&(ne=null,Bt=0,Uu()),y}function fE(){for(;Ot!==null;)yp(Ot)}function dE(t,n){var a=Xt;Xt|=2;var l=gp(),c=pp();ne!==t||Bt!==n?(fo=null,ho=_e()+500,us(t,n)):as=qa(t,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=bn;e:switch(Zt){case 1:Zt=0,bn=null,os(t,n,f,1);break;case 2:case 9:if(Vm(f)){Zt=0,bn=null,_p(n);break}n=function(){Zt!==2&&Zt!==9||ne!==t||(Zt=7),fi(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Vm(f)?(Zt=0,bn=null,_p(n)):(Zt=0,bn=null,os(t,n,f,7));break;case 5:var y=null;switch(Ot.tag){case 26:y=Ot.memoizedState;case 5:case 27:var E=Ot;if(!y||Wp(y)){Zt=0,bn=null;var b=E.sibling;if(b!==null)Ot=b;else{var P=E.return;P!==null?(Ot=P,go(P)):Ot=null}break e}}Zt=0,bn=null,os(t,n,f,5);break;case 6:Zt=0,bn=null,os(t,n,f,6);break;case 8:Jh(),fe=6;break t;default:throw Error(s(462))}}mE();break}catch(G){mp(t,G)}while(!0);return xi=cr=null,H.H=l,H.A=c,Xt=a,Ot!==null?0:(ne=null,Bt=0,Uu(),fe)}function mE(){for(;Ot!==null&&!Xe();)yp(Ot)}function yp(t){var n=Gg(t.alternate,t,ji);t.memoizedProps=t.pendingProps,n===null?go(t):Ot=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Pg(a,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=Pg(a,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:gh(n);default:Fg(a,n),n=Ot=vm(n,ji),n=Gg(a,n,ji)}t.memoizedProps=t.pendingProps,n===null?go(t):Ot=n}function os(t,n,a,l){xi=cr=null,gh(n),ts=null,pl=0;var c=n.return;try{if(iE(t,c,n,a,Bt)){fe=1,ro(t,Ln(a,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;fe=1,ro(t,Ln(a,t.current)),Ot=null;return}n.flags&32768?(Gt||l===1?t=!0:as||(Bt&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):go(n)}function go(t){var n=t;do{if((n.flags&32768)!==0){vp(n,fa);return}t=n.return;var a=rE(n.alternate,n,ji);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);fe===0&&(fe=5)}function vp(t,n){do{var a=sE(t.alternate,t);if(a!==null){a.flags&=32767,Ot=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=a}while(t!==null);fe=6,Ot=null}function Ep(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do po();while(Ge!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,Ls(t,a,f,y,E,b),t===ne&&(Ot=ne=null,Bt=0),ss=n,ga=t,ls=a,Xh=f,Zh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_E(Be,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Xt,Xt|=4;try{lE(t,n,a)}finally{Xt=y,nt.p=c,H.T=l}}Ge=1,Tp(),Ap(),Sp()}}function Tp(){if(Ge===1){Ge=0;var t=ga,n=ss,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Xt;Xt|=4;try{ip(n,t);var f=df,y=om(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(b!==null&&kc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var B=k.getSelection(),At=E.textContent.length,pt=Math.min(b.start,At),te=b.end===void 0?pt:Math.min(b.end,At);!B.extend&&pt>te&&(y=te,te=pt,pt=y);var M=lm(E,pt),N=lm(E,te);if(M&&N&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var z=F.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),pt>te?(B.addRange(z),B.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),B.addRange(z))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Do=!!ff,df=ff=null}finally{Xt=c,nt.p=l,H.T=a}}t.current=n,Ge=2}}function Ap(){if(Ge===2){Ge=0;var t=ga,n=ss,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Xt;Xt|=4;try{Wg(t,n.alternate,n)}finally{Xt=c,nt.p=l,H.T=a}}Ge=3}}function Sp(){if(Ge===4||Ge===3){Ge=0,pn();var t=ga,n=ss,a=ls,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,ss=ga=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),wr(a),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(ls&3)!==0&&po(),fi(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===$h?Rl++:(Rl=0,$h=t):Rl=0,wl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function po(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(Ge!==5)return!1;var t=ga,n=Xh;Xh=0;var a=wr(ls),l=H.T,c=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Zh,Zh=null;var f=ga,y=ls;if(Ge=0,ss=ga=null,ls=0,(Xt&6)!==0)throw Error(s(331));var E=Xt;if(Xt|=4,up(f.current),rp(f,f.current,y,a),Xt=E,wl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ce,f)}catch{}return!0}finally{nt.p=c,H.T=l,bp(t,n)}}function wp(t,n,a){n=Ln(a,n),n=Vh(t.stateNode,n,2),t=ra(t,n,2),t!==null&&(vi(t,2),fi(t))}function ee(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=Ln(a,t),a=Ng(2),l=ra(n,a,2),l!==null&&(Ig(a,l,n,t),vi(l,2),fi(l));break}}n=n.return}}function ef(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Qh=!0,c.add(a),t=gE.bind(null,t,n,a),n.then(t,t))}function gE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ne===t&&(Bt&a)===a&&(fe===4||fe===3&&(Bt&62914560)===Bt&&300>_e()-Kh?(Xt&2)===0&&us(t,0):Fh|=a,rs===Bt&&(rs=0)),fi(t)}function Cp(t,n){n===0&&(n=Us()),t=Gr(t,n),t!==null&&(vi(t,n),fi(t))}function pE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Cp(t,a)}function yE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,a)}function _E(t,n){return Yt(t,n)}var yo=null,cs=null,nf=!1,_o=!1,af=!1,yr=0;function fi(t){t!==cs&&t.next===null&&(cs===null?yo=cs=t:cs=cs.next=t),_o=!0,nf||(nf=!0,EE())}function wl(t,n){if(!af&&_o){af=!0;do for(var a=!1,l=yo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ze(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ip(l,f))}else f=Bt,f=Rr(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qa(l,f)||(a=!0,Ip(l,f));l=l.next}while(a);af=!1}}function vE(){Dp()}function Dp(){_o=nf=!1;var t=0;yr!==0&&(DE()&&(t=yr),yr=0);for(var n=_e(),a=null,l=yo;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,a===null?yo=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||(f&3)!==0)&&(_o=!0)),l=c}wl(t)}function Vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ze(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=xs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=ne,a=Bt,a=Rr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ke(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ke(l),wr(a)){case 2:case 8:a=Nn;break;case 32:a=Be;break;case 268435456:a=yn;break;default:a=Be}return l=Np.bind(null,t),a=Yt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ke(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(po()&&t.callbackNode!==a)return null;var l=Bt;return l=Rr(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Vp(t,_e()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Ip(t,n){if(po())return null;fp(t,n,!0)}function EE(){NE(function(){(Xt&6)!==0?Yt(un,vE):Dp()})}function rf(){return yr===0&&(yr=Ms()),yr}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Or(""+t)}function xp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function TE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Op((c[ve]||null).action),y=l.submitter;y&&(n=(n=y[ve]||null)?Op(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var b=y?xp(c,y):new FormData(c);bh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?xp(c,y):new FormData(c),bh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var sf=0;sf<Hc.length;sf++){var lf=Hc[sf],AE=lf.toLowerCase(),SE=lf[0].toUpperCase()+lf.slice(1);Fn(AE,"on"+SE)}Fn(fm,"onAnimationEnd"),Fn(dm,"onAnimationIteration"),Fn(mm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(B0,"onTransitionRun"),Fn(j0,"onTransitionStart"),Fn(q0,"onTransitionCancel"),Fn(gm,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Mp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){ao(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){ao(G)}c.currentTarget=null,f=b}}}}function xt(t,n){var a=n[Ps];a===void 0&&(a=n[Ps]=new Set);var l=t+"__bubble";a.has(l)||(Up(n,t,2,!1),a.add(l))}function uf(t,n,a){var l=0;n&&(l|=4),Up(a,t,l,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[vo]){t[vo]=!0,ks.forEach(function(a){a!=="selectionchange"&&(bE.has(a)||uf(a,!1,t),uf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,uf("selectionchange",!1,n))}}function Up(t,n,a,l){switch(ry(n)){case 2:var c=$E;break;case 8:c=JE;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!Mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function cf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Eu(function(){var P=f,G=xn(a),F=[];t:{var k=pm.get(t);if(k!==void 0){var B=xr,At=t;switch(t){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":B=kr;break;case"focusin":At="focus",B=Lr;break;case"focusout":At="blur",B=Lr;break;case"beforeblur":case"afterblur":B=Lr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Du;break;case fm:case dm:case mm:B=zr;break;case gm:B=Nu;break;case"scroll":case"scrollend":B=Tu;break;case"wheel":B=Br;break;case"copy":case"cut":case"paste":B=Pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=$s;break;case"toggle":case"beforetoggle":B=Ou}var pt=(n&4)!==0,te=!pt&&(t==="scroll"||t==="scrollend"),M=pt?k!==null?k+"Capture":null:k;pt=[];for(var N=P,z;N!==null;){var Q=N;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Za(N,M),Q!=null&&pt.push(Dl(N,Q,z))),te)break;N=N.return}0<pt.length&&(k=new B(k,At,null,a,G),F.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&a!==bi&&(At=a.relatedTarget||a.fromElement)&&(Ei(At)||At[In]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(At=a.relatedTarget||a.toElement,B=P,At=At?Ei(At):null,At!==null&&(te=h(At),pt=At.tag,At!==te||pt!==5&&pt!==27&&pt!==6)&&(At=null)):(B=null,At=P),B!==At)){if(pt=Un,Q="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pt=$s,Q="onPointerLeave",M="onPointerEnter",N="pointer"),te=B==null?k:Wn(B),z=At==null?k:Wn(At),k=new pt(Q,N+"leave",B,a,G),k.target=te,k.relatedTarget=z,Q=null,Ei(G)===P&&(pt=new pt(M,N+"enter",At,a,G),pt.target=z,pt.relatedTarget=te,Q=pt),te=Q,B&&At)e:{for(pt=B,M=At,N=0,z=pt;z;z=hs(z))N++;for(z=0,Q=M;Q;Q=hs(Q))z++;for(;0<N-z;)pt=hs(pt),N--;for(;0<z-N;)M=hs(M),z--;for(;N--;){if(pt===M||M!==null&&pt===M.alternate)break e;pt=hs(pt),M=hs(M)}pt=null}else pt=null;B!==null&&Lp(F,k,B,pt,!1),At!==null&&te!==null&&Lp(F,te,At,pt,!0)}}t:{if(k=P?Wn(P):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var lt=em;else if(Ce(k))if(nm)lt=z0;else{lt=U0;var It=M0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Gs(P.elementType)&&(lt=em):lt=L0;if(lt&&(lt=lt(t,P))){Vi(F,lt,a,G);break t}It&&It(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&ta(k,"number",k.value)}switch(It=P?Wn(P):window,t){case"focusin":(Ce(It)||It.contentEditable==="true")&&(jr=It,Bc=P,tl=null);break;case"focusout":tl=Bc=jr=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,cm(F,a,G);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":cm(F,a,G)}var ct;if(si)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?q(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(p&&a.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(ct=Fs()):(ni=G,ea="value"in ni?ni.value:ni.textContent,Pt=!0)),It=Eo(P,vt),0<It.length&&(vt=new Xs(vt,t,null,a,G),F.push({event:vt,listeners:It}),ct?vt.data=ct:(ct=tt(a),ct!==null&&(vt.data=ct)))),(ct=m?we(t,a):kt(t,a))&&(vt=Eo(P,"onBeforeInput"),0<vt.length&&(It=new Xs("onBeforeInput","beforeinput",null,a,G),F.push({event:It,listeners:vt}),It.data=ct)),TE(F,t,P,a,G)}Mp(F,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Eo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Za(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Za(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Za(a,f),P!=null&&y.unshift(Dl(a,P,b))):c||(P=Za(a,f),P!=null&&y.push(Dl(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var RE=/\r\n?/g,wE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(RE,`
`).replace(wE,"")}function Pp(t,n){return n=zp(n),zp(t)===n}function To(){}function Wt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&On(t,""+l);break;case"className":ti(t,"class",l);break;case"tabIndex":ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,a,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){ti(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",c.name,c,null),Wt(t,n,"formEncType",c.formEncType,c,null),Wt(t,n,"formMethod",c.formMethod,c,null),Wt(t,n,"formTarget",c.formTarget,c,null)):(Wt(t,n,"encType",c.encType,c,null),Wt(t,n,"method",c.method,c,null),Wt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=To);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Wi(t,"popover",l);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xc.get(a)||a,Wi(t,a,l))}}function hf(t,n,a,l,c,f){switch(a){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Wi(t,a,l)}}}function Qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,f,y,a,null)}}c&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Wt(t,n,l,G,a,null)}}Ya(t,f,E,b,P,y,c,!1),Ir(t);return;case"select":xt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Wt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Si(t,!!l,n,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(t,n,y,E,a,null)}Ka(t,l,c,f),Ir(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,b,l,a,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)xt(Cl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,P,l,a,null)}return;default:if(Gs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&hf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Wt(t,n,E,l,a,null))}function CE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(B in a){var F=a[B];if(a.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(B)||Wt(t,n,B,null,l,F)}}for(var k in l){var B=l[k];if(F=a[k],l.hasOwnProperty(k)&&(B!=null||F!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==F&&Wt(t,n,k,B,l,F)}}vn(t,y,E,b,P,G,f,c);return;case"select":B=y=E=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Wt(t,n,c,f,l,b)}n=E,a=y,l=B,k!=null?Si(t,!!a,k,!1):!!l!=!!a&&(n!=null?Si(t,!!a,n,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Wt(t,n,y,c,l,f)}$t(t,k,B);return;case"option":for(var At in a)if(k=a[At],a.hasOwnProperty(At)&&k!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:Wt(t,n,At,null,l,k)}for(b in l)if(k=l[b],B=a[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Wt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Wt(t,n,pt,null,l,k);for(P in l)if(k=l[P],B=a[P],l.hasOwnProperty(P)&&k!==B&&(k!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Wt(t,n,P,k,l,B)}return;default:if(Gs(n)){for(var te in a)k=a[te],a.hasOwnProperty(te)&&k!==void 0&&!l.hasOwnProperty(te)&&hf(t,n,te,void 0,l,k);for(G in l)k=l[G],B=a[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||hf(t,n,G,k,l,B);return}}for(var M in a)k=a[M],a.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Wt(t,n,M,null,l,k);for(F in l)k=l[F],B=a[F],!l.hasOwnProperty(F)||k===B||k==null&&B==null||Wt(t,n,F,k,l,B)}var ff=null,df=null;function Ao(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function DE(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(IE)}:jp;function IE(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function Hp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Vl(y.documentElement),a&2&&Vl(y.body),a&4)for(a=y.head,Vl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ha]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);zl(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pf(a),Ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ha])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function xE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ME(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _f=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,a){switch(n=Ao(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ji(t)}var qn=new Map,Fp=new Set;function So(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=nt.d;nt.d={f:UE,r:LE,D:zE,C:PE,L:kE,m:BE,X:qE,S:jE,M:HE};function UE(){var t=qi.f(),n=mo();return t||n}function LE(t){var n=Jn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):qi.r(t)}var fs=typeof document>"u"?null:document;function Yp(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var c=Ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Qe(n,"link",t),de(n),l.head.appendChild(n)))}}function zE(t){qi.D(t),Yp("dns-prefetch",t,null)}function PE(t,n){qi.C(t,n),Yp("preconnect",t,n)}function kE(t,n,a){qi.L(t,n,a);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+Ee(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ee(a.imageSizes)+'"]')):c+='[href="'+Ee(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}qn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),qn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Qe(n,"link",t),de(n),l.head.appendChild(n)))}}function BE(t,n){qi.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),qn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Qe(l,"link",t),de(l),a.head.appendChild(l)}}}function jE(t,n,a){qi.S(t,n,a);var l=fs;if(l&&t){var c=nn(l).hoistableStyles,f=ds(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Nl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=qn.get(f))&&vf(t,a);var b=y=l.createElement("link");de(b),Qe(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function qE(t,n){qi.X(t,n);var a=fs;if(a&&t){var l=nn(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=qn.get(c))&&Ef(t,n),f=a.createElement("script"),de(f),Qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function HE(t,n){qi.M(t,n);var a=fs;if(a&&t){var l=nn(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=qn.get(c))&&Ef(t,n),f=a.createElement("script"),de(f),Qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=yt.current)?So(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=nn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ds(a.href);var f=nn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Nl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),f||GE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=nn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+Ee(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function GE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qe(n,"link",a),de(n),t.head.appendChild(n))}function ms(t){return'[src="'+Ee(t)+'"]'}function Il(t){return"script[async]"+t}function Zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return n.instance=l,de(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),de(l),Qe(l,"style",c),bo(l,a.precedence,t),n.instance=l;case"stylesheet":c=ds(a.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,de(f),f;l=Xp(a),(c=qn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),de(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Qe(f,"link",l),n.state.loading|=4,bo(f,a.precedence,t),n.instance=f;case"script":return f=ms(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,de(c),c):(l=a,(c=qn.get(f))&&(l=A({},a),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),de(c),Qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bo(l,a.precedence,t));return n.instance}function bo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ro=null;function $p(t,n,a){if(Ro===null){var l=new Map,c=Ro=new Map;c.set(a,l)}else c=Ro,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ha]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function QE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function FE(){}function YE(t,n,a){if(Ol===null)throw Error(s(475));var l=Ol;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(a.href),f=t.querySelector(Nl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,de(f);return}f=t.ownerDocument||t,a=Xp(a),(c=qn.get(c))&&vf(a,c),f=f.createElement("link"),de(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Qe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function KE(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wo(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Co=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Co=new Map,n.forEach(XE,t),Co=null,wo.call(t))}function XE(t,n){if(!(n.state.loading&4)){var a=Co.get(t);if(a)var l=a.get(null);else{a=new Map,Co.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=wo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ZE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,a,l,c,f,y,E,b,P,G,F){return t=new ZE(t,n,a,y,E,b,P,F),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),t}function ey(t){return t?(t=Qr,t):Qr}function ny(t,n,a,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ra(t,l,n),a!==null&&(wn(a,t,n),ol(a,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Af(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ay(t){if(t.tag===13){var n=Gr(t,67108864);n!==null&&wn(n,t,67108864),Af(t,67108864)}}var Do=!0;function $E(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Sf(t,n,a,l)}finally{nt.p=f,H.T=c}}function JE(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Sf(t,n,a,l)}finally{nt.p=f,H.T=c}}function Sf(t,n,a,l){if(Do){var c=bf(l);if(c===null)cf(t,n,l,Vo,a),sy(t,l);else if(tT(c,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<WE.indexOf(t)){for(;c!==null;){var f=Jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Hn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ze(y);E.entanglements[1]|=b,y&=~b}fi(f),(Xt&6)===0&&(ho=_e()+500,wl(0))}}break;case 13:E=Gr(f,2),E!==null&&wn(E,f,2),mo(),Af(f,2)}if(f=bf(l),f===null&&cf(t,n,l,Vo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,a)}}function bf(t){return t=xn(t),Rf(t)}var Vo=null;function Rf(t){if(Vo=null,t=Ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vo=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case un:return 2;case Nn:return 8;case Be:case Zn:return 32;case yn:return 268435456;default:return 32}default:return 32}}var wf=!1,_a=null,va=null,Ea=null,Ml=new Map,Ul=new Map,Ta=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Jn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function tT(t,n,a,l,c){switch(n){case"focusin":return _a=Ll(_a,t,n,a,l,c),!0;case"dragenter":return va=Ll(va,t,n,a,l,c),!0;case"mouseover":return Ea=Ll(Ea,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ll(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=Ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,du(t.priority,function(){if(a.tag===13){var l=Rn();l=Xi(l);var c=Gr(a,l);c!==null&&wn(c,a,l),Af(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function No(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return n=Jn(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){No(t)&&a.delete(n)}function eT(){wf=!1,_a!==null&&No(_a)&&(_a=null),va!==null&&No(va)&&(va=null),Ea!==null&&No(Ea)&&(Ea=null),Ml.forEach(uy),Ul.forEach(uy)}function Io(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eT)))}var Oo=null;function oy(t){Oo!==t&&(Oo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oo===t&&(Oo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||a)===null)continue;break}var f=Jn(a);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function zl(t){function n(b){return Io(b,t)}_a!==null&&Io(_a,t),va!==null&&Io(va,t),Ea!==null&&Io(Ea,t),Ml.forEach(n),Ul.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&Ta.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ve]||null;if(typeof f=="function")y||oy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ve]||null)E=y.formAction;else if(Rf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),oy(a)}}}function Cf(t){this._internalRoot=t}xo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Rn();ny(a,l,t,n,null,null)},xo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),mo(),n[In]=null}};function xo(t){this._internalRoot=t}xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,t),a===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var nT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{ce=Mo.inject(nT),Kt=Mo}catch{}}return kl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=wg,f=Cg,y=Dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,a,l,c,f,y,E,null),t[In]=n.current,of(t),new Cf(n)},kl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=wg,y=Cg,E=Dg,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=ty(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=ey(null),a=n.current,l=Rn(),l=Xi(l),c=aa(l),c.callback=null,ra(a,c,l),a=l,n.current.lanes=a,vi(n,a),fi(n),t[In]=n.current,of(t),new xo(n)},kl.version="19.1.0",kl}var Ey;function fT(){if(Ey)return Nf.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nf.exports=hT(),Nf.exports}var dT=fT();const mT=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},gT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],g=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,g=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(D=64)),s.push(i[A],i[C],i[D],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],g=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const C=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||g==null||_==null||C==null)throw new pT;const D=h<<2|g>>4;if(s.push(D),_!==64){const j=g<<4&240|_>>2;if(s.push(j),C!==64){const X=_<<6&192|C;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yT=function(r){const e=L_(r);return z_.encodeByteArray(e,!0)},Ko=function(r){return yT(r).replace(/\./g,"")},_T=function(r){try{return z_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=()=>vT().__FIREBASE_DEFAULTS__,TT=()=>{if(typeof process>"u"||typeof Ty>"u")return;const r=Ty.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_T(r[1]);return e&&JSON.parse(e)},md=()=>{try{return mT()||ET()||TT()||AT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ST=r=>{var e,i;return(i=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},P_=r=>{const e=ST(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},k_=()=>{var r;return(r=md())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){return r.endsWith(".cloudworkstations.dev")}async function B_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ko(JSON.stringify(i)),Ko(JSON.stringify(d)),""].join(".")}const Gl={};function wT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function CT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ay=!1;function j_(r,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||Gl[r]===e||Gl[r]||Ay)return;Gl[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=wT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Ay=!0,d()},D}function A(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=CT(s),j=i("text"),X=document.getElementById(j)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),wt=i("preprendIcon"),dt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const gt=D.element;g(gt),A(J,et);const Lt=_();v(dt,wt),gt.append(dt,X,J,Lt),document.body.appendChild(gt)}h?(X.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VT(){var r;const e=(r=md())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){return!VT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function OT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="FirebaseError";class Ar extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=xT,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q_.prototype.create)}}class q_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?MT(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ar(u,g,s)}}function MT(r,e){return r.replace(UT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const UT=/\{\$([^}]+)}/g;function Xo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(Sy(h)&&Sy(d)){if(!Xo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Sy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class Es{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new bT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PT(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zT(r){return r===_r?void 0:r}function PT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const BT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},jT=qt.INFO,qT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},HT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=qT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H_{constructor(e){this.name=e,this._logLevel=jT,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const GT=(r,e)=>e.some(i=>r instanceof i);let by,Ry;function QT(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FT(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,Gf=new WeakMap,Q_=new WeakMap,Mf=new WeakMap,gd=new WeakMap;function YT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ra(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&G_.set(i,r)}).catch(()=>{}),gd.set(e,r),e}function KT(r){if(Gf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Gf.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Q_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XT(r){Qf=r(Qf)}function ZT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Uf(this),e,...i);return Q_.set(s,e.sort?e.sort():[e]),Ra(s)}:FT().includes(r)?function(...e){return r.apply(Uf(this),e),Ra(G_.get(this))}:function(...e){return Ra(r.apply(Uf(this),e))}}function $T(r){return typeof r=="function"?ZT(r):(r instanceof IDBTransaction&&KT(r),GT(r,QT())?new Proxy(r,Qf):r)}function Ra(r){if(r instanceof IDBRequest)return YT(r);if(Mf.has(r))return Mf.get(r);const e=$T(r);return e!==r&&(Mf.set(r,e),gd.set(e,r)),e}const Uf=r=>gd.get(r);function JT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),g=Ra(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const WT=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],Lf=new Map;function wy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=t1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||WT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Lf.set(e,h),h}XT(r=>({...r,get:(e,i,s)=>wy(e,i)||r.get(e,i,s),has:(e,i)=>!!wy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(n1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function n1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",Cy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new H_("@firebase/app"),i1="@firebase/app-compat",a1="@firebase/analytics-compat",r1="@firebase/analytics",s1="@firebase/app-check-compat",l1="@firebase/app-check",u1="@firebase/auth",o1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",g1="@firebase/installations",p1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",A1="@firebase/remote-config-compat",S1="@firebase/storage",b1="@firebase/storage-compat",R1="@firebase/firestore",w1="@firebase/ai",C1="@firebase/firestore-compat",D1="firebase",V1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",N1={[Ff]:"fire-core",[i1]:"fire-core-compat",[r1]:"fire-analytics",[a1]:"fire-analytics-compat",[l1]:"fire-app-check",[s1]:"fire-app-check-compat",[u1]:"fire-auth",[o1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[g1]:"fire-iid",[p1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[A1]:"fire-rc-compat",[S1]:"fire-gcs",[b1]:"fire-gcs-compat",[R1]:"fire-fst",[C1]:"fire-fst-compat",[w1]:"fire-vertex","fire-js":"fire-js",[D1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,I1=new Map,Kf=new Map;function Dy(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xl(r){const e=r.name;if(Kf.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,r);for(const i of Zo.values())Dy(i,r);for(const i of I1.values())Dy(i,r);return!0}function F_(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Y_(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new q_("app","Firebase",O1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=V1;function K_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Yf,automaticDataCollectionEnabled:!0},e),u=s.name;if(typeof u!="string"||!u)throw wa.create("bad-app-name",{appName:String(u)});if(i||(i=k_()),!i)throw wa.create("no-options");const h=Zo.get(u);if(h){if(Xo(i,h.options)&&Xo(s,h.config))return h;throw wa.create("duplicate-app",{appName:u})}const d=new kT(u);for(const v of Kf.values())d.addComponent(v);const g=new x1(i,s,d);return Zo.set(u,g),g}function X_(r=Yf){const e=Zo.get(r);if(!e&&r===Yf&&k_())return K_();if(!e)throw wa.create("no-app",{appName:r});return e}function Ca(r,e,i){var s;let u=(s=N1[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Xl(new Es(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebase-heartbeat-database",L1=1,Zl="firebase-heartbeat-store";let zf=null;function Z_(){return zf||(zf=JT(U1,L1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),zf}async function z1(r){try{const i=(await Z_()).transaction(Zl),s=await i.objectStore(Zl).get($_(r));return await i.done,s}catch(e){if(e instanceof Ar)Gi.warn(e.message);else{const i=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(i.message)}}}async function Vy(r,e){try{const s=(await Z_()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,$_(r)),await s.done}catch(i){if(i instanceof Ar)Gi.warn(i.message);else{const s=wa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(s.message)}}}function $_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1024,k1=30;class B1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new q1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ny();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>k1){const d=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ny(),{heartbeatsToSend:s,unsentEntries:u}=j1(this._heartbeatsCache.heartbeats),h=Ko(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Gi.warn(i),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function j1(r,e=P1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Iy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Iy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?OT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await z1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Iy(r){return Ko(JSON.stringify({version:2,heartbeats:r})).length}function H1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){Xl(new Es("platform-logger",e=>new e1(e),"PRIVATE")),Xl(new Es("heartbeat",e=>new B1(e),"PRIVATE")),Ca(Ff,Cy,r),Ca(Ff,Cy,"esm2017"),Ca("fire-js","")}G1("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="type.googleapis.com/google.protobuf.Int64Value",F1="type.googleapis.com/google.protobuf.UInt64Value";function J_(r,e){const i={};for(const s in r)r.hasOwnProperty(s)&&(i[s]=e(r[s]));return i}function $o(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>$o(e));if(typeof r=="function"||typeof r=="object")return J_(r,e=>$o(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Ts(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case Q1:case F1:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Ts(e)):typeof r=="function"||typeof r=="object"?J_(r,e=>Ts(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mn extends Ar{constructor(e,i,s){super(`${pd}/${e}`,i||""),this.details=s,Object.setPrototypeOf(this,mn.prototype)}}function Y1(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Jo(r,e){let i=Y1(r),s=i,u;try{const h=e&&e.error;if(h){const d=h.status;if(typeof d=="string"){if(!Oy[d])return new mn("internal","internal");i=Oy[d],s=d}const g=h.message;typeof g=="string"&&(s=g),u=h.details,u!==void 0&&(u=Ts(u))}}catch{}return i==="ok"?null:new mn(i,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i,s,u){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Y_(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||i.get().then(h=>this.auth=h,()=>{}),this.messaging||s.get().then(h=>this.messaging=h,()=>{}),this.appCheck||u==null||u.get().then(h=>this.appCheck=h,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),s=await this.getMessagingToken(),u=await this.getAppCheckToken(e);return{authToken:i,messagingToken:s,appCheckToken:u}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="us-central1",X1=/^data: (.*?)(?:\n|$)/;function Z1(r){let e=null;return{promise:new Promise((i,s)=>{e=setTimeout(()=>{s(new mn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class $1{constructor(e,i,s,u,h=Xf,d=(...g)=>fetch(...g)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new K1(e,i,s,u),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(h);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=Xf}catch{this.customDomain=null,this.region=h}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function J1(r,e,i){const s=hc(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${i}`,s&&(B_(r.emulatorOrigin),j_("Functions",!0))}function W1(r,e,i){const s=u=>eA(r,e,u,{});return s.stream=(u,h)=>iA(r,e,u,h),s}async function tA(r,e,i,s){i["Content-Type"]="application/json";let u;try{u=await s(r,{method:"POST",body:JSON.stringify(e),headers:i})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function W_(r,e){const i={},s=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(i.Authorization="Bearer "+s.authToken),s.messagingToken&&(i["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=s.appCheckToken),i}function eA(r,e,i,s){const u=r._url(e);return nA(r,u,i,s)}async function nA(r,e,i,s){i=$o(i);const u={data:i},h=await W_(r,s),d=s.timeout||7e4,g=Z1(d),v=await Promise.race([tA(e,u,h,r.fetchImpl),g.promise,r.cancelAllRequests]);if(g.cancel(),!v)throw new mn("cancelled","Firebase Functions instance was deleted.");const _=Jo(v.status,v.json);if(_)throw _;if(!v.json)throw new mn("internal","Response is not valid JSON object.");let A=v.json.data;if(typeof A>"u"&&(A=v.json.result),typeof A>"u")throw new mn("internal","Response is missing data field.");return{data:Ts(A)}}function iA(r,e,i,s){const u=r._url(e);return aA(r,u,i,s||{})}async function aA(r,e,i,s){var u;i=$o(i);const h={data:i},d=await W_(r,s);d["Content-Type"]="application/json",d.Accept="text/event-stream";let g;try{g=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(h),headers:d,signal:s==null?void 0:s.signal})}catch(j){if(j instanceof Error&&j.name==="AbortError"){const et=new mn("cancelled","Request was cancelled.");return{data:Promise.reject(et),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(et)}}}}}}const X=Jo(0,null);return{data:Promise.reject(X),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(X)}}}}}}let v,_;const A=new Promise((j,X)=>{v=j,_=X});(u=s==null?void 0:s.signal)===null||u===void 0||u.addEventListener("abort",()=>{const j=new mn("cancelled","Request was cancelled.");_(j)});const C=g.body.getReader(),D=rA(C,v,_,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const j=D.getReader();return{async next(){const{value:X,done:et}=await j.read();return{value:X,done:et}},async return(){return await j.cancel(),{done:!0,value:void 0}}}}},data:A}}function rA(r,e,i,s){const u=(d,g)=>{const v=d.match(X1);if(!v)return;const _=v[1];try{const A=JSON.parse(_);if("result"in A){e(Ts(A.result));return}if("message"in A){g.enqueue(Ts(A.message));return}if("error"in A){const C=Jo(0,A);g.error(C),i(C);return}}catch(A){if(A instanceof mn){g.error(A),i(A);return}}},h=new TextDecoder;return new ReadableStream({start(d){let g="";return v();async function v(){if(s!=null&&s.aborted){const _=new mn("cancelled","Request was cancelled");return d.error(_),i(_),Promise.resolve()}try{const{value:_,done:A}=await r.read();if(A){g.trim()&&u(g.trim(),d),d.close();return}if(s!=null&&s.aborted){const D=new mn("cancelled","Request was cancelled");d.error(D),i(D),await r.cancel();return}g+=h.decode(_,{stream:!0});const C=g.split(`
`);g=C.pop()||"";for(const D of C)D.trim()&&u(D.trim(),d);return v()}catch(_){const A=_ instanceof mn?_:Jo(0,null);d.error(A),i(A)}}},cancel(){return r.cancel()}})}const xy="@firebase/functions",My="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="auth-internal",lA="app-check-internal",uA="messaging-internal";function oA(r){const e=(i,{instanceIdentifier:s})=>{const u=i.getProvider("app").getImmediate(),h=i.getProvider(sA),d=i.getProvider(uA),g=i.getProvider(lA);return new $1(u,h,d,g,s)};Xl(new Es(pd,e,"PUBLIC").setMultipleInstances(!0)),Ca(xy,My,r),Ca(xy,My,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r=X_(),e=Xf){const s=F_(gn(r),pd).getImmediate({identifier:e}),u=P_("functions");return u&&hA(s,...u),s}function hA(r,e,i){J1(gn(r),e,i)}function fA(r,e,i){return W1(gn(r),e)}oA();var dA="firebase",mA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca(dA,mA,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,tv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,x,U){for(var R=Array(arguments.length-2),be=2;be<arguments.length;be++)R[be-2]=arguments[be];return S.prototype[x].apply(I,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)I[x]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(x=0;16>x;++x)I[x]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],x=O.g[2];var U=O.g[3],R=S+(U^w&(x^U))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(x^S&(w^x))+I[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(w^U&(S^w))+I[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(S^x&(U^S))+I[3]+3250441966&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(U^w&(x^U))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(x^S&(w^x))+I[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(w^U&(S^w))+I[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(S^x&(U^S))+I[7]+4249261313&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(U^w&(x^U))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(x^S&(w^x))+I[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(w^U&(S^w))+I[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(S^x&(U^S))+I[11]+2304563134&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(U^w&(x^U))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(x^S&(w^x))+I[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(w^U&(S^w))+I[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=w+(S^x&(U^S))+I[15]+1236535329&4294967295,w=x+(R<<22&4294967295|R>>>10),R=S+(x^U&(w^x))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(S^w))+I[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(U^S))+I[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(x^U))+I[0]+3921069994&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(w^x))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(S^w))+I[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(U^S))+I[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(x^U))+I[4]+3889429448&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(w^x))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(S^w))+I[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(U^S))+I[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(x^U))+I[8]+1163531501&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(w^x))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^x&(S^w))+I[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^w&(U^S))+I[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(x^U))+I[12]+2368359562&4294967295,w=x+(R<<20&4294967295|R>>>12),R=S+(w^x^U)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^x)+I[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^w)+I[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^S)+I[14]+4259657740&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^U)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^x)+I[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^w)+I[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^S)+I[10]+3200236656&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^U)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^x)+I[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^w)+I[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^S)+I[6]+76029189&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(w^x^U)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^x)+I[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^w)+I[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=w+(x^U^S)+I[2]+3299628645&4294967295,w=x+(R<<23&4294967295|R>>>9),R=S+(x^(w|~U))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~x))+I[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~w))+I[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~S))+I[5]+4237533241&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~U))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~x))+I[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~w))+I[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~S))+I[1]+2240044497&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~U))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~x))+I[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~w))+I[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~S))+I[13]+1309151649&4294967295,w=x+(R<<21&4294967295|R>>>11),R=S+(x^(w|~U))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~x))+I[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~w))+I[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=w+(U^(x|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,x=this.h,U=0;U<S;){if(x==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(I[x++]=O.charCodeAt(U++),x==this.blockSize){u(this,I),x=0;break}}else for(;U<S;)if(I[x++]=O[U++],x==this.blockSize){u(this,I),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,x=O.length-1;0<=x;x--){var U=O[x]|0;I&&U==S||(w[x]=U,I=!1)}this.g=w}var g={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return J(_(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),I=C,x=0;x<O.length;x+=8){var U=Math.min(8,O.length-x),R=parseInt(O.substring(x,x+U),S);8>U?(U=_(Math.pow(S,U)),I=I.j(U).add(_(R))):(I=I.j(w),I=I.add(_(R)))}return I}var C=v(0),D=v(1),j=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(X(this))return"0";if(et(this))return"-"+J(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,I="";;){var x=Lt(w,S).g;w=wt(w,x.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=x,X(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function X(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function et(O){return O.h==-1}r.l=function(O){return O=wt(this,O),et(O)?-1:X(O)?0:1};function J(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(D)}r.abs=function(){return et(this)?J(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,x=0;x<=S;x++){var U=I+(this.i(x)&65535)+(O.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);I=R>>>16,U&=65535,R&=65535,w[x]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function wt(O,S){return O.add(J(S))}r.j=function(O){if(X(this)||X(O))return C;if(et(this))return et(O)?J(this).j(J(O)):J(J(this).j(O));if(et(O))return J(this.j(J(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<O.g.length;x++){var U=this.i(I)>>>16,R=this.i(I)&65535,be=O.i(x)>>>16,ie=O.i(x)&65535;w[2*I+2*x]+=R*ie,dt(w,2*I+2*x),w[2*I+2*x+1]+=U*ie,dt(w,2*I+2*x+1),w[2*I+2*x+1]+=R*be,dt(w,2*I+2*x+1),w[2*I+2*x+2]+=U*be,dt(w,2*I+2*x+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function dt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function Lt(O,S){if(X(S))throw Error("division by zero");if(X(O))return new gt(C,C);if(et(O))return S=Lt(J(O),S),new gt(J(S.g),J(S.h));if(et(S))return S=Lt(O,J(S)),new gt(J(S.g),S.h);if(30<O.g.length){if(et(O)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,I=S;0>=I.l(O);)w=Rt(w),I=Rt(I);var x=zt(w,1),U=zt(I,1);for(I=zt(I,2),w=zt(w,2);!X(I);){var R=U.add(I);0>=R.l(O)&&(x=x.add(w),U=R),I=zt(I,1),w=zt(w,1)}return S=wt(O,x.j(S)),new gt(x,S)}for(x=C;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=_(w),R=U.j(S);et(R)||0<R.l(O);)w-=I,U=_(w),R=U.j(S);X(U)&&(U=D),x=x.add(U),O=wt(O,R)}return new gt(x,O)}r.A=function(O){return Lt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function Rt(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function zt(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,x=[],U=0;U<I;U++)x[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Da=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,Bl,nv,qo,Zf,iv,av,rv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uo=="object"&&Uo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function D(o,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)tt[Pt-2]=arguments[Pt];return m.prototype[L].apply(T,tt)}}function et(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let tt=0;tt<q;tt++)o[L+tt]=T[tt]}else o.push(T)}}class wt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function gt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Lt(o){return Lt[" "](o),o}Lt[" "]=function(){};var Rt=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function x(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Ut;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new wt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,Ut=new be,V=()=>{const o=g.Promise.resolve(void 0);nt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Dt(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Rt){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dt.aa.h.call(this)}}X(Dt,W);var yt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),$=0;function Et(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++$,this.da=this.fa=!1}function _t(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ut(o){this.src=o,this.g={},this.h=0}ut.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var tt=Yt(o,m,T,L);return-1<tt?(m=o[tt],p||(m.fa=!1)):(m=new Et(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function st(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(_t(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Yt(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Xe={};function pn(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)pn(o,m[q],p,T,L);return null}return p=hu(p),o&&o[ye]?o.K(m,p,_(T)?!!T.capture:!1,L):_e(o,m,p,!1,T,L)}function _e(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Pt=yn(o);if(Pt||(o[ke]=Pt=new ut(o)),p=Pt.add(m,p,T,tt,q),p.proxy)return p;if(T=Yi(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ft||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Be(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Yi(){function o(p){return m.call(o.src,o.listener,p)}const m=Zn;return o}function un(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)un(o,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=hu(p),o&&o[ye]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Yt(q,p,T,L),-1<p&&(_t(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=yn(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Yt(m,p,T,L)),(p=-1<o?m[o]:null)&&Nn(p))}function Nn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ye])st(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Be(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=yn(m))?(st(p,o),p.h==0&&(p.src=null,m[ke]=null)):_t(o)}}}function Be(o){return o in Xe?Xe[o]:Xe[o]="on"+o}function Zn(o,m){if(o.da)o=!0;else{m=new Dt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Nn(o),o=p.call(T,m)}return o}function yn(o){return o=o[ke],o instanceof ut?o:null}var Ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(o){return typeof o=="function"?o:(o[Ki]||(o[Ki]=function(m){return o.handleEvent(m)}),o[Ki])}function ce(){it.call(this),this.i=new ut(this),this.M=this,this.F=null}X(ce,it),ce.prototype[ye]=!0,ce.prototype.removeEventListener=function(o,m,p,T){un(this,o,m,p,T)};function Kt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var L=m;m=new W(T,o),I(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];L=_n(tt,T,!0,m)&&L}if(tt=m.g=o,L=_n(tt,T,!0,m)&&L,L=_n(tt,T,!1,m)&&L,p)for(q=0;q<p.length;q++)tt=m.g=p[q],L=_n(tt,T,!1,m)&&L}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)_t(p[T]);delete o.g[m],o.h--}}this.F=null},ce.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ce.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function _n(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Pt=tt.listener,we=tt.ha||tt.src;tt.fa&&st(o.i,tt),L=Pt.call(we,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ze(o,m,p){if(typeof o=="function")p&&(o=D(o,p));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function fu(o){o.g=Ze(()=>{o.g=null,o.i&&(o.i=!1,fu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Vc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(o){it.call(this),this.h=o,this.g={}}X(ka,it);var Ba=[];function ja(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Nn(m)},o),o.g={}}ka.prototype.N=function(){ka.aa.N.call(this),ja(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=g.JSON.stringify,Rr=g.JSON.parse,qa=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function xs(){}xs.prototype.h=null;function Ms(o){return o.h||(o.h=o.i())}function Us(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){W.call(this,"d")}X(vi,W);function Ls(){W.call(this,"c")}X(Ls,W);var $n={},zs=null;function Xi(){return zs=zs||new ce}$n.La="serverreachability";function wr(o){W.call(this,$n.La,o)}X(wr,W);function Zi(o){const m=Xi();Kt(m,new wr(m))}$n.STAT_EVENT="statevent";function du(o,m){W.call(this,$n.STAT_EVENT,o),this.stat=m}X(du,W);function ae(o){const m=Xi();Kt(m,new du(m,o))}$n.Ma="timingevent";function Re(o,m){W.call(this,$n.Ma,o),this.size=m}X(Re,W);function ve(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Ps(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var tt="",Pt=q.split("&"),we=0;we<Pt.length;we++){var kt=Pt[we].split("=");if(1<kt.length){var Me=kt[0];kt=kt[1];var Ce=Me.split("_");tt=2<=Ce.length&&Ce[1]=="type"?tt+(Me+"="+kt+"&"):tt+(Me+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Nc(o,m,p,T,L,q,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+tt})}function $i(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ha(o,p)+(T?" "+T:"")})}function mu(o,m){o.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function Ha(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Hn(p)}catch{return m}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Wn(){}X(Wn,xs),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Jn=new Wn;function nn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var ks={},Cr={};function Gn(o,m,p){o.L=1,o.v=Ka(vn(m)),o.m=p,o.P=!0,Ti(o,null)}function Ti(o,m){o.F=Date.now(),Ga(o),o.A=vn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Qs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new de,o.g=Nu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Vc(D(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ba[0]=L.toString()),L=Ba);for(var q=0;q<L.length;q++){var tt=pn(p,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Zi(),Ps(o.i,o.u,o.A,o.l,o.R,o.m)}nn.prototype.ca=function(o){o=o.target;const m=this.M;m&&Un(o)==3?m.j():this.Y(o)},nn.prototype.Y=function(o){try{if(o==this.g)t:{const Ce=Un(this.g);var m=this.g.Ba();const Vi=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Ce!=4||m==7||(m==8||0>=Vi?Zi(3):Zi(2)),Wi(this);var p=this.g.Z();this.X=p;e:if(gu(this)){var T=Au(this.g);o="";var L=T.length,q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ti(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Nc(this.i,this.u,this.A,this.l,this.R,Ce,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,we=this.g;if((Pt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Pt)){var kt=Pt;break e}}kt=null}if(p=kt)$i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,p);else{this.o=!1,this.s=3,ae(12),je(this),ti(this);break t}}if(this.P){p=!0;let qe;for(;!this.J&&this.C<tt.length;)if(qe=pu(this,tt),qe==Cr){Ce==4&&(this.s=4,ae(14),p=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==ks){this.s=4,ae(15),$i(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else $i(this.i,this.l,qe,null),Qa(this,qe);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||tt.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)$i(this.i,this.l,tt,"[Invalid Chunked Response]"),je(this),ti(this);else if(0<tt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),nr(Me),Me.M=!0,ae(11))}}else $i(this.i,this.l,tt,null),Qa(this,tt);Ce==4&&je(this),this.o&&!this.J&&(Ce==4?Cu(this.j,this):(this.o=!1,Ga(this)))}else Uc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),je(this),ti(this)}}}catch{}finally{}};function gu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function pu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Cr:(p=Number(m.substring(p,T)),isNaN(p)?ks:(T+=1,T+p>m.length?Cr:(m=m.slice(T,T+p),o.C=T+p,m)))}nn.prototype.cancel=function(){this.J=!0,je(this)};function Ga(o){o.S=Date.now()+o.I,yu(o,o.I)}function yu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ve(D(o.ba,o),m)}function Wi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}nn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(mu(this.i,this.A),this.L!=2&&(Zi(),ae(17)),je(this),this.s=2,ti(this)):yu(this,this.S-o)};function ti(o){o.j.G==0||o.J||Cu(o.j,o)}function je(o){Wi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ja(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Qa(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Bs(p.h,o))){if(!o.K&&Bs(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)kr(p),zr(p);else break t;Zs(p),ae(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ve(D(p.Za,p),6e3));if(1>=Vr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Di(p,11)}else if((o.K||p.g==o)&&kr(p),!dt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let kt=L[m];if(p.T=kt[0],kt=kt[1],p.G==2)if(kt[0]=="c"){p.K=kt[1],p.ia=kt[2];const Me=kt[3];Me!=null&&(p.la=Me,p.j.info("VER="+p.la));const Ce=kt[4];Ce!=null&&(p.Aa=Ce,p.j.info("SVER="+p.Aa));const Vi=kt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(T=1.5*Vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qe=o.g;if(qe){const li=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var q=T.h;q.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Nr(q,q.h),q.h=null))}if(T.D){const Js=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,$t(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=o;if(T.qa=Vu(T,T.J?T.ia:null,T.W),tt.K){an(T.h,tt);var Pt=tt,we=T.L;we&&(Pt.I=we),Pt.B&&(Wi(Pt),Ga(Pt)),T.g=tt}else Ru(T);0<p.i.length&&Pr(p)}else kt[0]!="stop"&&kt[0]!="close"||Di(p,7);else p.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Di(p,7):Ks(p):kt[0]!="noop"&&p.l&&p.l.ta(kt),p.v=0)}}Zi(4)}catch{}}var _u=class{constructor(o,m){this.g=o,this.map=m}};function Ai(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Vr(o){return o.h?1:o.g?o.g.size:0}function Bs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Nr(o,m){o.g?o.g.add(m):o.h=m}function an(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function js(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return et(o.i)}function Ic(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Ir(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function qs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Ir(o),T=Ic(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ee(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ee){this.h=o.h,Ya(this,o.j),this.o=o.o,this.g=o.g,ta(this,o.s),this.l=o.l;var m=o.i,p=new bi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Si(this,p),this.m=o.m}else o&&(m=String(o).match(Fa))?(this.h=!1,Ya(this,m[1]||"",!0),this.o=On(m[2]||""),this.g=On(m[3]||"",!0),ta(this,m[4]),this.l=On(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=On(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Ee.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Xa(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Xa(m,Hs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Xa(p,p.charAt(0)=="/"?xc:Gs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Xa(p,Or)),o.join("")};function vn(o){return new Ee(o)}function Ya(o,m,p){o.j=p?On(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ta(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Si(o,m,p){m instanceof bi?(o.i=m,Eu(o.i,o.h)):(p||(m=Xa(m,Mc)),o.i=new bi(m,o.h))}function $t(o,m,p){o.i.set(m,p)}function Ka(o){return $t(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function On(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,xc=/[#\?]/g,Mc=/[#\?@]/g,Or=/#/g;function bi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function xn(o){o.g||(o.g=new Map,o.h=0,o.i&&Oc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=bi.prototype,r.add=function(o,m){xn(this),this.i=null,o=ei(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Ri(o,m){xn(o),m=ei(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function wi(o,m){return xn(o),m=ei(o,m),o.g.has(m)}r.forEach=function(o,m){xn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},r.na=function(){xn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},r.V=function(o){xn(this);let m=[];if(typeof o=="string")wi(this,o)&&(m=m.concat(this.g.get(ei(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},r.set=function(o,m){return xn(this),this.i=null,o=ei(this,o),wi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Qs(o,m,p){Ri(o,m),0<p.length&&(o.i=null,o.g.set(ei(o,m),et(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function ei(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Eu(o,m){m&&!o.j&&(xn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(Ri(this,T),Qs(this,L,p))},o)),o.j=m}function Za(o,m){const p=new In;if(g.Image){const T=new Image;T.onload=j(Mn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(Mn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(Mn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(Mn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Qn(o,m){const p=new In,T=new AbortController,L=setTimeout(()=>{T.abort(),Mn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Mn(p,"TestPingServer: ok",!0,m):Mn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Mn(p,"TestPingServer: error",!1,m)})}function Mn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function $a(){this.g=new qa}function ni(o,m,p){const T=p||"";try{qs(o,function(L,q){let tt=L;_(L)&&(tt=Hn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ea(o){this.l=o.Ub||null,this.j=o.eb||!1}X(ea,xs),ea.prototype.g=function(){return new Ci(this.l,this.j)},ea.prototype.i=function(o){return function(){return o}}({});function Ci(o,m){ce.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ci,ce),r=Ci.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,ai(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ii(this):ai(this),this.readyState==3&&Fs(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,ii(this))},r.Qa=function(o){this.g&&(this.response=o,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ai(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function ai(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ys(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function xe(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):$t(o,m,p))}function Qt(o){ce.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Qt,ce);var xr=/^https?$/i,Ja=["POST","PUT"];r=Qt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Ms(this.o):Ms(Jn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Tu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ja,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){Tu(this,q)}};function Tu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Mr(o),ri(o)}function Mr(o){o.A||(o.A=!0,Kt(o,"complete"),Kt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Kt(this,"complete"),Kt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ur(this):this.bb())},r.bb=function(){Ur(this)};function Ur(o){if(o.h&&typeof d<"u"&&(!o.v[1]||Un(o)!=4||o.Z()!=2)){if(o.u&&Un(o)==4)Ze(o.Ea,0,o);else if(Kt(o,"readystatechange"),Un(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(o.D).match(Fa)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!xr.test(L?L.toLowerCase():"")}p=T}if(p)Kt(o,"complete"),Kt(o,"success");else{o.m=6;try{var q=2<Un(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Mr(o)}}finally{ri(o)}}}}function ri(o,m){if(o.g){Wa(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Kt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Wa(o){o.I&&(g.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function Un(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Rr(m)}};function Au(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(o){const m={};o=(o.g&&2<=Un(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=x(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Lr(o){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,o),this.cb=tr("retryDelaySeedMs",1e4,o),this.Wa=tr("forwardChannelMaxRetries",2,o),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(o&&o.concurrentRequestLimit),this.Da=new $a,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Lr.prototype,r.la=8,r.G=1,r.connect=function(o,m,p,T){ae(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Vu(this,null,this.W),Pr(this)};function Ks(o){if(Su(o),o.G==3){var m=o.U++,p=vn(o.I);if($t(p,"SID",o.K),$t(p,"RID",m),$t(p,"TYPE","terminate"),er(o,p),m=new nn(o,o.j,m),m.L=2,m.v=Ka(vn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Nu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ga(m)}Du(o)}function zr(o){o.g&&(nr(o),o.g.cancel(),o.g=null)}function Su(o){zr(o),o.u&&(g.clearTimeout(o.u),o.u=null),kr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Pr(o){if(!Dr(o.h)&&!o.s){o.s=!0;var m=o.Ga;nt||V(),ht||(nt(),ht=!0),Ut.add(m,o),o.B=0}}function Lc(o,m){return Vr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ve(D(o.Ga,o,m),$s(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new nn(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),p=vn(this.I),$t(p,"RID",o),$t(p,"CVER",22),this.D&&$t(p,"X-HTTP-Session-Id",this.D),er(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ys(q)))+"&"+m:this.m&&xe(p,this.m,q)),Nr(this.h,L),this.Ua&&$t(p,"TYPE","init"),this.P?($t(p,"$req",m),$t(p,"SID","null"),L.T=!0,Gn(L,p,null)):Gn(L,p,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Dr(this.h)||Xs(this))};function Xs(o,m){var p;m?p=m.l:p=o.U++;const T=vn(o.I);$t(T,"SID",o.K),$t(T,"RID",p),$t(T,"AID",o.T),er(o,T),o.m&&o.o&&xe(T,o.m,o.o),p=new nn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=bu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Nr(o.h,p),Gn(p,T,m)}function er(o,m){o.H&&zt(o.H,function(p,T){$t(m,T,p)}),o.l&&qs({},function(p,T){$t(m,T,p)})}function bu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?D(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Pt=!0;for(let we=0;we<p;we++){let kt=L[we].g;const Me=L[we].map;if(kt-=q,0>kt)q=Math.max(0,L[we].g-100),Pt=!1;else try{ni(Me,tt,"req"+kt+"_")}catch{T&&T(Me)}}if(Pt){T=tt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Ru(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;nt||V(),ht||(nt(),ht=!0),Ut.add(m,o),o.v=0}}function Zs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ve(D(o.Fa,o),$s(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ve(D(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),zr(this),wu(this))};function nr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function wu(o){o.g=new nn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=vn(o.qa);$t(m,"RID","rpc"),$t(m,"SID",o.K),$t(m,"AID",o.T),$t(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&$t(m,"TO",o.ja),$t(m,"TYPE","xmlhttp"),er(o,m),o.m&&o.o&&xe(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Ka(vn(m)),p.m=null,p.P=!0,Ti(p,o)}r.Za=function(){this.C!=null&&(this.C=null,zr(this),Zs(this),ae(19))};function kr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Cu(o,m){var p=null;if(o.g==m){kr(o),nr(o),o.g=null;var T=2}else if(Bs(o.h,m))p=m.D,an(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Xi(),Kt(T,new Re(T,p)),Pr(o)}else Ru(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Lc(o,m)||T==2&&Zs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:Di(o,5);break;case 4:Di(o,10);break;case 3:Di(o,6);break;default:Di(o,2)}}}function $s(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function Di(o,m){if(o.j.info("Error code "+m),m==2){var p=D(o.fb,o),T=o.Xa;const L=!T;T=new Ee(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ya(T,"https"),Ka(T),L?Za(T.toString(),p):Qn(T.toString(),p)}else ae(2);o.G=0,o.l&&o.l.sa(m),Du(o),Su(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Du(o){if(o.G=0,o.ka=[],o.l){const m=js(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,et(o.i),o.i.length=0),o.l.ra()}}function Vu(o,m,p){var T=p instanceof Ee?vn(p):new Ee(p);if(T.g!="")m&&(T.g=m+"."+T.g),ta(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Ee(null);T&&Ya(q,T),m&&(q.g=m),L&&ta(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&$t(T,p,m),$t(T,"VER",o.la),er(o,T),T}function Nu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Qt(new ea({eb:p})):new Qt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Br(){}Br.prototype.g=function(o,m){return new rn(o,m)};function rn(o,m){ce.call(this),this.g=new Lr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new si(this)}X(rn,ce),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ks(this.g)},rn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Hn(o),o=p);m.i.push(new _u(m.Ya++,o)),m.G==3&&Pr(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,rn.aa.N.call(this)};function Ou(o){vi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Ou,vi);function xu(){Ls.call(this),this.status=1}X(xu,Ls);function si(o){this.g=o}X(si,Iu),si.prototype.ua=function(){Kt(this.g,"a")},si.prototype.ta=function(o){Kt(this.g,new Ou(o))},si.prototype.sa=function(o){Kt(this.g,new xu)},si.prototype.ra=function(){Kt(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,rv=function(){return new Br},av=function(){return Xi()},iv=$n,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,qo=Ji,Ei.COMPLETE="complete",nv=Ei,Us.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Bl=Us,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,ev=Qt}).apply(typeof Uo<"u"?Uo:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",zy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new H_("@firebase/firestore");function gs(){return Er.logLevel}function rt(r,...e){if(Er.logLevel<=qt.DEBUG){const i=e.map(yd);Er.debug(`Firestore (${Vs}): ${r}`,...i)}}function Qi(r,...e){if(Er.logLevel<=qt.ERROR){const i=e.map(yd);Er.error(`Firestore (${Vs}): ${r}`,...i)}}function As(r,...e){if(Er.logLevel<=qt.WARN){const i=e.map(yd);Er.warn(`Firestore (${Vs}): ${r}`,...i)}}function yd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,sv(r,s,i)}function sv(r,e,i){let s=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Qi(s),new Error(s)}function Ft(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||sv(e,u,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ar{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class pA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yA{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class _A{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new _A(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Y_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=TA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function $f(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Nt(s,u);{const h=uv(),d=AA(h.encode(ky(r,i)),h.encode(ky(e,i)));return d!==0?d:Nt(s,u)}}i+=s>65535?2:1}return Nt(r.length,e.length)}function ky(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function AA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Nt(r[i],e[i]);return Nt(r.length,e.length)}function Ss(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,jy=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*jy);return new Ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<By)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-By;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Ie(0,0))}static max(){return new St(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class di{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=di.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=di.isNumericId(e),u=di.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?di.extractNumericId(e).compare(di.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class le extends di{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new le(i)}static emptyPath(){return new le([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends di{construct(e,i,s){return new Ye(e,i,s)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new Ye([qy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(le.fromString(e))}static fromName(e){return new mt(le.fromString(e).popFirst(5))}static empty(){return new mt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function bA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=St.fromTimestamp(s===1e9?new Ie(i+1,0):new Ie(i,s));return new Na(u,mt.empty(),e)}function RA(r){return new Na(r.readTime,r.key,$l)}class Na{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Na(St.min(),mt.empty(),$l)}static max(){return new Na(St.max(),mt.empty(),$l)}}function wA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==CA)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>s(v))}),d=!0,h===u&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(u=>u?Y.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new Y((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function VA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function dc(r){return r==null}function Wo(r){return r===0&&1/r==-1/0}function NA(r){return typeof r=="number"&&Number.isInteger(r)&&!Wo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="";function IA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Hy(e)),e=OA(r.get(i),e);return Hy(e)}function OA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case cv:i+="";break;default:i+=h}}return i}function Hy(r){return r+cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function za(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function hv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=u??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Fe(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Fe.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Cn([])}unionWith(e){let i=new Oe(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Cn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new fv("Invalid base64 string: "+h):h}}(e);return new Ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=xA.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function vd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mv])===null||i===void 0?void 0:i.stringValue)===dv}function mc(r){const e=r.mapValue.fields[gv];return vd(e)?mc(e):e}function Jl(r){const e=Ia(r.mapValue.fields[pv].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,s,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",UA="__max__",zo={mapValue:{}},_v="__vector__",ec="value";function xa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vd(r)?4:zA(r)?9007199254740991:LA(r)?10:11:Tt(28295,{value:r})}function pi(r,e){if(r===e)return!0;const i=xa(r);if(i!==xa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ia(u.timestampValue),g=Ia(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,h){return Oa(u.bytesValue).isEqual(Oa(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,h){return pe(u.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(u.geoPointValue.longitude)===pe(h.geoPointValue.longitude)}(r,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return pe(u.integerValue)===pe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=pe(u.doubleValue),g=pe(h.doubleValue);return d===g?Wo(d)===Wo(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ss(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!pi(d[v],g[v])))return!1;return!0}(r,e);default:return Tt(52216,{left:r})}}function tu(r,e){return(r.values||[]).find(i=>pi(i,e))!==void 0}function bs(r,e){if(r===e)return 0;const i=xa(r),s=xa(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return Fy(r.timestampValue,e.timestampValue);case 4:return Fy(Jl(r),Jl(e));case 5:return $f(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Oa(h),v=Oa(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Nt(g[_],v[_]);if(A!==0)return A}return Nt(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(pe(h.latitude),pe(d.latitude));return g!==0?g:Nt(pe(h.longitude),pe(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const C=h.fields||{},D=d.fields||{},j=(g=C[ec])===null||g===void 0?void 0:g.arrayValue,X=(v=D[ec])===null||v===void 0?void 0:v.arrayValue,et=Nt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return et!==0?et:Yy(j,X)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===zo.mapValue&&d===zo.mapValue)return 0;if(h===zo.mapValue)return 1;if(d===zo.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const D=$f(v[C],A[C]);if(D!==0)return D;const j=bs(g[v[C]],_[A[C]]);if(j!==0)return j}return Nt(v.length,A.length)}(r.mapValue,e.mapValue);default:throw Tt(23264,{Pe:i})}}function Fy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Ia(r),s=Ia(e),u=Nt(i.seconds,s.seconds);return u!==0?u:Nt(i.nanos,s.nanos)}function Yy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=bs(i[u],s[u]);if(h)return h}return Nt(i.length,s.length)}function Rs(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Oa(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Jf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Jf(i.fields[d])}`;return u+"}"}(r.mapValue):Tt(61005,{value:r})}function Ho(r){switch(xa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+Ho(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Ho(h),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return za(s.fields,(h,d)=>{u+=h.length+Ho(d)}),u}(r.mapValue);default:throw Tt(13486,{value:r})}}function Wf(r){return!!r&&"integerValue"in r}function Ed(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Xy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Go(r){return!!r&&"mapValue"in r}function LA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[yv])===null||i===void 0?void 0:i.stringValue)===_v}function Ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return za(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(r.arrayValue.values[i]);return e}return Object.assign({},r)}function zA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Go(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=Ye.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Ql(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Go(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Go(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){za(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new dn(Ql(this.value))}}function vv(r){const e=[];return za(r.fields,(i,s)=>{const u=new Ye([i]);if(Go(s)){const h=vv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,St.min(),St.min(),St.min(),dn.empty(),0)}static newFoundDocument(e,i,s,u){return new en(e,1,i,St.min(),s,u,0)}static newNoDocument(e,i){return new en(e,2,i,St.min(),St.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,St.min(),St.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function $y(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!pi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function PA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class Ne extends Ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new BA(e,i,s):i==="array-contains"?new HA(e,s):i==="in"?new GA(e,s):i==="not-in"?new QA(e,s):i==="array-contains-any"?new FA(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new jA(e,s):new qA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bs(i,this.value)):i!==null&&xa(this.value)===xa(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends Ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new yi(e,i)}matches(e){return Tv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Tv(r){return r.op==="and"}function Av(r){return kA(r)&&Tv(r)}function kA(r){for(const e of r.filters)if(e instanceof yi)return!1;return!0}function td(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Rs(r.value);if(Av(r))return r.filters.map(e=>td(e)).join(",");{const e=r.filters.map(i=>td(i)).join(",");return`${r.op}(${e})`}}function Sv(r,e){return r instanceof Ne?function(s,u){return u instanceof Ne&&s.op===u.op&&s.field.isEqual(u.field)&&pi(s.value,u.value)}(r,e):r instanceof yi?function(s,u){return u instanceof yi&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&Sv(d,u.filters[g]),!0):!1}(r,e):void Tt(19439)}function bv(r){return r instanceof Ne?function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`}(r):r instanceof yi?function(i){return i.op.toString()+" {"+i.getFilters().map(bv).join(" ,")+"}"}(r):"Filter"}class BA extends Ne{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class jA extends Ne{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class qA extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Rv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>mt.fromName(s.referenceValue))}class HA extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&tu(i.arrayValue,this.value)}}class GA extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class QA extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class FA extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Jy(r,e=null,i=[],s=[],u=null,h=null,d=null){return new YA(r,e,i,s,u,h,d)}function Td(r){const e=bt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>td(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Rs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Rs(s)).join(",")),e.Ie=i}return e.Ie}function Ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Sv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$y(r.startAt,e.startAt)&&$y(r.endAt,e.endAt)}function ed(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KA(r,e,i,s,u,h,d,g){return new gc(r,e,i,s,u,h,d,g)}function pc(r){return new gc(r)}function Wy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XA(r){return r.collectionGroup!==null}function Fl(r){const e=bt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Oe(Ye.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new ic(h,s))}),i.has(Ye.keyField().canonicalString())||e.Ee.push(new ic(Ye.keyField(),s))}return e.Ee}function mi(r){const e=bt(r);return e.de||(e.de=ZA(e,Fl(r))),e.de}function ZA(r,e){if(r.limitType==="F")return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ic(u.field,h)});const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function nd(r,e,i){return new gc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yc(r,e){return Ad(mi(r),mi(e))&&r.limitType===e.limitType}function wv(r){return`${Td(mi(r))}|lt:${r.limitType}`}function ps(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>bv(u)).join(", ")}]`),dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Rs(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Rs(u)).join(",")),`Target(${s})`}(mi(r))}; limitType=${r.limitType})`}function _c(r,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,u){for(const h of Fl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,g,v){const _=Zy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Fl(s),u)||s.endAt&&!function(d,g,v){const _=Zy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Fl(s),u))}(r,e)}function $A(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Cv(r){return(e,i)=>{let s=!1;for(const u of Fl(r)){const h=JA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function JA(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?bs(v,_):Tt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new oe(mt.comparator);function Fi(){return WA}const Dv=new oe(mt.comparator);function jl(...r){let e=Dv;for(const i of r)e=e.insert(i.key,i);return e}function Vv(r){let e=Dv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function vr(){return Yl()}function Nv(){return Yl()}function Yl(){return new Sr(r=>r.toString(),(r,e)=>r.isEqual(e))}const tS=new oe(mt.comparator),eS=new Oe(mt.comparator);function Mt(...r){let e=eS;for(const i of r)e=e.add(i);return e}const nS=new Oe(Nt);function iS(){return nS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wo(e)?"-0":e}}function Iv(r){return{integerValue:""+r}}function Ov(r,e){return NA(e)?Iv(e):Sd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function aS(r,e,i){return r instanceof ac?function(u,h){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&vd(h)&&(h=mc(h)),h&&(d.fields[gv]=h),{mapValue:d}}(i,e):r instanceof eu?Mv(r,e):r instanceof nu?Uv(r,e):function(u,h){const d=xv(u,h),g=t_(d)+t_(u.Re);return Wf(d)&&Wf(u.Re)?Iv(g):Sd(u.serializer,g)}(r,e)}function rS(r,e,i){return r instanceof eu?Mv(r,e):r instanceof nu?Uv(r,e):i}function xv(r,e){return r instanceof iu?function(s){return Wf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ac extends vc{}class eu extends vc{constructor(e){super(),this.elements=e}}function Mv(r,e){const i=Lv(e);for(const s of r.elements)i.some(u=>pi(u,s))||i.push(s);return{arrayValue:{values:i}}}class nu extends vc{constructor(e){super(),this.elements=e}}function Uv(r,e){let i=Lv(e);for(const s of r.elements)i=i.filter(u=>!pi(u,s));return{arrayValue:{values:i}}}class iu extends vc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function t_(r){return pe(r.integerValue||r.doubleValue)}function Lv(r){return Ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i){this.field=e,this.transform=i}}function lS(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?Ss(s.elements,u.elements,pi):s instanceof iu&&u instanceof iu?pi(s.Re,u.Re):s instanceof ac&&u instanceof ac}(r.transform,e.transform)}class uS{constructor(e,i){this.version=e,this.transformResults=i}}class Dn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ec{}function zv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bd(r.key,Dn.none()):new au(r.key,r.data,Dn.none());{const i=r.data,s=dn.empty();let u=new Oe(Ye.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Pa(r.key,s,new Cn(u.toArray()),Dn.none())}}function oS(r,e,i){r instanceof au?function(u,h,d){const g=u.value.clone(),v=n_(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Pa?function(u,h,d){if(!Qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=n_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Pv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Kl(r,e,i,s){return r instanceof au?function(h,d,g,v){if(!Qo(h.precondition,d))return g;const _=h.value.clone(),A=i_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof Pa?function(h,d,g,v){if(!Qo(h.precondition,d))return g;const _=i_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Pv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(r,e,i,s):function(h,d,g){return Qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function cS(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=xv(s.transform,u||null);h!=null&&(i===null&&(i=dn.empty()),i.set(s.field,h))}return i||null}function e_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ss(s,u,(h,d)=>lS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Ec{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Pa extends Ec{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function n_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,rS(d,g,i[u]))}return s}function i_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,aS(h,d,e))}return s}class bd extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hS extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&oS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Nv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=zv(d,g);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(i,s)=>e_(i,s))&&Ss(this.baseMutations,e.baseMutations,(i,s)=>e_(i,s))}}class Rd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return tS}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Rd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,jt;function gS(r){switch(r){case Z.OK:return Tt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function kv(r){if(r===void 0)return Qi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Se.OK:return Z.OK;case Se.CANCELLED:return Z.CANCELLED;case Se.UNKNOWN:return Z.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Z.INTERNAL;case Se.UNAVAILABLE:return Z.UNAVAILABLE;case Se.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Se.NOT_FOUND:return Z.NOT_FOUND;case Se.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Se.ABORTED:return Z.ABORTED;case Se.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Se.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:r})}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Da([4294967295,4294967295],0);function a_(r){const e=uv().encode(r),i=new tv;return i.update(e),new Uint8Array(i.digest())}function r_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,s],0),new Da([u,h],0)]}class wd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=Da.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(Da.fromNumber(s)));return u.compare(pS)===1&&(u=new Da([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=a_(e),[s,u]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new wd(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=a_(e),[s,u]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(St.min(),u,new oe(Nt),Fi(),Mt())}}class ru{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ru(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class jv{constructor(e,i,s=Ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class s_{constructor(){this.Fe=0,this.Me=l_(),this.xe=Ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Mt(),i=Mt(),s=Mt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Tt(38017,{changeType:h})}}),new ru(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=l_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yS{constructor(e){this.ze=e,this.je=new Map,this.He=Fi(),this.Je=Po(),this.Ye=Po(),this.Ze=new oe(Nt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(ed(h))if(s===0){const d=new mt(h.path);this.tt(i,d,en.newNoDocument(d,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof fv)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new wd(d,u,h)}catch(v){return As(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&ed(g.target)){const v=new mt(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,en.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Mt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new Tc(e,i,this.Ze,this.He,s);return this.He=Fi(),this.Je=Po(),this.Ye=Po(),this.Ze=new oe(Nt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new s_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Oe(Nt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Oe(Nt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new s_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Po(){return new oe(mt.comparator)}function l_(){return new oe(mt.comparator)}const _S={asc:"ASCENDING",desc:"DESCENDING"},vS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ES={and:"AND",or:"OR"};class TS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function id(r,e){return r.useProto3Json||dc(e)?e:{value:e}}function rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AS(r,e){return rc(r,e.toTimestamp())}function gi(r){return Ft(!!r,49232),St.fromTimestamp(function(i){const s=Ia(i);return new Ie(s.seconds,s.nanos)}(r))}function Cd(r,e){return ad(r,e).canonicalString()}function ad(r,e){const i=function(u){return new le(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Hv(r){const e=le.fromString(r);return Ft(Kv(e),10190,{key:e.toString()}),e}function rd(r,e){return Cd(r.databaseId,e.path)}function Pf(r,e){const i=Hv(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Qv(i))}function Gv(r,e){return Cd(r.databaseId,e)}function SS(r){const e=Hv(r);return e.length===4?le.emptyPath():Qv(e)}function sd(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,i){return{name:rd(r,e),fields:i.value.mapValue.fields}}function bS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:kv(_.code);return new ot(A,_.message||"")}(d);i=new jv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Pf(r,s.document.name),h=gi(s.document.updateTime),d=s.document.createTime?gi(s.document.createTime):St.min(),g=new dn({mapValue:{fields:s.document.fields}}),v=en.newFoundDocument(u,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Fo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Pf(r,s.document),h=s.readTime?gi(s.readTime):St.min(),d=en.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Fo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Pf(r,s.document),h=s.removedTargetIds||[];i=new Fo([],h,u,null)}else{if(!("filter"in e))return Tt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new mS(u,h),g=s.targetId;i=new Bv(g,d)}}return i}function RS(r,e){let i;if(e instanceof au)i={update:u_(r,e.key,e.value)};else if(e instanceof bd)i={delete:rd(r,e.key)};else if(e instanceof Pa)i={update:u_(r,e.key,e.data),updateMask:MS(e.fieldMask)};else{if(!(e instanceof hS))return Tt(16599,{ft:e.type});i={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Tt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:AS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Tt(27497)}(r,e.precondition)),i}function wS(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map(i=>function(u,h){let d=u.updateTime?gi(u.updateTime):gi(h);return d.isEqual(St.min())&&(d=gi(h)),new uS(d,u.transformResults||[])}(i,e))):[]}function CS(r,e){return{documents:[Gv(r,e.path)]}}function DS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Gv(r,u);const h=function(_){if(_.length!==0)return Yv(yi.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:ys(D.field),direction:IS(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=id(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function VS(r){let e=SS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const D=Fv(C);return D instanceof yi&&Av(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(X){return new ic(_s(X.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,dc(D)?null:D}(i.limit));let v=null;i.startAt&&(v=function(C){const D=!!C.before,j=C.values||[];return new nc(j,D)}(i.startAt));let _=null;return i.endAt&&(_=function(C){const D=!C.before,j=C.values||[];return new nc(j,D)}(i.endAt)),KA(e,u,d,h,g,"F",v,_)}function NS(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Fv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=_s(i.unaryFilter.field);return Ne.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ne.create(_s(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return yi.create(i.compositeFilter.filters.map(s=>Fv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(r):Tt(30097,{filter:r})}function IS(r){return _S[r]}function OS(r){return vS[r]}function xS(r){return ES[r]}function ys(r){return{fieldPath:r.canonicalString()}}function _s(r){return Ye.fromServerFormat(r.fieldPath)}function Yv(r){return r instanceof Ne?function(i){if(i.op==="=="){if(Xy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:OS(i.op),value:i.value}}}(r):r instanceof yi?function(i){const s=i.getFilters().map(u=>Yv(u));return s.length===1?s[0]:{compositeFilter:{op:xS(i.op),filters:s}}}(r):Tt(54877,{filter:r})}function MS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Kv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i,s,u,h=St.min(),d=St.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.wt=e}}function LS(r){const e=VS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Cn=new PS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Na.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class PS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Oe(le.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Oe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xv=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Xv,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ws(0)}static lr(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",kS=1048576;function h_([r,e],[i,s]){const u=Nt(r,i);return u===0?Nt(e,s):u}class BS{constructor(e){this.Er=e,this.buffer=new Oe(h_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt(c_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?rt(c_,"Ignoring IndexedDB error during garbage collection: ",i):await Ns(i)}await this.mr(3e5)})}}class qS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(fc.le);const s=new BS(i);return this.gr.forEachTarget(e,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(o_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),gs()<=qt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function HS(r,e){return new qS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.changes=new Sr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Kl(s.mutation,u,Cn.empty(),Ie.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Mt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Mt()){const u=vr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=jl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=vr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Mt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Fi();const d=Yl(),g=function(){return Yl()}();return i.forEach((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Pa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),Ie.now())):d.set(_.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var C;return g.set(_,new QS(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Yl();let u=new oe((d,g)=>d-g),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Cn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const C=(u.get(g.batchId)||Mt()).add(v);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=Nv();A.forEach(D=>{if(!h.has(D)){const j=zv(i.get(D),s.get(D));j!==null&&C.set(D,j),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):XA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Y.resolve(vr());let g=$l,v=h;return d.next(_=>Y.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{v=v.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Mt())).next(A=>({batchId:g,changes:Vv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(s=>{let u=jl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,v=>{const _=function(C,D){return new gc(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))});let g=jl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,Cn.empty(),Ie.now()),_c(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Y.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:gi(u.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:LS(u.bundledQuery),readTime:gi(u.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.overlays=new oe(mt.comparator),this.Qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=vr();return Y.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.bt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Qr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const u=vr(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new oe((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=vr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=vr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return Y.resolve(g)}bt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dS(i,s));let h=this.Qr.get(i);h===void 0&&(h=Mt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.$r=new Oe(Pe.Ur),this.Kr=new Oe(Pe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Pe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Pe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new mt(new le([])),s=new Pe(i,e),u=new Pe(i,e+1),h=[];return this.Kr.forEachInRange([s,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new mt(new le([])),s=new Pe(i,e),u=new Pe(i,e+1);let h=Mt();return this.Kr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Pe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Pe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return mt.comparator(e.key,i.key)||Nt(e.Zr,i.Zr)}static Wr(e,i){return Nt(e.Zr,i.Zr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Oe(Pe.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fS(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Pe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ti(s),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_d:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Pe(i,0),u=new Pe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],d=>{const g=this.ei(d.Zr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(Nt);return i.forEach(u=>{const h=new Pe(u,0),d=new Pe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Pe(new mt(h),0);let g=new Oe(Nt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Zr)),!0)},d),Y.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const u=this.ei(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ft(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(i.mutations,u=>{const h=new Pe(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Pe(i,0),u=this.Xr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.ii=e,this.docs=function(){return new oe(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let s=Fi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():en.newInvalidDocument(u))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Fi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||wA(RA(A),s)<=0||(u.has(A.key)||_c(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,u){Tt(9500)}si(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new JS(this)}getSize(e){return Y.resolve(this.size)}}class JS extends GS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.persistence=e,this.oi=new Sr(i=>Td(i),Ad),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Dd,this.targetCount=0,this.ui=ws.cr()}forEachTarget(e,i){return this.oi.forEach((s,u)=>i(u)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Y.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ws(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Tr(i),Y.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Y.waitFor(h).next(()=>u)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.ci={},this.overlays={},this.li=new fc(0),this.hi=!1,this.hi=!0,this.Pi=new XS,this.referenceDelegate=e(this),this.Ti=new WS(this),this.indexManager=new zS,this.remoteDocumentCache=function(u){return new $S(u)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new US(i),this.Ei=new YS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new ZS(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const u=new tb(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class tb extends DA{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Vi=new Dd,this.mi=null}static fi(e){return new Vd(e)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const u=mt.fromPath(s);return this.pi(e,u).next(h=>{h||i.removeEntry(u,St.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Y.or([()=>Y.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class sc{constructor(e,i){this.persistence=e,this.yi=new Sr(s=>IA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=HS(this,i)}static fi(e,i){return new sc(e,i)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return Y.forEach(this.yi,(s,u)=>this.Dr(e,s,u).next(h=>h?Y.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ho(e.data.value)),i}Dr(e,i,s){return Y.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return Y.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ds=s,this.As=u}static Rs(e,i){let s=Mt(),u=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Nd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NT()?8:VA(DT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new eb;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,u){return s.documentReadCount<this.gs?(gs()<=qt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(gs()<=qt.DEBUG&&rt("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(gs()<=qt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(i))):Y.resolve())}ws(e,i){if(Wy(i))return Y.resolve(null);let s=mi(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=nd(i,null,"F"),s=mi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Mt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,nd(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,s,u){return Wy(i)||u.isEqual(St.min())?Y.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,u)?Y.resolve(null):(gs()<=qt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(i)),this.Fs(e,d,i,bA(u,$l)).next(g=>g))})}vs(e,i){let s=new Oe(Cv(e));return i.forEach((u,h)=>{_c(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,s){return gs()<=qt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ys.getDocumentsMatchingQuery(e,i,Na.min(),s)}Fs(e,i,s,u){return this.ys.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="LocalStore",ib=3e8;class ab{constructor(e,i,s,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new oe(Nt),this.Os=new Sr(h=>Td(h),Ad),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function rb(r,e,i,s){return new ab(r,e,i,s)}async function $v(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Mt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function sb(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const C=_.batch,D=C.keys();let j=Y.resolve();return D.forEach(X=>{j=j.next(()=>A.getEntry(v,X)).next(et=>{const J=_.docVersions.get(X);Ft(J!==null,48541),et.version.compareTo(J)<0&&(C.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,C))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Jv(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function lb(r,e){const i=bt(r),s=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const D=u.get(C);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let j=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),u=u.insert(C,j),function(et,J,wt){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=ib?!0:wt.addedDocuments.size+wt.modifiedDocuments.size+wt.removedDocuments.size>0}(D,j,A)&&g.push(i.Ti.updateTargetData(h,j))});let v=Fi(),_=Mt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(ub(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(St.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function ub(r,e,i){let s=Mt(),u=Mt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Fi();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):rt(Id,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function ob(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cb(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,e).next(h=>h?(u=h,Y.resolve(u)):i.Ti.allocateTargetId(s).next(d=>(u=new ba(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function ld(r,e,i){const s=bt(r),u=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Is(d))throw d;rt(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(u.target)}function f_(r,e,i){const s=bt(r);let u=St.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const C=bt(v),D=C.Os.get(A);return D!==void 0?Y.resolve(C.xs.get(D)):C.Ti.getTargetData(_,A)}(s,d,mi(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?u:St.min(),i?h:Mt())).next(g=>(hb(s,$A(e),g),{documents:g,$s:h})))}function hb(r,e,i){let s=r.Ns.get(e)||St.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class d_{constructor(){this.activeTargetIds=iS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fb{constructor(){this.xo=new d_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=null;function ud(){return ko===null?ko=function(){return 268435456+Math.round(2147483648*Math.random())}():ko++,"0x"+ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",mb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gb{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(e,i,s,u,h){const d=ud(),g=this.jo(e,i.toUriEncodedString());rt(kf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(g),A=hc(_);return this.Jo(e,g,v,s,A).then(C=>(rt(kf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw As(kf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Yo(e,i,s,u,h,d){return this.zo(e,i,s,u,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const s=mb[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class yb extends gb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ud();return new Promise((g,v)=>{const _=new ev;_.setWithCredentials(!0),_.listenOnce(nv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case qo.NO_ERROR:const C=_.getResponseJson();rt(We,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case qo.TIMEOUT:rt(We,`RPC '${e}' ${d} timed out`),v(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case qo.HTTP_ERROR:const D=_.getStatus();if(rt(We,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j==null?void 0:j.error;if(X&&X.status&&X.message){const et=function(wt){const dt=wt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN}(X.status);v(new ot(et,X.message))}else v(new ot(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(We,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);rt(We,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)})}T_(e,i,s){const u=ud(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rv(),g=av(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(We,`Creating RPC '${e}' stream ${u}: ${A}`,v);const C=d.createWebChannel(A,v);let D=!1,j=!1;const X=new pb({Zo:J=>{j?rt(We,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(D||(rt(We,`Opening RPC '${e}' stream ${u} transport.`),C.open(),D=!0),rt(We,`RPC '${e}' stream ${u} sending:`,J),C.send(J))},Xo:()=>C.close()}),et=(J,wt,dt)=>{J.listen(wt,gt=>{try{dt(gt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return et(C,Bl.EventType.OPEN,()=>{j||(rt(We,`RPC '${e}' stream ${u} transport opened.`),X.__())}),et(C,Bl.EventType.CLOSE,()=>{j||(j=!0,rt(We,`RPC '${e}' stream ${u} transport closed`),X.u_())}),et(C,Bl.EventType.ERROR,J=>{j||(j=!0,As(We,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),X.u_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))}),et(C,Bl.EventType.MESSAGE,J=>{var wt;if(!j){const dt=J.data[0];Ft(!!dt,16349);const gt=dt,Lt=(gt==null?void 0:gt.error)||((wt=gt[0])===null||wt===void 0?void 0:wt.error);if(Lt){rt(We,`RPC '${e}' stream ${u} received error:`,Lt);const Rt=Lt.status;let zt=function(w){const I=Se[w];if(I!==void 0)return kv(I)}(Rt),O=Lt.message;zt===void 0&&(zt=Z.INTERNAL,O="Unknown error status: "+Rt+" with message "+Lt.message),j=!0,X.u_(new ot(zt,O)),C.close()}else rt(We,`RPC '${e}' stream ${u} received:`,dt),X.c_(dt)}}),et(g,iv.STAT_EVENT,J=>{J.stat===Zf.PROXY?rt(We,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Zf.NOPROXY&&rt(We,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new TS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class t0{constructor(e,i,s,u,h,d,g,v){this.xi=e,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Wv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{e(()=>{const u=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return rt(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(rt(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _b extends t0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=bS(this.serializer,e),s=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?gi(d.readTime):St.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=sd(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=ed(v)?{documents:CS(h,v)}:{query:DS(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qv(h,d.resumeToken);const _=id(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=rc(h,d.snapshotVersion.toTimestamp());const _=id(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=NS(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.L_(i)}}class vb extends t0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=wS(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=sd(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>RS(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class Tb extends Eb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,ad(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(Z.UNKNOWN,h.toString())})}Yo(e,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,ad(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ab{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qi(i),this.oa=!1):rt("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="RemoteStore";class Sb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{br(this)&&(rt(Tr,"Restarting streams for network reachability change."),await async function(v){const _=bt(v);_.Ta.add(4),await su(_),_.da.set("Unknown"),_.Ta.delete(4),await Sc(_)}(this))})}),this.da=new Ab(s,u)}}async function Sc(r){if(br(r))for(const e of r.Ia)await e(!0)}async function su(r){for(const e of r.Ia)await e(!1)}function e0(r,e){const i=bt(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Ud(i)?Md(i):Os(i).M_()&&xd(i,e))}function Od(r,e){const i=bt(r),s=Os(i);i.Pa.delete(e),s.M_()&&n0(i,e),i.Pa.size===0&&(s.M_()?s.N_():br(i)&&i.da.set("Unknown"))}function xd(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(r).H_(e)}function n0(r,e){r.Aa.Ke(e),Os(r).J_(e)}function Md(r){r.Aa=new yS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Os(r).start(),r.da._a()}function Ud(r){return br(r)&&!Os(r).F_()&&r.Pa.size>0}function br(r){return bt(r).Ta.size===0}function i0(r){r.Aa=void 0}async function bb(r){r.da.set("Online")}async function Rb(r){r.Pa.forEach((e,i)=>{xd(r,e)})}async function wb(r,e){i0(r),Ud(r)?(r.da.ca(e),Md(r)):r.da.set("Unknown")}async function Cb(r,e,i){if(r.da.set("Online"),e instanceof jv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Pa.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Pa.delete(g),u.Aa.removeTarget(g))}(r,e)}catch(s){rt(Tr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(r,s)}else if(e instanceof Fo?r.Aa.Xe(e):e instanceof Bv?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(St.min()))try{const s=await Jv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(h,v);const C=new ba(A.target,v,_,A.sequenceNumber);xd(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){rt(Tr,"Failed to raise snapshot:",s),await lc(r,s)}}async function lc(r,e,i){if(!Is(e))throw e;r.Ta.add(1),await su(r),r.da.set("Offline"),i||(i=()=>Jv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(Tr,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await Sc(r)})}function a0(r,e){return e().catch(i=>lc(r,i,e))}async function bc(r){const e=bt(r),i=Ma(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:_d;for(;Db(e);)try{const u=await ob(e.localStore,s);if(u===null){e.ha.length===0&&i.N_();break}s=u.batchId,Vb(e,u)}catch(u){await lc(e,u)}r0(e)&&s0(e)}function Db(r){return br(r)&&r.ha.length<10}function Vb(r,e){r.ha.push(e);const i=Ma(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function r0(r){return br(r)&&!Ma(r).F_()&&r.ha.length>0}function s0(r){Ma(r).start()}async function Nb(r){Ma(r).ta()}async function Ib(r){const e=Ma(r);for(const i of r.ha)e.Z_(i.mutations)}async function Ob(r,e,i){const s=r.ha.shift(),u=Rd.from(s,e,i);await a0(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await bc(r)}async function xb(r,e){e&&Ma(r).Y_&&await async function(s,u){if(function(d){return gS(d)&&d!==Z.ABORTED}(u.code)){const h=s.ha.shift();Ma(s).O_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await bc(s)}}(r,e),r0(r)&&s0(r)}async function y_(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),rt(Tr,"RemoteStore received new credentials");const s=br(i);i.Ta.add(3),await su(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await Sc(i)}async function Mb(r,e){const i=bt(r);e?(i.Ta.delete(2),await Sc(i)):e||(i.Ta.add(2),await su(i),i.da.set("Unknown"))}function Os(r){return r.Ra||(r.Ra=function(i,s,u){const h=bt(i);return h.ra(),new _b(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:bb.bind(null,r),n_:Rb.bind(null,r),i_:wb.bind(null,r),j_:Cb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Ud(r)?Md(r):r.da.set("Unknown")):(await r.Ra.stop(),i0(r))})),r.Ra}function Ma(r){return r.Va||(r.Va=function(i,s,u){const h=bt(i);return h.ra(),new vb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Nb.bind(null,r),i_:xb.bind(null,r),X_:Ib.bind(null,r),ea:Ob.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await bc(r)):(await r.Va.stop(),r.ha.length>0&&(rt(Tr,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Ld(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),Is(r))return new ot(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=jl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ma=new oe(mt.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):Tt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class Cs{constructor(e,i,s,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Cs(e,i,vs.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Lb{constructor(){this.queries=v_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const u=bt(i),h=u.queries;u.queries=v_(),h.forEach((d,g)=>{for(const v of g.ya)v.onError(s)})})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function v_(){return new Sr(r=>wv(r),yc)}async function Pd(r,e){const i=bt(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(s=2):(h=new Ub,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=zd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Bd(i)}async function kd(r,e){const i=bt(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function zb(r,e){const i=bt(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(u)&&(s=!0);d.pa=u}}s&&Bd(i)}function Pb(r,e,i){const s=bt(r),u=s.queries.get(e);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(e)}function Bd(r){r.ba.forEach(e=>{e.next()})}var od,E_;(E_=od||(od={})).Ca="default",E_.Cache="cache";class jd{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Cs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class kb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Mt(),this.mutatedKeys=Mt(),this.Ha=Cv(e),this.Ja=new vs(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new __,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,C)=>{const D=u.get(A),j=_c(this.query,C)?C:null,X=!!D&&this.mutatedKeys.has(D.key),et=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;D&&j?D.data.isEqual(j.data)?X!==et&&(s.track({type:3,doc:j}),J=!0):this.eu(D,j)||(s.track({type:2,doc:j}),J=!0,(v&&this.Ha(j,v)>0||_&&this.Ha(j,_)<0)&&(g=!0)):!D&&j?(s.track({type:0,doc:j}),J=!0):D&&!j&&(s.track({type:1,doc:D}),J=!0,(v||_)&&(g=!0)),J&&(j?(d=d.add(j),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,C)=>function(j,X){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:J})}};return et(j)-et(X)}(A.type,C.type)||this.Ha(A.doc,C.doc)),this.tu(s),u=u!=null&&u;const g=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new Cs(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Mt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new u0(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new l0(s))}),i}su(e){this.Ga=e.$s,this.ja=Mt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return Cs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const qd="SyncEngine";class Bb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class jb{constructor(e){this.key=e,this._u=!1}}class qb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Sr(g=>wv(g),yc),this.cu=new Map,this.lu=new Set,this.hu=new oe(mt.comparator),this.Pu=new Map,this.Tu=new Dd,this.Iu={},this.Eu=new Map,this.du=ws.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Hb(r,e,i=!0){const s=m0(r);let u;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await o0(s,e,i,!0),u}async function Gb(r,e){const i=m0(r);await o0(i,e,!0,!1)}async function o0(r,e,i,s){const u=await cb(r.localStore,mi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Qb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&e0(r.remoteStore,u),g}async function Qb(r,e,i,s,u){r.Ru=(C,D,j)=>async function(et,J,wt,dt){let gt=J.view.Za(wt);gt.Cs&&(gt=await f_(et.localStore,J.query,!1).then(({documents:O})=>J.view.Za(O,gt)));const Lt=dt&&dt.targetChanges.get(J.targetId),Rt=dt&&dt.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(gt,et.isPrimaryClient,Lt,Rt);return A_(et,J.targetId,zt.ru),zt.snapshot}(r,C,D,j);const h=await f_(r.localStore,e,!0),d=new kb(e,h.$s),g=d.Za(h.documents),v=ru.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(g,r.isPrimaryClient,v);A_(r,i,_.ru);const A=new Bb(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),_.snapshot}async function Fb(r,e,i){const s=bt(r),u=s.uu.get(e),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(d=>!yc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ld(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Od(s.remoteStore,u.targetId),cd(s,u.targetId)}).catch(Ns)):(cd(s,u.targetId),await ld(s.localStore,u.targetId,!0))}async function Yb(r,e){const i=bt(r),s=i.uu.get(e),u=i.cu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Od(i.remoteStore,s.targetId))}async function Kb(r,e,i){const s=e2(r);try{const u=await function(d,g){const v=bt(d),_=Ie.now(),A=g.reduce((j,X)=>j.add(X.key),Mt());let C,D;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Fi(),et=Mt();return v.Bs.getEntries(j,A).next(J=>{X=J,X.forEach((wt,dt)=>{dt.isValidDocument()||(et=et.add(wt))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,X)).next(J=>{C=J;const wt=[];for(const dt of g){const gt=cS(dt,C.get(dt.key).overlayedDocument);gt!=null&&wt.push(new Pa(dt.key,gt,vv(gt.value.mapValue),Dn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,wt,g)}).next(J=>{D=J;const wt=J.applyToLocalDocumentSet(C,et);return v.documentOverlayCache.saveOverlays(j,J.batchId,wt)})}).then(()=>({batchId:D.batchId,changes:Vv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(g,v),d.Iu[d.currentUser.toKey()]=_}(s,u.batchId,i),await lu(s,u.changes),await bc(s.remoteStore)}catch(u){const h=zd(u,"Failed to persist write");i.reject(h)}}async function c0(r,e){const i=bt(r);try{const s=await lb(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?Ft(d._u,14607):u.removedDocuments.size>0&&(Ft(d._u,42227),d._u=!1))}),await lu(i,s,e)}catch(s){await Ns(s)}}function T_(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=bt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,C)=>{for(const D of C.ya)D.Da(g)&&(_=!0)}),_&&Bd(v)}(s.eventManager,e),u.length&&s.au.j_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Xb(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Pu.get(e),h=u&&u.key;if(h){let d=new oe(mt.comparator);d=d.insert(h,en.newNoDocument(h,St.min()));const g=Mt().add(h),v=new Tc(St.min(),new Map,new oe(Nt),d,g);await c0(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),Hd(s)}else await ld(s.localStore,e,!1).then(()=>cd(s,e,i)).catch(Ns)}async function Zb(r,e){const i=bt(r),s=e.batch.batchId;try{const u=await sb(i.localStore,e);f0(i,s,null),h0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lu(i,u)}catch(u){await Ns(u)}}async function $b(r,e,i){const s=bt(r);try{const u=await function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(C=>(Ft(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);f0(s,e,i),h0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lu(s,u)}catch(u){await Ns(u)}}function h0(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function f0(r,e,i){const s=bt(r);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Iu[s.currentUser.toKey()]=u}}function cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||d0(r,s)})}function d0(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(Od(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),Hd(r))}function A_(r,e,i){for(const s of i)s instanceof l0?(r.Tu.addReference(s.key,e),Jb(r,s)):s instanceof u0?(rt(qd,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||d0(r,s.key)):Tt(19791,{mu:s})}function Jb(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(rt(qd,"New document in limbo: "+i),r.lu.add(s),Hd(r))}function Hd(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new mt(le.fromString(e)),s=r.du.next();r.Pu.set(s,new jb(i)),r.hu=r.hu.insert(i,s),e0(r.remoteStore,new ba(mi(pc(i.path)),s,"TargetPurposeLimboResolution",fc.le))}}async function lu(r,e,i){const s=bt(r),u=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,v)=>{d.push(s.Ru(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){u.push(_);const C=Nd.Rs(v.targetId,_);h.push(C)}}))}),await Promise.all(d),s.au.j_(u),await async function(v,_){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(_,D=>Y.forEach(D.ds,j=>A.persistence.referenceDelegate.addReference(C,D.targetId,j)).next(()=>Y.forEach(D.As,j=>A.persistence.referenceDelegate.removeReference(C,D.targetId,j)))))}catch(C){if(!Is(C))throw C;rt(Id,"Failed to update sequence numbers: "+C)}for(const C of _){const D=C.targetId;if(!C.fromCache){const j=A.xs.get(D),X=j.snapshotVersion,et=j.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(D,et)}}}(s.localStore,h))}async function Wb(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){rt(qd,"User change. New user:",e.toKey());const s=await $v(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(v=>{v.reject(new ot(Z.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(i,s.ks)}}function t2(r,e){const i=bt(r),s=i.Pu.get(e);if(s&&s._u)return Mt().add(s.key);{let u=Mt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const g=i.uu.get(d);u=u.unionWith(g.view.Ya)}return u}}function m0(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xb.bind(null,e),e.au.j_=zb.bind(null,e.eventManager),e.au.Vu=Pb.bind(null,e.eventManager),e}function e2(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$b.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return rb(this.persistence,new nb,e.initialUser,this.serializer)}yu(e){return new Zv(Vd.fi,this.serializer)}pu(e){return new fb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class n2 extends uc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){Ft(this.persistence.referenceDelegate instanceof sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jS(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Zv(s=>sc.fi(s,i),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wb.bind(null,this.syncEngine),await Mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lb}()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=function(h){return new yb(h)}(e.databaseInfo);return function(h,d,g,v){return new Tb(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new Sb(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>T_(this.syncEngine,i,0),function(){return g_.C()?new g_:new db}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const C=new qb(u,h,d,g,v,_);return A&&(C.Au=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=bt(u);rt(Tr,"RemoteStore shutting down."),h.Ta.add(5),await su(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class i2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=tn.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=zd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jf(r,e){r.asyncQueue.verifyOperationInProgress(),rt(Ua,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await $v(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function S_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await a2(r);rt(Ua,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>y_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>y_(e.remoteStore,u)),r._onlineComponents=e}async function a2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Ua,"Using user provided OfflineComponentProvider");try{await jf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;As("Error using user provided cache. Falling back to memory cache: "+i),await jf(r,new uc)}}else rt(Ua,"Using default OfflineComponentProvider"),await jf(r,new n2(void 0));return r._offlineComponents}async function g0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Ua,"Using user provided OnlineComponentProvider"),await S_(r,r._uninitializedComponentsProvider._online)):(rt(Ua,"Using default OnlineComponentProvider"),await S_(r,new hd))),r._onlineComponents}function r2(r){return g0(r).then(e=>e.syncEngine)}async function oc(r){const e=await g0(r),i=e.eventManager;return i.onListen=Hb.bind(null,e.syncEngine),i.onUnlisten=Fb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Gb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Yb.bind(null,e.syncEngine),i}function s2(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Gd({next:D=>{A.Cu(),d.enqueueAndForget(()=>kd(h,C));const j=D.docs.has(g);!j&&D.fromCache?_.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&D.fromCache&&v&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new jd(pc(g.path),A,{includeMetadataChanges:!0,La:!0});return Pd(h,C)}(await oc(r),r.asyncQueue,e,i,s)),s.promise}function l2(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Gd({next:D=>{A.Cu(),d.enqueueAndForget(()=>kd(h,C)),D.fromCache&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),C=new jd(g,A,{includeMetadataChanges:!0,La:!0});return Pd(h,C)}(await oc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r,e,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function u2(r,e,i,s){if(e===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R_(r){if(!mt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w_(r){if(mt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Vn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qd(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",C_=!0;class D_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=C_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kS)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new gA;switch(s.type){case"firstParty":return new vA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=b_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),b_.delete(i),s.terminate())}(this),Promise.resolve()}}function o2(r,e,i,s={}){var u;r=Vn(r,Rc);const h=hc(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;h&&(B_(`https://${v}`),j_("Firestore",!0)),d.host!==_0&&d.host!==v&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Xo(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=tn.MOCK_USER;else{A=RT(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new tn(D)}r._authCredentials=new pA(new lv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class ln{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Va extends uu{constructor(e,i,s){super(e,i,pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new mt(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function V_(r,e,...i){if(r=gn(r),y0("collection","path",e),r instanceof Rc){const s=le.fromString(e,...i);return w_(s),new Va(r,null,s)}{if(!(r instanceof ln||r instanceof Va))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return w_(s),new Va(r.firestore,null,s)}}function Sa(r,e,...i){if(r=gn(r),arguments.length===1&&(e=ov.newId()),y0("doc","path",e),r instanceof Rc){const s=le.fromString(e,...i);return R_(s),new ln(r,null,new mt(s))}{if(!(r instanceof ln||r instanceof Va))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return R_(s),new ln(r.firestore,r instanceof Va?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Wv(this,"async_queue_retry"),this.ec=()=>{const s=Bf();s&&rt(N_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Hi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Is(e))throw e;rt(N_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Qi("INTERNAL UNHANDLED ERROR: ",O_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=Ld.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&Tt(47125,{_c:O_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function O_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(r,["next","error","complete"])}class La extends Rc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new I_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function c2(r,e){const i=typeof r=="object"?r:X_(),s=typeof r=="string"?r:tc,u=F_(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=P_("firestore");h&&o2(u,...h)}return u}function ou(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||h2(r),r._firestoreClient}function h2(r){var e,i,s;const u=r._freezeSettings(),h=function(g,v,_,A){return new MA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,p0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new i2(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(Ke.fromBase64String(e))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ds(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=/^__.*__$/;class d2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class v0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Pa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function E0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{hc:r})}}class Kd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.dc(e),u}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return cc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(E0(this.hc)&&f2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class m2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}gc(e,i,s,u=!1){return new Kd({hc:e,methodName:i,fc:s,path:Ye.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new m2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function T0(r,e,i,s,u,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,u);$d("Data must be an object, but it was:",d,s);const g=b0(s,d);let v,_;if(h.merge)v=new Cn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const D=fd(e,C,i);if(!d.contains(D))throw new ot(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);w0(A,D)||A.push(D)}v=new Cn(A),_=d.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,_=d.fieldTransforms;return new d2(new dn(g),v,_)}class Cc extends wc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}class Zd extends wc{constructor(e,i){super(e),this.wc=i}_toFieldTransform(e){const i=new iu(e.serializer,Ov(e.serializer,this.wc));return new sS(e.path,i)}isEqual(e){return e instanceof Zd&&this.wc===e.wc}}function A0(r,e,i,s){const u=r.gc(1,e,i);$d("Data must be an object, but it was:",u,s);const h=[],d=dn.empty();za(s,(v,_)=>{const A=Jd(e,v,i);_=gn(_);const C=u.Ac(A);if(_ instanceof Cc)h.push(A);else{const D=Dc(_,C);D!=null&&(h.push(A),d.set(A,D))}});const g=new Cn(h);return new v0(d,g,u.fieldTransforms)}function S0(r,e,i,s,u,h){const d=r.gc(1,e,i),g=[fd(e,s,i)],v=[u];if(h.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(fd(e,h[D])),v.push(h[D+1]);const _=[],A=dn.empty();for(let D=g.length-1;D>=0;--D)if(!w0(_,g[D])){const j=g[D];let X=v[D];X=gn(X);const et=d.Ac(j);if(X instanceof Cc)_.push(j);else{const J=Dc(X,et);J!=null&&(_.push(j),A.set(j,J))}}const C=new Cn(_);return new v0(A,C,d.fieldTransforms)}function Dc(r,e){if(R0(r=gn(r)))return $d("Unsupported field value:",e,r),b0(r,e);if(r instanceof wc)return function(s,u){if(!E0(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let v=Dc(g,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,u){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ov(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ie.fromDate(s);return{timestampValue:rc(u.serializer,h)}}if(s instanceof Ie){const h=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rc(u.serializer,h)}}if(s instanceof Fd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ds)return{bytesValue:qv(u.serializer,s._byteString)};if(s instanceof ln){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Cd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Yd)return function(d,g){return{mapValue:{fields:{[yv]:{stringValue:_v},[ec]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return Sd(g.serializer,_)})}}}}}}(s,u);throw u.Vc(`Unsupported field value: ${Qd(s)}`)}(r,e)}function b0(r,e){const i={};return hv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(r,(s,u)=>{const h=Dc(u,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function R0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof Fd||r instanceof Ds||r instanceof ln||r instanceof wc||r instanceof Yd)}function $d(r,e,i){if(!R0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Qd(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function fd(r,e,i){if((e=gn(e))instanceof cu)return e._internalPath;if(typeof e=="string")return Jd(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const g2=new RegExp("[~\\*/\\[\\]]");function Jd(r,e,i){if(e.search(g2)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new cu(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new ot(Z.INVALID_ARGUMENT,g+r+v)}function w0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(D0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends C0{data(){return super.data()}}function D0(r,e){return typeof e=="string"?Jd(r,e):e instanceof cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y2{convertValue(e,i="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return za(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>pe(d.doubleValue));return new Yd(h)}convertGeoPoint(e){return new Fd(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=mc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new Ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);Ft(Kv(s),9688,{name:e});const u=new Wl(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return u.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I0 extends C0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(D0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Yo extends I0{data(e={}){return super.data(e)}}class O0{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Yo(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Yo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Hl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Yo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Hl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:_2(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function _2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){r=Vn(r,ln);const e=Vn(r.firestore,La);return s2(ou(e),r._key).then(i=>x0(e,r,i))}class Wd extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,i)}}function E2(r){r=Vn(r,uu);const e=Vn(r.firestore,La),i=ou(e),s=new Wd(e);return V0(r._query),l2(i,r._query).then(u=>new O0(e,s,r,u))}function T2(r,e,i){r=Vn(r,ln);const s=Vn(r.firestore,La),u=N0(r.converter,e,i);return tm(s,[T0(Xd(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,Dn.none())])}function qf(r,e,i,...s){r=Vn(r,ln);const u=Vn(r.firestore,La),h=Xd(u);let d;return d=typeof(e=gn(e))=="string"||e instanceof cu?S0(h,"updateDoc",r._key,e,i,s):A0(h,"updateDoc",r._key,e),tm(u,[d.toMutation(r._key,Dn.exists(!0))])}function M_(r,...e){var i,s,u;r=gn(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||x_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(x_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let v,_,A;if(r instanceof ln)_=Vn(r.firestore,La),A=pc(r._key.path),v={next:C=>{e[d]&&e[d](x0(_,r,C))},error:e[d+1],complete:e[d+2]};else{const C=Vn(r,uu);_=Vn(C.firestore,La),A=C._query;const D=new Wd(_);v={next:j=>{e[d]&&e[d](new O0(_,D,C,j))},error:e[d+1],complete:e[d+2]},V0(r._query)}return function(D,j,X,et){const J=new Gd(et),wt=new jd(j,J,X);return D.asyncQueue.enqueueAndForget(async()=>Pd(await oc(D),wt)),()=>{J.Cu(),D.asyncQueue.enqueueAndForget(async()=>kd(await oc(D),wt))}}(ou(_),A,g,v)}function tm(r,e){return function(s,u){const h=new Hi;return s.asyncQueue.enqueueAndForget(async()=>Kb(await r2(s),u,h)),h.promise}(ou(r),e)}function x0(r,e,i){const s=i.docs.get(e._key),u=new Wd(r);return new I0(r,u,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Xd(e)}set(e,i,s){this._verifyNotCommitted();const u=Hf(e,this._firestore),h=N0(u.converter,i,s),d=T0(this._dataReader,"WriteBatch.set",u._key,h,u.converter!==null,s);return this._mutations.push(d.toMutation(u._key,Dn.none())),this}update(e,i,s,...u){this._verifyNotCommitted();const h=Hf(e,this._firestore);let d;return d=typeof(i=gn(i))=="string"||i instanceof cu?S0(this._dataReader,"WriteBatch.update",h._key,i,s,u):A0(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Hf(e,this._firestore);return this._mutations=this._mutations.concat(new bd(i._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hf(r,e){if((r=gn(r)).firestore!==e)throw new ot(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Bo(r){return new Zd("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){return ou(r=Vn(r,La)),new A2(r,e=>tm(r,e))}(function(e,i=!0){(function(u){Vs=u})(M1),Xl(new Es("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new La(new yA(s.getProvider("auth-internal")),new EA(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Ca(Ly,zy,e),Ca(Ly,zy,"esm2017")})();const b2={apiKey:"AIzaSyBbk4SiSqWANAiet8EVvTrIC21aAWBvg",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"601661458034",appId:"1:601661458034:web:8134e270349f9a0b3a3c97"},R2=K_(b2),Xn=c2(R2),w2=cA(void 0,"asia-northeast3"),C2=fA(w2,"sendAttendanceNotifications");async function U_(r,e,i={}){const s=e.parentPhone??"",u=String(s).replace(/\D/g,"");if(!u){console.warn("     :",e.name);return}if(!/^0\d{9,10}$/.test(u)){console.warn("   :",e.name,s);return}const h={kind:r,studentName:e.name,parentPhone:u,classTitle:e.classTitle??"",classTime:i.scheduleTime,timeText:i.timeText,sendBoth:!0};try{await C2(h)}catch(d){console.error("Bizppurio  :",d)}}console.log(" App.jsx v2 ");function jo(r){const e=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${i}-${s}`}function D2(){const[r,e]=se.useState([]),[i,s]=se.useState({}),[u,h]=se.useState([]),[d,g]=se.useState("attendance"),[v,_]=se.useState({}),[A,C]=se.useState(""),[D,j]=se.useState(()=>localStorage.getItem("authenticated")==="true"),[X,et]=se.useState(new Date),[J,wt]=se.useState(0),[dt,gt]=se.useState(null),[Lt,Rt]=se.useState(!1),[zt,O]=se.useState(0),[S,w]=se.useState({winnerId:null,candidateId:null}),[I,x]=se.useState([]),U=["","","","",""],R=se.useMemo(()=>{const $=new Date;return $.setDate($.getDate()+zt),jo($)},[zt]),be=jo(new Date),ie=R===be,H=Object.keys(i).length,nt=X.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});[...r].sort(($,Et)=>$.name.localeCompare(Et.name));const Ut=["","","","","","",""][new Date(R).getDay()];se.useEffect(()=>{window.location.hostname==="localhost"&&(j(!0),localStorage.setItem("authenticated","true"))},[]),se.useEffect(()=>{const $=Et=>{Et.key==="/"&&Et.preventDefault()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[]),se.useEffect(()=>{(async()=>{const _t=(await E2(V_(Xn,"students"))).docs.map(st=>({id:st.id,...st.data()})),ut=S2(Xn);_t.forEach(st=>{if(typeof st.points=="number"){const Yt={:st.points,:0,:0,:0,:0};ut.set(Sa(Xn,"students",st.id),{points:Yt},{merge:!0}),st.points=Yt}else U.forEach(Yt=>{(!st.points||st.points[Yt]===void 0)&&(st.points||(st.points={}),st.points[Yt]=0)});st.availablePoints===void 0&&(st.availablePoints=0,ut.update(Sa(Xn,"students",st.id),{availablePoints:0}))}),await ut.commit(),e(_t)})()},[]),se.useEffect(()=>{const $=Sa(Xn,"attendance",R),Et=M_($,_t=>{s(_t.exists()?_t.data():{})});return()=>Et()},[R]),se.useEffect(()=>{const $=M_(V_(Xn,"schedule_changes"),Et=>{const _t=Et.docs.map(ut=>({id:ut.id,...ut.data()}));x(_t)});return()=>$()},[]),se.useEffect(()=>{(async()=>{const Et=jo(new Date),_t=Sa(Xn,"dailyLucky",Et),ut=await v2(_t);if(ut.exists()){const st=ut.data();gt(st.name),w(st)}})()},[]),se.useEffect(()=>{const $=setInterval(()=>et(new Date),1e4);return()=>clearInterval($)},[]);const V=($,Et)=>{const ut=I.filter(st=>st.studentId===$).filter(st=>st.effectiveDate<=Et);if(ut.length===0){const st=r.find(Yt=>Yt.id===$);return(st==null?void 0:st.schedules)||[]}return ut.sort((st,Yt)=>Yt.effectiveDate.localeCompare(st.effectiveDate)),ut[0].schedules},K=()=>{const $={},Et=R;return r.forEach(_t=>{if(_t.active===!1||_t.pauseDate&&_t.pauseDate<=Et)return;V(_t.id,Et).forEach(({day:st,time:Yt})=>{st===Ut&&($[Yt]||($[Yt]=[]),$[Yt].push(_t))})}),$},it=se.useMemo(()=>K(),[r,I,R,Ut]),W=async($,Et)=>{var st,Yt;const _t=jo(new Date),ut=i[$.name];if(!ut){if(prompt(`${$.name}   4  (: 1225)`)!==((st=$.birth)==null?void 0:st.slice(-4))){alert("  .");return}const Xe=new Date,pn=Xe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),[_e,Yi]=Et.split(":"),un=new Date;un.setHours(+_e,+Yi,0);const Be=(Xe-un)/6e4>15?"tardy":"onTime";await T2(Sa(Xn,"attendance",_t),{[$.name]:{time:pn,status:Be,studentId:$.id}},{merge:!0}),s(Zn=>({...Zn,[$.name]:{time:pn,status:Be,studentId:$.id}})),await qf(Sa(Xn,"students",$.id),{"points.":Bo(1),availablePoints:Bo(1)}),e(Zn=>Zn.map(yn=>{var Ki;return yn.id===$.id?{...yn,points:{...yn.points,:(((Ki=yn.points)==null?void 0:Ki.)||0)+1},availablePoints:(yn.availablePoints||0)+1}:yn})),await U_("checkin",$,{scheduleTime:Et,timeText:pn}),alert(` ${$.name}  ! (+1pt)`);return}if(ut.time&&!ut.departureTime){const ke=new Date,[Xe,pn]=Et.split(":"),_e=new Date;if(_e.setHours(+Xe,+pn,0),ke-_e<30*60*1e3){alert("    30  !");return}if(prompt(`${$.name}   4  (: 1225)`)!==((Yt=$.birth)==null?void 0:Yt.slice(-4))){alert(" .");return}const un=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});await qf(Sa(Xn,"attendance",_t),{[`${$.name}.departureTime`]:un,[`${$.name}.studentId`]:$.id}),await qf(Sa(Xn,"students",$.id),{"points.":Bo(1),availablePoints:Bo(1)}),e(Nn=>Nn.map(Be=>{var Zn;return Be.id===$.id?{...Be,points:{...Be.points,:(((Zn=Be.points)==null?void 0:Zn.)||0)+1},availablePoints:(Be.availablePoints||0)+1}:Be})),s(Nn=>({...Nn,[$.name]:{...Nn[$.name],departureTime:un}})),await U_("checkout",$,{scheduleTime:Et,timeText:un}),alert(` ${$.name}  ! (+1pt)`);return}},ft=()=>{A==="1234"?(j(!0),localStorage.setItem("authenticated","true")):alert(" .")},Dt=()=>{j(!1),localStorage.removeItem("authenticated")},yt=$=>U.reduce((Et,_t)=>Et+(($==null?void 0:$[_t])||0),0),ye=$=>{const Et=r.map(ut=>{var st;return{name:ut.name,value:((st=ut.points)==null?void 0:st[$])||0}});return[...new Set(Et.map(ut=>ut.value))].sort((ut,st)=>st-ut).slice(0,5).map(ut=>({value:ut,names:Et.filter(st=>st.value===ut).map(st=>st.name)}))};return D?at.jsxs(at.Fragment,{children:[Lt&&at.jsxs("div",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white text-2xl font-bold px-6 py-3 rounded shadow-lg z-50 animate-bounce",children:[" Lucky!!! ",dt," 2pt!"]}),at.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-700 bg-blue-100 px-4 py-2 rounded mb-4",children:[at.jsx("span",{children:""}),at.jsxs("div",{children:[at.jsx("div",{children:" 4  !"}),at.jsx("div",{children:" Lucky 2pt 10~5!  0pt"})]})]}),at.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[at.jsxs("div",{className:"max-w-5xl mx-auto flex space-x-4 mb-6",children:[at.jsx("button",{className:`px-4 py-2 rounded ${d==="attendance"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>g("attendance"),children:" "}),at.jsx("button",{onClick:()=>g("ranking"),className:`px-4 py-2 rounded ${d==="ranking"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:" "})]}),d==="attendance"&&at.jsxs(at.Fragment,{children:[at.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[at.jsxs("div",{children:[at.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-700",children:["   - ",Ut,""]}),at.jsxs("div",{className:"text-gray-600",children:[" ",R," /  ",nt," /   : ",H]}),at.jsxs("div",{className:"text-center text-lg text-yellow-600 font-bold mb-4",children:["  Lucky :"," ",dt?`${dt}`:" "]})]}),at.jsxs("div",{className:"flex items-center space-x-2",children:[at.jsx("button",{onClick:()=>O($=>$-1),className:"bg-gray-300 px-2 py-1 rounded",children:""}),at.jsx("div",{className:"text-gray-700 font-semibold",children:R}),at.jsx("button",{onClick:()=>O($=>$+1),className:"bg-gray-300 px-2 py-1 rounded",children:""})]}),at.jsx("button",{onClick:Dt,className:"bg-red-400 text-white px-4 py-2 rounded",children:""})]}),Object.keys(it).sort().map($=>at.jsxs("div",{className:"max-w-5xl mx-auto mb-6 bg-white p-4 rounded-lg shadow-md",children:[at.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 text-gray-800",children:[$," "]}),at.jsx("div",{className:"grid grid-cols-6 gap-4",children:it[$].map(Et=>{const _t=i[Et.name],ut=!!_t,st=!!(_t!=null&&_t.departureTime),[Yt,ke]=$.split(":"),Xe=new Date(X);Xe.setHours(+Yt,+ke,0,0);const pn=(X-Xe)/6e4,_e=(_t==null?void 0:_t.status)==="tardy"||(_t==null?void 0:_t.status)==="late",Yi=ut?_e?"attended-late":"attended":pn>=20?"pending-overdue":pn>5?"pending-warn":"";return at.jsxs("div",{className:`
                            relative card
                            ${Yi}
                            ${st?"border-4 border-blue-700 ring-4 ring-blue-300 ring-offset-2 ring-offset-white":""}
                            ${ie?st?"cursor-not-allowed pointer-events-none":"cursor-pointer hover:shadow-lg":"cursor-not-allowed pointer-events-none"}
                            touch-manipulation
                          `,onContextMenu:un=>un.preventDefault(),onPointerUp:()=>W(Et,$),children:[Et.name===dt&&at.jsx("div",{className:"text-3xl text-yellow-500 text-center mb-1",children:""}),at.jsxs("div",{className:"text-right text-xs font-semibold text-gray-700 leading-none mb-1",children:[" ",yt(Et.points),"pt",at.jsx("br",{}),at.jsxs("span",{className:"text-green-600",children:[""," ",Et.availablePoints??yt(Et.points),"pt"]})]}),at.jsx("p",{className:"name m-0 leading-none mb-1",children:Et.name}),ut&&at.jsxs("div",{className:"time-text m-0 leading-none mt-1 text-sm",children:[at.jsx("div",{children:_e?" ":" "}),at.jsxs("div",{children:[": ",_t.time]}),_t.departureTime&&at.jsxs("div",{children:[": ",_t.departureTime]})]})]},Et.id)})})]},$))]}),d==="ranking"&&at.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[at.jsx("h2",{className:"text-xl font-semibold mb-4",children:"   ()"}),U.map($=>{const Et=ye($);return at.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto mb-6",children:[at.jsxs("div",{className:"text-lg font-semibold mb-2",children:[$," TOP 5"]}),at.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[at.jsx("thead",{className:"bg-gray-50",children:at.jsxs("tr",{className:"sticky top-0",children:[at.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),at.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),at.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:""})]})}),at.jsx("tbody",{className:"divide-y divide-gray-100",children:Et.map((_t,ut)=>{const Yt=_t.names.slice(0,3),ke=_t.names.length-3;return at.jsxs("tr",{className:ut===0?"bg-blue-50":"",children:[at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[ut+1,""]}),at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[Yt.join(", "),ke>0&&`  ${ke}`]}),at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[_t.value,"pt"]})]},`${$}-${ut}`)})})]})]},$)}),at.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md overflow-x-auto",children:[at.jsx("div",{className:"text-lg font-semibold mb-2",children:"  TOP 5"}),at.jsxs("table",{className:"w-full table-auto border border-gray-200 rounded-lg overflow-hidden",children:[at.jsx("thead",{className:"bg-gray-50",children:at.jsxs("tr",{className:"sticky top-0",children:[at.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),at.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:""}),at.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold",children:""})]})}),at.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const $=r.map(ut=>({name:ut.name,value:yt(ut.points)}));return[...new Set($.map(ut=>ut.value))].sort((ut,st)=>st-ut).slice(0,5).map(ut=>({value:ut,names:$.filter(st=>st.value===ut).map(st=>st.name)})).map((ut,st)=>{const ke=ut.names.slice(0,3),Xe=ut.names.length-3;return at.jsxs("tr",{className:st===0?"bg-blue-50":"",children:[at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold",children:[st+1,""]}),at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[ke.join(", "),Xe>0&&`  ${Xe}`]}),at.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-right text-gray-600",children:[ut.value,"pt"]})]},`total-${st}`)})})()})]})]})]})]})]}):at.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:at.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[at.jsx("input",{type:"password",placeholder:"  ",className:"border p-2 mr-2",value:A,onChange:$=>C($.target.value)}),at.jsx("button",{onClick:ft,className:"bg-blue-500 text-white px-4 py-2 rounded",children:""})]})})}dT.createRoot(document.getElementById("root")).render(at.jsx(se.StrictMode,{children:at.jsx(D2,{})}));
